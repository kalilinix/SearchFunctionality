/*!
 * jQuery JavaScript Library v3.5.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2020-05-04T22:49Z
 */
function tableToGrid(n,t){jQuery(n).each(function(){if(!this.grid){jQuery(this).width("99%");var n=jQuery(this).width(),u=jQuery("tr td:first-child input[type=checkbox]:first",jQuery(this)),i=jQuery("tr td:first-child input[type=radio]:first",jQuery(this)),u=0<u.length,i=!u&&0<i.length,h=u||i,r=[],e=[];jQuery("th",jQuery(this)).each(function(){0===r.length&&h?(r.push({name:"__selection__",index:"__selection__",width:0,hidden:!0}),e.push("__selection__")):(r.push({name:jQuery(this).attr("id")||jQuery.trim(jQuery.jgrid.stripHtml(jQuery(this).html())).split(" ").join("_"),index:jQuery(this).attr("id")||jQuery.trim(jQuery.jgrid.stripHtml(jQuery(this).html())).split(" ").join("_"),width:jQuery(this).width()||150}),e.push(jQuery(this).html()))});var f=[],o=[],s=[];for(jQuery("tbody > tr",jQuery(this)).each(function(){var t={},n=0;jQuery("td",jQuery(this)).each(function(){if(0===n&&h){var i=jQuery("input",jQuery(this)),u=i.attr("value");o.push(u||f.length);i.is(":checked")&&s.push(u);t[r[n].name]=i.attr("value")}else t[r[n].name]=jQuery(this).html();n++});0<n&&f.push(t)}),jQuery(this).empty(),jQuery(this).addClass("scroll"),jQuery(this).jqGrid(jQuery.extend({datatype:"local",width:n,colNames:e,colModel:r,multiselect:u},t||{})),n=0;n<f.length;n++)i=null,0<o.length&&(i=o[n])&&i.replace&&(i=encodeURIComponent(i).replace(/[.\-%]/g,"_")),null===i&&(i=n+1),jQuery(this).jqGrid("addRowData",i,f[n]);for(n=0;n<s.length;n++)jQuery(this).jqGrid("setSelection",s[n])}})}function tableToGrid(n,t){jQuery(n).each(function(){if(!this.grid){jQuery(this).width("99%");var n=jQuery(this).width(),u=jQuery("tr td:first-child input[type=checkbox]:first",jQuery(this)),i=jQuery("tr td:first-child input[type=radio]:first",jQuery(this)),u=0<u.length,i=!u&&0<i.length,h=u||i,r=[],e=[];jQuery("th",jQuery(this)).each(function(){0===r.length&&h?(r.push({name:"__selection__",index:"__selection__",width:0,hidden:!0}),e.push("__selection__")):(r.push({name:jQuery(this).attr("id")||jQuery.trim(jQuery.jgrid.stripHtml(jQuery(this).html())).split(" ").join("_"),index:jQuery(this).attr("id")||jQuery.trim(jQuery.jgrid.stripHtml(jQuery(this).html())).split(" ").join("_"),width:jQuery(this).width()||150}),e.push(jQuery(this).html()))});var f=[],o=[],s=[];for(jQuery("tbody > tr",jQuery(this)).each(function(){var t={},n=0;jQuery("td",jQuery(this)).each(function(){if(0===n&&h){var i=jQuery("input",jQuery(this)),u=i.attr("value");o.push(u||f.length);i.is(":checked")&&s.push(u);t[r[n].name]=i.attr("value")}else t[r[n].name]=jQuery(this).html();n++});0<n&&f.push(t)}),jQuery(this).empty(),jQuery(this).addClass("scroll"),jQuery(this).jqGrid(jQuery.extend({datatype:"local",width:n,colNames:e,colModel:r,multiselect:u},t||{})),n=0;n<f.length;n++)i=null,0<o.length&&(i=o[n])&&i.replace&&(i=encodeURIComponent(i).replace(/[.\-%]/g,"_")),null===i&&(i=n+1),jQuery(this).jqGrid("addRowData",i,f[n]);for(n=0;n<s.length;n++)jQuery(this).jqGrid("setSelection",s[n])}})}var xmlJsonClass;(function(n,t){"use strict";typeof module=="object"&&typeof module.exports=="object"?module.exports=n.document?t(n,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return t(n)}:t(n)})(typeof window!="undefined"?window:this,function(n,t){"use strict";function yr(n,t,i){i=i||f;var r,e,u=i.createElement("script");if(u.text=n,t)for(r in re)e=t[r]||t.getAttribute&&t.getAttribute(r),e&&u.setAttribute(r,e);i.head.appendChild(u).parentNode.removeChild(u)}function rt(n){return n==null?n+"":typeof n=="object"||typeof n=="function"?ti[ar.call(n)]||"object":typeof n}function ai(n){var t=!!n&&"length"in n&&n.length,i=rt(n);return u(n)||it(n)?!1:i==="array"||t===0||typeof t=="number"&&t>0&&t-1 in n}function l(n,t){return n.nodeName&&n.nodeName.toLowerCase()===t.toLowerCase()}function yi(n,t,r){return u(t)?i.grep(n,function(n,i){return!!t.call(n,i,n)!==r}):t.nodeType?i.grep(n,function(n){return n===t!==r}):typeof t!="string"?i.grep(n,function(n){return ni.call(t,n)>-1!==r}):i.filter(t,n,r)}function iu(n,t){while((n=n[t])&&n.nodeType!==1);return n}function ue(n){var t={};return i.each(n.match(a)||[],function(n,i){t[i]=!0}),t}function ft(n){return n}function ri(n){throw n;}function ru(n,t,i,r){var f;try{n&&u(f=n.promise)?f.call(n).done(t).fail(i):n&&u(f=n.then)?f.call(n,t,i):t.apply(undefined,[n].slice(r))}catch(n){i.apply(undefined,[n])}}function fi(){f.removeEventListener("DOMContentLoaded",fi);n.removeEventListener("load",fi);i.ready()}function oe(n,t){return t.toUpperCase()}function y(n){return n.replace(fe,"ms-").replace(ee,oe)}function pt(){this.expando=i.expando+pt.uid++}function ce(n){return n==="true"?!0:n==="false"?!1:n==="null"?null:n===+n+""?+n:se.test(n)?JSON.parse(n):n}function fu(n,t,i){var r;if(i===undefined&&n.nodeType===1)if(r="data-"+t.replace(he,"-$&").toLowerCase(),i=n.getAttribute(r),typeof i=="string"){try{i=ce(i)}catch(u){}o.set(n,t,i)}else i=undefined;return i}function ou(n,t,r,u){var s,h,c=20,l=u?function(){return u.cur()}:function(){return i.css(n,t,"")},o=l(),e=r&&r[3]||(i.cssNumber[t]?"":"px"),f=n.nodeType&&(i.cssNumber[t]||e!=="px"&&+o)&&wt.exec(i.css(n,t));if(f&&f[3]!==e){for(o=o/2,e=e||f[3],f=+o||1;c--;)i.style(n,t,f+e),(1-h)*(1-(h=l()/o||.5))<=0&&(c=0),f=f/h;f=f*2;i.style(n,t,f+e);r=r||[]}return r&&(f=+f||+o||0,s=r[1]?f+(r[1]+1)*r[2]:+r[2],u&&(u.unit=e,u.start=f,u.end=s)),s}function ae(n){var r,f=n.ownerDocument,u=n.nodeName,t=pi[u];return t?t:(r=f.body.appendChild(f.createElement(u)),t=i.css(r,"display"),r.parentNode.removeChild(r),t==="none"&&(t="block"),pi[u]=t,t)}function st(n,t){for(var e,u,f=[],i=0,o=n.length;i<o;i++)(u=n[i],u.style)&&(e=u.style.display,t?(e==="none"&&(f[i]=r.get(u,"display")||null,f[i]||(u.style.display="")),u.style.display===""&&bt(u)&&(f[i]=ae(u))):e!=="none"&&(f[i]="none",r.set(u,"display",e)));for(i=0;i<o;i++)f[i]!=null&&(n[i].style.display=f[i]);return n}function s(n,t){var r;return(r=typeof n.getElementsByTagName!="undefined"?n.getElementsByTagName(t||"*"):typeof n.querySelectorAll!="undefined"?n.querySelectorAll(t||"*"):[],t===undefined||t&&l(n,t))?i.merge([n],r):r}function wi(n,t){for(var i=0,u=n.length;i<u;i++)r.set(n[i],"globalEval",!t||r.get(t[i],"globalEval"))}function lu(n,t,r,u,f){for(var e,o,p,a,w,v,h=t.createDocumentFragment(),y=[],l=0,b=n.length;l<b;l++)if(e=n[l],e||e===0)if(rt(e)==="object")i.merge(y,e.nodeType?[e]:e);else if(cu.test(e)){for(o=o||h.appendChild(t.createElement("div")),p=(su.exec(e)||["",""])[1].toLowerCase(),a=c[p]||c._default,o.innerHTML=a[1]+i.htmlPrefilter(e)+a[2],v=a[0];v--;)o=o.lastChild;i.merge(y,o.childNodes);o=h.firstChild;o.textContent=""}else y.push(t.createTextNode(e));for(h.textContent="",l=0;e=y[l++];){if(u&&i.inArray(e,u)>-1){f&&f.push(e);continue}if(w=ot(e),o=s(h.appendChild(e),"script"),w&&wi(o),r)for(v=0;e=o[v++];)hu.test(e.type||"")&&r.push(e)}return h}function ht(){return!0}function ct(){return!1}function pe(n,t){return n===we()==(t==="focus")}function we(){try{return f.activeElement}catch(n){}}function bi(n,t,r,u,f,e){var o,s;if(typeof t=="object"){typeof r!="string"&&(u=u||r,r=undefined);for(s in t)bi(n,s,r,u,t[s],e);return n}if(u==null&&f==null?(f=r,u=r=undefined):f==null&&(typeof r=="string"?(f=u,u=undefined):(f=u,u=r,r=undefined)),f===!1)f=ct;else if(!f)return n;return e===1&&(o=f,f=function(n){return i().off(n),o.apply(this,arguments)},f.guid=o.guid||(o.guid=i.guid++)),n.each(function(){i.event.add(this,t,f,u,r)})}function ei(n,t,u){if(!u){r.get(n,t)===undefined&&i.event.add(n,t,ht);return}r.set(n,t,!1);i.event.add(n,t,{namespace:!1,handler:function(n){var o,e,f=r.get(this,t);if(n.isTrigger&1&&this[t]){if(f.length)(i.event.special[t]||{}).delegateType&&n.stopPropagation();else if(f=k.call(arguments),r.set(this,t,f),o=u(this,t),this[t](),e=r.get(this,t),f!==e||o?r.set(this,t,!1):e={},f!==e)return n.stopImmediatePropagation(),n.preventDefault(),e.value}else f.length&&(r.set(this,t,{value:i.event.trigger(i.extend(f[0],i.Event.prototype),f.slice(1),this)}),n.stopImmediatePropagation())}})}function vu(n,t){return l(n,"table")&&l(t.nodeType!==11?t:t.firstChild,"tr")?i(n).children("tbody")[0]||n:n}function ge(n){return n.type=(n.getAttribute("type")!==null)+"/"+n.type,n}function no(n){return(n.type||"").slice(0,5)==="true/"?n.type=n.type.slice(5):n.removeAttribute("type"),n}function yu(n,t){var f,s,e,h,c,l,u;if(t.nodeType===1){if(r.hasData(n)&&(h=r.get(n),u=h.events,u)){r.remove(t,"handle events");for(e in u)for(f=0,s=u[e].length;f<s;f++)i.event.add(t,e,u[e][f])}o.hasData(n)&&(c=o.access(n),l=i.extend({},c),o.set(t,l))}}function to(n,t){var i=t.nodeName.toLowerCase();i==="input"&&kt.test(n.type)?t.checked=n.checked:(i==="input"||i==="textarea")&&(t.defaultValue=n.defaultValue)}function lt(n,t,f,o){t=lr(t);var a,b,l,v,h,y,c=0,p=n.length,d=p-1,w=t[0],k=u(w);if(k||p>1&&typeof w=="string"&&!e.checkClone&&ke.test(w))return n.each(function(i){var r=n.eq(i);k&&(t[0]=w.call(this,i,r.html()));lt(r,t,f,o)});if(p&&(a=lu(t,n[0].ownerDocument,!1,n,o),b=a.firstChild,a.childNodes.length===1&&(a=b),b||o)){for(l=i.map(s(a,"script"),ge),v=l.length;c<p;c++)h=a,c!==d&&(h=i.clone(h,!0,!0),v&&i.merge(l,s(h,"script"))),f.call(n[c],h,c);if(v)for(y=l[l.length-1].ownerDocument,i.map(l,no),c=0;c<v;c++)h=l[c],hu.test(h.type||"")&&!r.access(h,"globalEval")&&i.contains(y,h)&&(h.src&&(h.type||"").toLowerCase()!=="module"?i._evalUrl&&!h.noModule&&i._evalUrl(h.src,{nonce:h.nonce||h.getAttribute("nonce")},y):yr(h.textContent.replace(de,""),h,y))}return n}function pu(n,t,r){for(var u,e=t?i.filter(t,n):n,f=0;(u=e[f])!=null;f++)r||u.nodeType!==1||i.cleanData(s(u)),u.parentNode&&(r&&ot(u)&&wi(s(u,"script")),u.parentNode.removeChild(u));return n}function dt(n,t,r){var o,s,h,u,f=n.style;return r=r||oi(n),r&&(u=r.getPropertyValue(t)||r[t],u!==""||ot(n)||(u=i.style(n,t)),!e.pixelBoxStyles()&&ki.test(u)&&io.test(t)&&(o=f.width,s=f.minWidth,h=f.maxWidth,f.minWidth=f.maxWidth=f.width=u,u=r.width,f.width=o,f.minWidth=s,f.maxWidth=h)),u!==undefined?u+"":u}function bu(n,t){return{get:function(){if(n()){delete this.get;return}return(this.get=t).apply(this,arguments)}}}function ro(n){for(var i=n[0].toUpperCase()+n.slice(1),t=ku.length;t--;)if(n=ku[t]+i,n in du)return n}function di(n){var t=i.cssProps[n]||gu[n];return t?t:n in du?n:gu[n]=ro(n)||n}function rf(n,t,i){var r=wt.exec(t);return r?Math.max(0,r[2]-(i||0))+(r[3]||"px"):t}function gi(n,t,r,u,f,e){var o=t==="width"?1:0,h=0,s=0;if(r===(u?"border":"content"))return 0;for(;o<4;o+=2)r==="margin"&&(s+=i.css(n,r+b[o],!0,f)),u?(r==="content"&&(s-=i.css(n,"padding"+b[o],!0,f)),r!=="margin"&&(s-=i.css(n,"border"+b[o]+"Width",!0,f))):(s+=i.css(n,"padding"+b[o],!0,f),r!=="padding"?s+=i.css(n,"border"+b[o]+"Width",!0,f):h+=i.css(n,"border"+b[o]+"Width",!0,f));return!u&&e>=0&&(s+=Math.max(0,Math.ceil(n["offset"+t[0].toUpperCase()+t.slice(1)]-e-s-h-.5))||0),s}function uf(n,t,r){var f=oi(n),c=!e.boxSizingReliable()||r,o=c&&i.css(n,"boxSizing",!1,f)==="border-box",s=o,u=dt(n,t,f),h="offset"+t[0].toUpperCase()+t.slice(1);if(ki.test(u)){if(!r)return u;u="auto"}return(!e.boxSizingReliable()&&o||!e.reliableTrDimensions()&&l(n,"tr")||u==="auto"||!parseFloat(u)&&i.css(n,"display",!1,f)==="inline")&&n.getClientRects().length&&(o=i.css(n,"boxSizing",!1,f)==="border-box",s=h in n,s&&(u=n[h])),u=parseFloat(u)||0,u+gi(n,t,r||(o?"border":"content"),s,f,u)+"px"}function h(n,t,i,r,u){return new h.prototype.init(n,t,i,r,u)}function nr(){si&&(f.hidden===!1&&n.requestAnimationFrame?n.requestAnimationFrame(nr):n.setTimeout(nr,i.fx.interval),i.fx.tick())}function of(){return n.setTimeout(function(){at=undefined}),at=Date.now()}function hi(n,t){var r,u=0,i={height:n};for(t=t?1:0;u<4;u+=2-t)r=b[u],i["margin"+r]=i["padding"+r]=n;return t&&(i.opacity=i.width=n),i}function sf(n,t,i){for(var u,f=(v.tweeners[t]||[]).concat(v.tweeners["*"]),r=0,e=f.length;r<e;r++)if(u=f[r].call(i,t,n))return u}function eo(n,t,u){var f,y,w,c,b,s,o,l,k="width"in t||"height"in t,v=this,p={},h=n.style,a=n.nodeType&&bt(n),e=r.get(n,"fxshow");u.queue||(c=i._queueHooks(n,"fx"),c.unqueued==null&&(c.unqueued=0,b=c.empty.fire,c.empty.fire=function(){c.unqueued||b()}),c.unqueued++,v.always(function(){v.always(function(){c.unqueued--;i.queue(n,"fx").length||c.empty.fire()})}));for(f in t)if(y=t[f],ff.test(y)){if(delete t[f],w=w||y==="toggle",y===(a?"hide":"show"))if(y==="show"&&e&&e[f]!==undefined)a=!0;else continue;p[f]=e&&e[f]||i.style(n,f)}if(s=!i.isEmptyObject(t),s||!i.isEmptyObject(p)){k&&n.nodeType===1&&(u.overflow=[h.overflow,h.overflowX,h.overflowY],o=e&&e.display,o==null&&(o=r.get(n,"display")),l=i.css(n,"display"),l==="none"&&(o?l=o:(st([n],!0),o=n.style.display||o,l=i.css(n,"display"),st([n]))),(l==="inline"||l==="inline-block"&&o!=null)&&i.css(n,"float")==="none"&&(s||(v.done(function(){h.display=o}),o==null&&(l=h.display,o=l==="none"?"":l)),h.display="inline-block"));u.overflow&&(h.overflow="hidden",v.always(function(){h.overflow=u.overflow[0];h.overflowX=u.overflow[1];h.overflowY=u.overflow[2]}));s=!1;for(f in p)s||(e?"hidden"in e&&(a=e.hidden):e=r.access(n,"fxshow",{display:o}),w&&(e.hidden=!a),a&&st([n],!0),v.done(function(){a||st([n]);r.remove(n,"fxshow");for(f in p)i.style(n,f,p[f])})),s=sf(a?e[f]:0,f,v),f in e||(e[f]=s.start,a&&(s.end=s.start,s.start=0))}}function oo(n,t){var r,f,e,u,o;for(r in n)if(f=y(r),e=t[f],u=n[r],Array.isArray(u)&&(e=u[1],u=n[r]=u[0]),r!==f&&(n[f]=u,delete n[r]),o=i.cssHooks[f],o&&"expand"in o){u=o.expand(u);delete n[f];for(r in u)r in n||(n[r]=u[r],t[r]=e)}else t[f]=e}function v(n,t,r){var o,s,h=0,a=v.prefilters.length,e=i.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var o=at||of(),t=Math.max(0,f.startTime+f.duration-o),h=t/f.duration||0,i=1-h,r=0,u=f.tweens.length;r<u;r++)f.tweens[r].run(i);return(e.notifyWith(n,[f,i,t]),i<1&&u)?t:(u||e.notifyWith(n,[f,1,0]),e.resolveWith(n,[f]),!1)},f=e.promise({elem:n,props:i.extend({},t),opts:i.extend(!0,{specialEasing:{},easing:i.easing._default},r),originalProperties:t,originalOptions:r,startTime:at||of(),duration:r.duration,tweens:[],createTween:function(t,r){var u=i.Tween(n,f.opts,t,r,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(u),u},stop:function(t){var i=0,r=t?f.tweens.length:0;if(s)return this;for(s=!0;i<r;i++)f.tweens[i].run(1);return t?(e.notifyWith(n,[f,1,0]),e.resolveWith(n,[f,t])):e.rejectWith(n,[f,t]),this}}),c=f.props;for(oo(c,f.opts.specialEasing);h<a;h++)if(o=v.prefilters[h].call(f,n,c,f.opts),o)return u(o.stop)&&(i._queueHooks(f.elem,f.opts.queue).stop=o.stop.bind(o)),o;return i.map(c,sf,f),u(f.opts.start)&&f.opts.start.call(n,f),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always),i.fx.timer(i.extend(l,{elem:n,anim:f,queue:f.opts.queue})),f}function nt(n){var t=n.match(a)||[];return t.join(" ")}function tt(n){return n.getAttribute&&n.getAttribute("class")||""}function tr(n){return Array.isArray(n)?n:typeof n=="string"?n.match(a)||[]:[]}function fr(n,t,r,u){var f;if(Array.isArray(t))i.each(t,function(t,i){r||so.test(n)?u(n,i):fr(n+"["+(typeof i=="object"&&i!=null?t:"")+"]",i,r,u)});else if(r||rt(t)!=="object")u(n,t);else for(f in t)fr(n+"["+f+"]",t[f],r,u)}function bf(n){return function(t,i){typeof t!="string"&&(i=t,t="*");var r,f=0,e=t.toLowerCase().match(a)||[];if(u(i))while(r=e[f++])r[0]==="+"?(r=r.slice(1)||"*",(n[r]=n[r]||[]).unshift(i)):(n[r]=n[r]||[]).push(i)}}function kf(n,t,r,u){function e(s){var h;return f[s]=!0,i.each(n[s]||[],function(n,i){var s=i(t,r,u);if(typeof s!="string"||o||f[s]){if(o)return!(h=s)}else return t.dataTypes.unshift(s),e(s),!1}),h}var f={},o=n===er;return e(t.dataTypes[0])||!f["*"]&&e("*")}function sr(n,t){var r,u,f=i.ajaxSettings.flatOptions||{};for(r in t)t[r]!==undefined&&((f[r]?n:u||(u={}))[r]=t[r]);return u&&i.extend(!0,n,u),n}function bo(n,t,i){for(var e,u,f,o,s=n.contents,r=n.dataTypes;r[0]==="*";)r.shift(),e===undefined&&(e=n.mimeType||t.getResponseHeader("Content-Type"));if(e)for(u in s)if(s[u]&&s[u].test(e)){r.unshift(u);break}if(r[0]in i)f=r[0];else{for(u in i){if(!r[0]||n.converters[u+" "+r[0]]){f=u;break}o||(o=u)}f=f||o}if(f)return f!==r[0]&&r.unshift(f),i[f]}function ko(n,t,i,r){var h,u,f,s,e,o={},c=n.dataTypes.slice();if(c[1])for(f in n.converters)o[f.toLowerCase()]=n.converters[f];for(u=c.shift();u;)if(n.responseFields[u]&&(i[n.responseFields[u]]=t),!e&&r&&n.dataFilter&&(t=n.dataFilter(t,n.dataType)),e=u,u=c.shift(),u)if(u==="*")u=e;else if(e!=="*"&&e!==u){if(f=o[e+" "+u]||o["* "+u],!f)for(h in o)if(s=h.split(" "),s[1]===u&&(f=o[e+" "+s[0]]||o["* "+s[0]],f)){f===!0?f=o[h]:o[h]!==!0&&(u=s[0],c.unshift(s[1]));break}if(f!==!0)if(f&&n.throws)t=f(t);else try{t=f(t)}catch(l){return{state:"parsererror",error:f?l:"No conversion from "+e+" to "+u}}}return{state:"success",data:t}}var p=[],cr=Object.getPrototypeOf,k=p.slice,lr=p.flat?function(n){return p.flat.call(n)}:function(n){return p.concat.apply([],n)},li=p.push,ni=p.indexOf,ti={},ar=ti.toString,ii=ti.hasOwnProperty,vr=ii.toString,ie=vr.call(Object),e={},u=function(n){return typeof n=="function"&&typeof n.nodeType!="number"},it=function(n){return n!=null&&n===n.window},f=n.document,re={type:!0,src:!0,nonce:!0,noModule:!0},pr="3.5.1",i=function(n,t){return new i.fn.init(n,t)},d,vi,kr,dr,gr,nu,tu,a,uu,ui,et,bt,pi,c,cu,at,si,ff,ef,hf,vt,cf,lf,af,ir,rr,df,yt,hr,ci,gf,ne,te;i.fn=i.prototype={jquery:pr,constructor:i,length:0,toArray:function(){return k.call(this)},get:function(n){return n==null?k.call(this):n<0?this[n+this.length]:this[n]},pushStack:function(n){var t=i.merge(this.constructor(),n);return t.prevObject=this,t},each:function(n){return i.each(this,n)},map:function(n){return this.pushStack(i.map(this,function(t,i){return n.call(t,i,t)}))},slice:function(){return this.pushStack(k.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(i.grep(this,function(n,t){return(t+1)%2}))},odd:function(){return this.pushStack(i.grep(this,function(n,t){return t%2}))},eq:function(n){var i=this.length,t=+n+(n<0?i:0);return this.pushStack(t>=0&&t<i?[this[t]]:[])},end:function(){return this.prevObject||this.constructor()},push:li,sort:p.sort,splice:p.splice};i.extend=i.fn.extend=function(){var s,f,e,t,o,c,n=arguments[0]||{},r=1,l=arguments.length,h=!1;for(typeof n=="boolean"&&(h=n,n=arguments[r]||{},r++),typeof n=="object"||u(n)||(n={}),r===l&&(n=this,r--);r<l;r++)if((s=arguments[r])!=null)for(f in s)(t=s[f],f!=="__proto__"&&n!==t)&&(h&&t&&(i.isPlainObject(t)||(o=Array.isArray(t)))?(e=n[f],c=o&&!Array.isArray(e)?[]:o||i.isPlainObject(e)?e:{},o=!1,n[f]=i.extend(h,c,t)):t!==undefined&&(n[f]=t));return n};i.extend({expando:"jQuery"+(pr+Math.random()).replace(/\D/g,""),isReady:!0,error:function(n){throw new Error(n);},noop:function(){},isPlainObject:function(n){var t,i;return!n||ar.call(n)!=="[object Object]"?!1:(t=cr(n),!t)?!0:(i=ii.call(t,"constructor")&&t.constructor,typeof i=="function"&&vr.call(i)===ie)},isEmptyObject:function(n){for(var t in n)return!1;return!0},globalEval:function(n,t,i){yr(n,{nonce:t&&t.nonce},i)},each:function(n,t){var r,i=0;if(ai(n)){for(r=n.length;i<r;i++)if(t.call(n[i],i,n[i])===!1)break}else for(i in n)if(t.call(n[i],i,n[i])===!1)break;return n},makeArray:function(n,t){var r=t||[];return n!=null&&(ai(Object(n))?i.merge(r,typeof n=="string"?[n]:n):li.call(r,n)),r},inArray:function(n,t,i){return t==null?-1:ni.call(t,n,i)},merge:function(n,t){for(var u=+t.length,i=0,r=n.length;i<u;i++)n[r++]=t[i];return n.length=r,n},grep:function(n,t,i){for(var u,f=[],r=0,e=n.length,o=!i;r<e;r++)u=!t(n[r],r),u!==o&&f.push(n[r]);return f},map:function(n,t,i){var e,u,r=0,f=[];if(ai(n))for(e=n.length;r<e;r++)u=t(n[r],r,i),u!=null&&f.push(u);else for(r in n)u=t(n[r],r,i),u!=null&&f.push(u);return lr(f)},guid:1,support:e});typeof Symbol=="function"&&(i.fn[Symbol.iterator]=p[Symbol.iterator]);i.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(n,t){ti["[object "+t+"]"]=t.toLowerCase()});d=function(n){function u(n,t,r,u){var s,p,c,l,w,y,d,v=t&&t.ownerDocument,a=t?t.nodeType:9;if(r=r||[],typeof n!="string"||!n||a!==1&&a!==9&&a!==11)return r;if(!u&&(b(t),t=t||i,h)){if(a!==11&&(w=ar.exec(n)))if(s=w[1]){if(a===9)if(c=t.getElementById(s)){if(c.id===s)return r.push(c),r}else return r;else if(v&&(c=v.getElementById(s))&&et(t,c)&&c.id===s)return r.push(c),r}else{if(w[2])return k.apply(r,t.getElementsByTagName(n)),r;if((s=w[3])&&f.getElementsByClassName&&t.getElementsByClassName)return k.apply(r,t.getElementsByClassName(s)),r}if(f.qsa&&!lt[n+" "]&&(!o||!o.test(n))&&(a!==1||t.nodeName.toLowerCase()!=="object")){if(d=n,v=t,a===1&&(er.test(n)||yi.test(n))){for(v=ti.test(n)&&ri(t.parentNode)||t,v===t&&f.scope||((l=t.getAttribute("id"))?l=l.replace(pi,wi):t.setAttribute("id",l=e)),y=ft(n),p=y.length;p--;)y[p]=(l?"#"+l:":scope")+" "+pt(y[p]);d=y.join(",")}try{return k.apply(r,v.querySelectorAll(d)),r}catch(g){lt(n,!0)}finally{l===e&&t.removeAttribute("id")}}}return si(n.replace(at,"$1"),t,r,u)}function yt(){function n(r,u){return i.push(r+" ")>t.cacheLength&&delete n[i.shift()],n[r+" "]=u}var i=[];return n}function l(n){return n[e]=!0,n}function a(n){var t=i.createElement("fieldset");try{return!!n(t)}catch(r){return!1}finally{t.parentNode&&t.parentNode.removeChild(t);t=null}}function ii(n,i){for(var r=n.split("|"),u=r.length;u--;)t.attrHandle[r[u]]=i}function ki(n,t){var i=t&&n,r=i&&n.nodeType===1&&t.nodeType===1&&n.sourceIndex-t.sourceIndex;if(r)return r;if(i)while(i=i.nextSibling)if(i===t)return-1;return n?1:-1}function yr(n){return function(t){var i=t.nodeName.toLowerCase();return i==="input"&&t.type===n}}function pr(n){return function(t){var i=t.nodeName.toLowerCase();return(i==="input"||i==="button")&&t.type===n}}function di(n){return function(t){return"form"in t?t.parentNode&&t.disabled===!1?"label"in t?"label"in t.parentNode?t.parentNode.disabled===n:t.disabled===n:t.isDisabled===n||t.isDisabled!==!n&&vr(t)===n:t.disabled===n:"label"in t?t.disabled===n:!1}}function it(n){return l(function(t){return t=+t,l(function(i,r){for(var u,f=n([],i.length,t),e=f.length;e--;)i[u=f[e]]&&(i[u]=!(r[u]=i[u]))})})}function ri(n){return n&&typeof n.getElementsByTagName!="undefined"&&n}function gi(){}function pt(n){for(var t=0,r=n.length,i="";t<r;t++)i+=n[t].value;return i}function wt(n,t,i){var r=t.dir,u=t.next,f=u||r,o=i&&f==="parentNode",s=nr++;return t.first?function(t,i,u){while(t=t[r])if(t.nodeType===1||o)return n(t,i,u);return!1}:function(t,i,h){var c,l,a,y=[v,s];if(h){while(t=t[r])if((t.nodeType===1||o)&&n(t,i,h))return!0}else while(t=t[r])if(t.nodeType===1||o)if(a=t[e]||(t[e]={}),l=a[t.uniqueID]||(a[t.uniqueID]={}),u&&u===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=l[f])&&c[0]===v&&c[1]===s)return y[2]=c[2];if(l[f]=y,y[2]=n(t,i,h))return!0}return!1}}function ui(n){return n.length>1?function(t,i,r){for(var u=n.length;u--;)if(!n[u](t,i,r))return!1;return!0}:n[0]}function wr(n,t,i){for(var r=0,f=t.length;r<f;r++)u(n,t[r],i);return i}function bt(n,t,i,r,u){for(var e,o=[],f=0,s=n.length,h=t!=null;f<s;f++)(e=n[f])&&(!i||i(e,r,u))&&(o.push(e),h&&t.push(f));return o}function fi(n,t,i,r,u,f){return r&&!r[e]&&(r=fi(r)),u&&!u[e]&&(u=fi(u,f)),l(function(f,e,o,s){var l,c,a,p=[],y=[],w=e.length,b=f||wr(t||"*",o.nodeType?[o]:o,[]),v=n&&(f||!t)?bt(b,p,n,o,s):b,h=i?u||(f?n:w||r)?[]:e:v;if(i&&i(v,h,o,s),r)for(l=bt(h,y),r(l,[],o,s),c=l.length;c--;)(a=l[c])&&(h[y[c]]=!(v[y[c]]=a));if(f){if(u||n){if(u){for(l=[],c=h.length;c--;)(a=h[c])&&l.push(v[c]=a);u(null,h=[],l,s)}for(c=h.length;c--;)(a=h[c])&&(l=u?nt(f,a):p[c])>-1&&(f[l]=!(e[l]=a))}}else h=bt(h===e?h.splice(w,h.length):h),u?u(null,e,h,s):k.apply(e,h)})}function ei(n){for(var o,u,r,s=n.length,h=t.relative[n[0].type],c=h||t.relative[" "],i=h?1:0,l=wt(function(n){return n===o},c,!0),a=wt(function(n){return nt(o,n)>-1},c,!0),f=[function(n,t,i){var r=!h&&(i||t!==ht)||((o=t).nodeType?l(n,t,i):a(n,t,i));return o=null,r}];i<s;i++)if(u=t.relative[n[i].type])f=[wt(ui(f),u)];else{if(u=t.filter[n[i].type].apply(null,n[i].matches),u[e]){for(r=++i;r<s;r++)if(t.relative[n[r].type])break;return fi(i>1&&ui(f),i>1&&pt(n.slice(0,i-1).concat({value:n[i-2].type===" "?"*":""})).replace(at,"$1"),u,i<r&&ei(n.slice(i,r)),r<s&&ei(n=n.slice(r)),r<s&&pt(n))}f.push(u)}return ui(f)}function br(n,r){var f=r.length>0,e=n.length>0,o=function(o,s,c,l,a){var y,nt,d,g=0,p="0",tt=o&&[],w=[],it=ht,rt=o||e&&t.find.TAG("*",a),ut=v+=it==null?1:Math.random()||.1,ft=rt.length;for(a&&(ht=s==i||s||a);p!==ft&&(y=rt[p])!=null;p++){if(e&&y){for(nt=0,s||y.ownerDocument==i||(b(y),c=!h);d=n[nt++];)if(d(y,s||i,c)){l.push(y);break}a&&(v=ut)}f&&((y=!d&&y)&&g--,o&&tt.push(y))}if(g+=p,f&&p!==g){for(nt=0;d=r[nt++];)d(tt,w,s,c);if(o){if(g>0)while(p--)tt[p]||w[p]||(w[p]=ir.call(l));w=bt(w)}k.apply(l,w);a&&!o&&w.length>0&&g+r.length>1&&u.uniqueSort(l)}return a&&(v=ut,ht=it),tt};return f?l(o):o}var rt,f,t,st,oi,ft,kt,si,ht,w,ut,b,i,s,h,o,d,ct,et,e="sizzle"+1*new Date,c=n.document,v=0,nr=0,hi=yt(),ci=yt(),li=yt(),lt=yt(),dt=function(n,t){return n===t&&(ut=!0),0},tr={}.hasOwnProperty,g=[],ir=g.pop,rr=g.push,k=g.push,ai=g.slice,nt=function(n,t){for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1},gt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",r="[\\x20\\t\\r\\n\\f]",tt="(?:\\\\[\\da-fA-F]{1,6}"+r+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",vi="\\["+r+"*("+tt+")(?:"+r+"*([*^$|!~]?=)"+r+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+tt+"))|)"+r+"*\\]",ni=":("+tt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+vi+")*)|.*)\\)|)",ur=new RegExp(r+"+","g"),at=new RegExp("^"+r+"+|((?:^|[^\\\\])(?:\\\\.)*)"+r+"+$","g"),fr=new RegExp("^"+r+"*,"+r+"*"),yi=new RegExp("^"+r+"*([>+~]|"+r+")"+r+"*"),er=new RegExp(r+"|>"),or=new RegExp(ni),sr=new RegExp("^"+tt+"$"),vt={ID:new RegExp("^#("+tt+")"),CLASS:new RegExp("^\\.("+tt+")"),TAG:new RegExp("^("+tt+"|[*])"),ATTR:new RegExp("^"+vi),PSEUDO:new RegExp("^"+ni),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+r+"*(even|odd|(([+-]|)(\\d*)n|)"+r+"*(?:([+-]|)"+r+"*(\\d+)|))"+r+"*\\)|)","i"),bool:new RegExp("^(?:"+gt+")$","i"),needsContext:new RegExp("^"+r+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+r+"*((?:-\\d)?\\d*)"+r+"*\\)|)(?=[^-]|$)","i")},hr=/HTML$/i,cr=/^(?:input|select|textarea|button)$/i,lr=/^h\d$/i,ot=/^[^{]+\{\s*\[native \w/,ar=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ti=/[+~]/,y=new RegExp("\\\\[\\da-fA-F]{1,6}"+r+"?|\\\\([^\\r\\n\\f])","g"),p=function(n,t){var i="0x"+n.slice(1)-65536;return t?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,i&1023|56320)},pi=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,wi=function(n,t){return t?n==="\0"?"�":n.slice(0,-1)+"\\"+n.charCodeAt(n.length-1).toString(16)+" ":"\\"+n},bi=function(){b()},vr=wt(function(n){return n.disabled===!0&&n.nodeName.toLowerCase()==="fieldset"},{dir:"parentNode",next:"legend"});try{k.apply(g=ai.call(c.childNodes),c.childNodes);g[c.childNodes.length].nodeType}catch(kr){k={apply:g.length?function(n,t){rr.apply(n,ai.call(t))}:function(n,t){for(var i=n.length,r=0;n[i++]=t[r++];);n.length=i-1}}}f=u.support={};oi=u.isXML=function(n){var i=n.namespaceURI,t=(n.ownerDocument||n).documentElement;return!hr.test(i||t&&t.nodeName||"HTML")};b=u.setDocument=function(n){var v,u,l=n?n.ownerDocument||n:c;return l==i||l.nodeType!==9||!l.documentElement?i:(i=l,s=i.documentElement,h=!oi(i),c!=i&&(u=i.defaultView)&&u.top!==u&&(u.addEventListener?u.addEventListener("unload",bi,!1):u.attachEvent&&u.attachEvent("onunload",bi)),f.scope=a(function(n){return s.appendChild(n).appendChild(i.createElement("div")),typeof n.querySelectorAll!="undefined"&&!n.querySelectorAll(":scope fieldset div").length}),f.attributes=a(function(n){return n.className="i",!n.getAttribute("className")}),f.getElementsByTagName=a(function(n){return n.appendChild(i.createComment("")),!n.getElementsByTagName("*").length}),f.getElementsByClassName=ot.test(i.getElementsByClassName),f.getById=a(function(n){return s.appendChild(n).id=e,!i.getElementsByName||!i.getElementsByName(e).length}),f.getById?(t.filter.ID=function(n){var t=n.replace(y,p);return function(n){return n.getAttribute("id")===t}},t.find.ID=function(n,t){if(typeof t.getElementById!="undefined"&&h){var i=t.getElementById(n);return i?[i]:[]}}):(t.filter.ID=function(n){var t=n.replace(y,p);return function(n){var i=typeof n.getAttributeNode!="undefined"&&n.getAttributeNode("id");return i&&i.value===t}},t.find.ID=function(n,t){if(typeof t.getElementById!="undefined"&&h){var i,u,f,r=t.getElementById(n);if(r){if(i=r.getAttributeNode("id"),i&&i.value===n)return[r];for(f=t.getElementsByName(n),u=0;r=f[u++];)if(i=r.getAttributeNode("id"),i&&i.value===n)return[r]}return[]}}),t.find.TAG=f.getElementsByTagName?function(n,t){return typeof t.getElementsByTagName!="undefined"?t.getElementsByTagName(n):f.qsa?t.querySelectorAll(n):void 0}:function(n,t){var i,r=[],f=0,u=t.getElementsByTagName(n);if(n==="*"){while(i=u[f++])i.nodeType===1&&r.push(i);return r}return u},t.find.CLASS=f.getElementsByClassName&&function(n,t){if(typeof t.getElementsByClassName!="undefined"&&h)return t.getElementsByClassName(n)},d=[],o=[],(f.qsa=ot.test(i.querySelectorAll))&&(a(function(n){var t;s.appendChild(n).innerHTML="<a id='"+e+"'><\/a><select id='"+e+"-\r\\' msallowcapture=''><option selected=''><\/option><\/select>";n.querySelectorAll("[msallowcapture^='']").length&&o.push("[*^$]="+r+"*(?:''|\"\")");n.querySelectorAll("[selected]").length||o.push("\\["+r+"*(?:value|"+gt+")");n.querySelectorAll("[id~="+e+"-]").length||o.push("~=");t=i.createElement("input");t.setAttribute("name","");n.appendChild(t);n.querySelectorAll("[name='']").length||o.push("\\["+r+"*name"+r+"*="+r+"*(?:''|\"\")");n.querySelectorAll(":checked").length||o.push(":checked");n.querySelectorAll("a#"+e+"+*").length||o.push(".#.+[+~]");n.querySelectorAll("\\\f");o.push("[\\r\\n\\f]")}),a(function(n){n.innerHTML="<a href='' disabled='disabled'><\/a><select disabled='disabled'><option/><\/select>";var t=i.createElement("input");t.setAttribute("type","hidden");n.appendChild(t).setAttribute("name","D");n.querySelectorAll("[name=d]").length&&o.push("name"+r+"*[*^$|!~]?=");n.querySelectorAll(":enabled").length!==2&&o.push(":enabled",":disabled");s.appendChild(n).disabled=!0;n.querySelectorAll(":disabled").length!==2&&o.push(":enabled",":disabled");n.querySelectorAll("*,:x");o.push(",.*:")})),(f.matchesSelector=ot.test(ct=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.oMatchesSelector||s.msMatchesSelector))&&a(function(n){f.disconnectedMatch=ct.call(n,"*");ct.call(n,"[s!='']:x");d.push("!=",ni)}),o=o.length&&new RegExp(o.join("|")),d=d.length&&new RegExp(d.join("|")),v=ot.test(s.compareDocumentPosition),et=v||ot.test(s.contains)?function(n,t){var r=n.nodeType===9?n.documentElement:n,i=t&&t.parentNode;return n===i||!!(i&&i.nodeType===1&&(r.contains?r.contains(i):n.compareDocumentPosition&&n.compareDocumentPosition(i)&16))}:function(n,t){if(t)while(t=t.parentNode)if(t===n)return!0;return!1},dt=v?function(n,t){if(n===t)return ut=!0,0;var r=!n.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(n.ownerDocument||n)==(t.ownerDocument||t)?n.compareDocumentPosition(t):1,r&1||!f.sortDetached&&t.compareDocumentPosition(n)===r)?n==i||n.ownerDocument==c&&et(c,n)?-1:t==i||t.ownerDocument==c&&et(c,t)?1:w?nt(w,n)-nt(w,t):0:r&4?-1:1}:function(n,t){if(n===t)return ut=!0,0;var r,u=0,o=n.parentNode,s=t.parentNode,f=[n],e=[t];if(o&&s){if(o===s)return ki(n,t)}else return n==i?-1:t==i?1:o?-1:s?1:w?nt(w,n)-nt(w,t):0;for(r=n;r=r.parentNode;)f.unshift(r);for(r=t;r=r.parentNode;)e.unshift(r);while(f[u]===e[u])u++;return u?ki(f[u],e[u]):f[u]==c?-1:e[u]==c?1:0},i)};u.matches=function(n,t){return u(n,null,null,t)};u.matchesSelector=function(n,t){if(b(n),f.matchesSelector&&h&&!lt[t+" "]&&(!d||!d.test(t))&&(!o||!o.test(t)))try{var r=ct.call(n,t);if(r||f.disconnectedMatch||n.document&&n.document.nodeType!==11)return r}catch(e){lt(t,!0)}return u(t,i,null,[n]).length>0};u.contains=function(n,t){return(n.ownerDocument||n)!=i&&b(n),et(n,t)};u.attr=function(n,r){(n.ownerDocument||n)!=i&&b(n);var e=t.attrHandle[r.toLowerCase()],u=e&&tr.call(t.attrHandle,r.toLowerCase())?e(n,r,!h):undefined;return u!==undefined?u:f.attributes||!h?n.getAttribute(r):(u=n.getAttributeNode(r))&&u.specified?u.value:null};u.escape=function(n){return(n+"").replace(pi,wi)};u.error=function(n){throw new Error("Syntax error, unrecognized expression: "+n);};u.uniqueSort=function(n){var r,u=[],t=0,i=0;if(ut=!f.detectDuplicates,w=!f.sortStable&&n.slice(0),n.sort(dt),ut){while(r=n[i++])r===n[i]&&(t=u.push(i));while(t--)n.splice(u[t],1)}return w=null,n};st=u.getText=function(n){var r,i="",u=0,t=n.nodeType;if(t){if(t===1||t===9||t===11){if(typeof n.textContent=="string")return n.textContent;for(n=n.firstChild;n;n=n.nextSibling)i+=st(n)}else if(t===3||t===4)return n.nodeValue}else while(r=n[u++])i+=st(r);return i};t=u.selectors={cacheLength:50,createPseudo:l,match:vt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(n){return n[1]=n[1].replace(y,p),n[3]=(n[3]||n[4]||n[5]||"").replace(y,p),n[2]==="~="&&(n[3]=" "+n[3]+" "),n.slice(0,4)},CHILD:function(n){return n[1]=n[1].toLowerCase(),n[1].slice(0,3)==="nth"?(n[3]||u.error(n[0]),n[4]=+(n[4]?n[5]+(n[6]||1):2*(n[3]==="even"||n[3]==="odd")),n[5]=+(n[7]+n[8]||n[3]==="odd")):n[3]&&u.error(n[0]),n},PSEUDO:function(n){var i,t=!n[6]&&n[2];return vt.CHILD.test(n[0])?null:(n[3]?n[2]=n[4]||n[5]||"":t&&or.test(t)&&(i=ft(t,!0))&&(i=t.indexOf(")",t.length-i)-t.length)&&(n[0]=n[0].slice(0,i),n[2]=t.slice(0,i)),n.slice(0,3))}},filter:{TAG:function(n){var t=n.replace(y,p).toLowerCase();return n==="*"?function(){return!0}:function(n){return n.nodeName&&n.nodeName.toLowerCase()===t}},CLASS:function(n){var t=hi[n+" "];return t||(t=new RegExp("(^|"+r+")"+n+"("+r+"|$)"))&&hi(n,function(n){return t.test(typeof n.className=="string"&&n.className||typeof n.getAttribute!="undefined"&&n.getAttribute("class")||"")})},ATTR:function(n,t,i){return function(r){var f=u.attr(r,n);return f==null?t==="!=":t?(f+="",t==="="?f===i:t==="!="?f!==i:t==="^="?i&&f.indexOf(i)===0:t==="*="?i&&f.indexOf(i)>-1:t==="$="?i&&f.slice(-i.length)===i:t==="~="?(" "+f.replace(ur," ")+" ").indexOf(i)>-1:t==="|="?f===i||f.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(n,t,i,r,u){var s=n.slice(0,3)!=="nth",o=n.slice(-4)!=="last",f=t==="of-type";return r===1&&u===0?function(n){return!!n.parentNode}:function(t,i,h){var p,w,y,c,a,b,k=s!==o?"nextSibling":"previousSibling",d=t.parentNode,nt=f&&t.nodeName.toLowerCase(),g=!h&&!f,l=!1;if(d){if(s){while(k){for(c=t;c=c[k];)if(f?c.nodeName.toLowerCase()===nt:c.nodeType===1)return!1;b=k=n==="only"&&!b&&"nextSibling"}return!0}if(b=[o?d.firstChild:d.lastChild],o&&g){for(c=d,y=c[e]||(c[e]={}),w=y[c.uniqueID]||(y[c.uniqueID]={}),p=w[n]||[],a=p[0]===v&&p[1],l=a&&p[2],c=a&&d.childNodes[a];c=++a&&c&&c[k]||(l=a=0)||b.pop();)if(c.nodeType===1&&++l&&c===t){w[n]=[v,a,l];break}}else if(g&&(c=t,y=c[e]||(c[e]={}),w=y[c.uniqueID]||(y[c.uniqueID]={}),p=w[n]||[],a=p[0]===v&&p[1],l=a),l===!1)while(c=++a&&c&&c[k]||(l=a=0)||b.pop())if((f?c.nodeName.toLowerCase()===nt:c.nodeType===1)&&++l&&(g&&(y=c[e]||(c[e]={}),w=y[c.uniqueID]||(y[c.uniqueID]={}),w[n]=[v,l]),c===t))break;return l-=u,l===r||l%r==0&&l/r>=0}}},PSEUDO:function(n,i){var f,r=t.pseudos[n]||t.setFilters[n.toLowerCase()]||u.error("unsupported pseudo: "+n);return r[e]?r(i):r.length>1?(f=[n,n,"",i],t.setFilters.hasOwnProperty(n.toLowerCase())?l(function(n,t){for(var u,f=r(n,i),e=f.length;e--;)u=nt(n,f[e]),n[u]=!(t[u]=f[e])}):function(n){return r(n,0,f)}):r}},pseudos:{not:l(function(n){var t=[],r=[],i=kt(n.replace(at,"$1"));return i[e]?l(function(n,t,r,u){for(var e,o=i(n,null,u,[]),f=n.length;f--;)(e=o[f])&&(n[f]=!(t[f]=e))}):function(n,u,f){return t[0]=n,i(t,null,f,r),t[0]=null,!r.pop()}}),has:l(function(n){return function(t){return u(n,t).length>0}}),contains:l(function(n){return n=n.replace(y,p),function(t){return(t.textContent||st(t)).indexOf(n)>-1}}),lang:l(function(n){return sr.test(n||"")||u.error("unsupported lang: "+n),n=n.replace(y,p).toLowerCase(),function(t){var i;do if(i=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===n||i.indexOf(n+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(t){var i=n.location&&n.location.hash;return i&&i.slice(1)===t.id},root:function(n){return n===s},focus:function(n){return n===i.activeElement&&(!i.hasFocus||i.hasFocus())&&!!(n.type||n.href||~n.tabIndex)},enabled:di(!1),disabled:di(!0),checked:function(n){var t=n.nodeName.toLowerCase();return t==="input"&&!!n.checked||t==="option"&&!!n.selected},selected:function(n){return n.parentNode&&n.parentNode.selectedIndex,n.selected===!0},empty:function(n){for(n=n.firstChild;n;n=n.nextSibling)if(n.nodeType<6)return!1;return!0},parent:function(n){return!t.pseudos.empty(n)},header:function(n){return lr.test(n.nodeName)},input:function(n){return cr.test(n.nodeName)},button:function(n){var t=n.nodeName.toLowerCase();return t==="input"&&n.type==="button"||t==="button"},text:function(n){var t;return n.nodeName.toLowerCase()==="input"&&n.type==="text"&&((t=n.getAttribute("type"))==null||t.toLowerCase()==="text")},first:it(function(){return[0]}),last:it(function(n,t){return[t-1]}),eq:it(function(n,t,i){return[i<0?i+t:i]}),even:it(function(n,t){for(var i=0;i<t;i+=2)n.push(i);return n}),odd:it(function(n,t){for(var i=1;i<t;i+=2)n.push(i);return n}),lt:it(function(n,t,i){for(var r=i<0?i+t:i>t?t:i;--r>=0;)n.push(r);return n}),gt:it(function(n,t,i){for(var r=i<0?i+t:i;++r<t;)n.push(r);return n})}};t.pseudos.nth=t.pseudos.eq;for(rt in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[rt]=yr(rt);for(rt in{submit:!0,reset:!0})t.pseudos[rt]=pr(rt);return gi.prototype=t.filters=t.pseudos,t.setFilters=new gi,ft=u.tokenize=function(n,i){var e,f,s,o,r,h,c,l=ci[n+" "];if(l)return i?0:l.slice(0);for(r=n,h=[],c=t.preFilter;r;){(!e||(f=fr.exec(r)))&&(f&&(r=r.slice(f[0].length)||r),h.push(s=[]));e=!1;(f=yi.exec(r))&&(e=f.shift(),s.push({value:e,type:f[0].replace(at," ")}),r=r.slice(e.length));for(o in t.filter)(f=vt[o].exec(r))&&(!c[o]||(f=c[o](f)))&&(e=f.shift(),s.push({value:e,type:o,matches:f}),r=r.slice(e.length));if(!e)break}return i?r.length:r?u.error(n):ci(n,h).slice(0)},kt=u.compile=function(n,t){var r,u=[],f=[],i=li[n+" "];if(!i){for(t||(t=ft(n)),r=t.length;r--;)i=ei(t[r]),i[e]?u.push(i):f.push(i);i=li(n,br(f,u));i.selector=n}return i},si=u.select=function(n,i,r,u){var o,f,e,l,a,c=typeof n=="function"&&n,s=!u&&ft(n=c.selector||n);if(r=r||[],s.length===1){if(f=s[0]=s[0].slice(0),f.length>2&&(e=f[0]).type==="ID"&&i.nodeType===9&&h&&t.relative[f[1].type]){if(i=(t.find.ID(e.matches[0].replace(y,p),i)||[])[0],i)c&&(i=i.parentNode);else return r;n=n.slice(f.shift().value.length)}for(o=vt.needsContext.test(n)?0:f.length;o--;){if(e=f[o],t.relative[l=e.type])break;if((a=t.find[l])&&(u=a(e.matches[0].replace(y,p),ti.test(f[0].type)&&ri(i.parentNode)||i))){if(f.splice(o,1),n=u.length&&pt(f),!n)return k.apply(r,u),r;break}}}return(c||kt(n,s))(u,i,!h,r,!i||ti.test(n)&&ri(i.parentNode)||i),r},f.sortStable=e.split("").sort(dt).join("")===e,f.detectDuplicates=!!ut,b(),f.sortDetached=a(function(n){return n.compareDocumentPosition(i.createElement("fieldset"))&1}),a(function(n){return n.innerHTML="<a href='#'><\/a>",n.firstChild.getAttribute("href")==="#"})||ii("type|href|height|width",function(n,t,i){if(!i)return n.getAttribute(t,t.toLowerCase()==="type"?1:2)}),f.attributes&&a(function(n){return n.innerHTML="<input/>",n.firstChild.setAttribute("value",""),n.firstChild.getAttribute("value")===""})||ii("value",function(n,t,i){if(!i&&n.nodeName.toLowerCase()==="input")return n.defaultValue}),a(function(n){return n.getAttribute("disabled")==null})||ii(gt,function(n,t,i){var r;if(!i)return n[t]===!0?t.toLowerCase():(r=n.getAttributeNode(t))&&r.specified?r.value:null}),u}(n);i.find=d;i.expr=d.selectors;i.expr[":"]=i.expr.pseudos;i.uniqueSort=i.unique=d.uniqueSort;i.text=d.getText;i.isXMLDoc=d.isXML;i.contains=d.contains;i.escapeSelector=d.escape;var ut=function(n,t,r){for(var u=[],f=r!==undefined;(n=n[t])&&n.nodeType!==9;)if(n.nodeType===1){if(f&&i(n).is(r))break;u.push(n)}return u},wr=function(n,t){for(var i=[];n;n=n.nextSibling)n.nodeType===1&&n!==t&&i.push(n);return i},br=i.expr.match.needsContext;vi=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;i.filter=function(n,t,r){var u=t[0];return(r&&(n=":not("+n+")"),t.length===1&&u.nodeType===1)?i.find.matchesSelector(u,n)?[u]:[]:i.find.matches(n,i.grep(t,function(n){return n.nodeType===1}))};i.fn.extend({find:function(n){var t,r,u=this.length,f=this;if(typeof n!="string")return this.pushStack(i(n).filter(function(){for(t=0;t<u;t++)if(i.contains(f[t],this))return!0}));for(r=this.pushStack([]),t=0;t<u;t++)i.find(n,f[t],r);return u>1?i.uniqueSort(r):r},filter:function(n){return this.pushStack(yi(this,n||[],!1))},not:function(n){return this.pushStack(yi(this,n||[],!0))},is:function(n){return!!yi(this,typeof n=="string"&&br.test(n)?i(n):n||[],!1).length}});dr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;gr=i.fn.init=function(n,t,r){var e,o;if(!n)return this;if(r=r||kr,typeof n=="string"){if(e=n[0]==="<"&&n[n.length-1]===">"&&n.length>=3?[null,n,null]:dr.exec(n),e&&(e[1]||!t)){if(e[1]){if(t=t instanceof i?t[0]:t,i.merge(this,i.parseHTML(e[1],t&&t.nodeType?t.ownerDocument||t:f,!0)),vi.test(e[1])&&i.isPlainObject(t))for(e in t)u(this[e])?this[e](t[e]):this.attr(e,t[e]);return this}return o=f.getElementById(e[2]),o&&(this[0]=o,this.length=1),this}return!t||t.jquery?(t||r).find(n):this.constructor(t).find(n)}return n.nodeType?(this[0]=n,this.length=1,this):u(n)?r.ready!==undefined?r.ready(n):n(i):i.makeArray(n,this)};gr.prototype=i.fn;kr=i(f);nu=/^(?:parents|prev(?:Until|All))/;tu={children:!0,contents:!0,next:!0,prev:!0};i.fn.extend({has:function(n){var t=i(n,this),r=t.length;return this.filter(function(){for(var n=0;n<r;n++)if(i.contains(this,t[n]))return!0})},closest:function(n,t){var r,f=0,o=this.length,u=[],e=typeof n!="string"&&i(n);if(!br.test(n))for(;f<o;f++)for(r=this[f];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(e?e.index(r)>-1:r.nodeType===1&&i.find.matchesSelector(r,n))){u.push(r);break}return this.pushStack(u.length>1?i.uniqueSort(u):u)},index:function(n){return n?typeof n=="string"?ni.call(i(n),this[0]):ni.call(this,n.jquery?n[0]:n):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(n,t){return this.pushStack(i.uniqueSort(i.merge(this.get(),i(n,t))))},addBack:function(n){return this.add(n==null?this.prevObject:this.prevObject.filter(n))}});i.each({parent:function(n){var t=n.parentNode;return t&&t.nodeType!==11?t:null},parents:function(n){return ut(n,"parentNode")},parentsUntil:function(n,t,i){return ut(n,"parentNode",i)},next:function(n){return iu(n,"nextSibling")},prev:function(n){return iu(n,"previousSibling")},nextAll:function(n){return ut(n,"nextSibling")},prevAll:function(n){return ut(n,"previousSibling")},nextUntil:function(n,t,i){return ut(n,"nextSibling",i)},prevUntil:function(n,t,i){return ut(n,"previousSibling",i)},siblings:function(n){return wr((n.parentNode||{}).firstChild,n)},children:function(n){return wr(n.firstChild)},contents:function(n){return n.contentDocument!=null&&cr(n.contentDocument)?n.contentDocument:(l(n,"template")&&(n=n.content||n),i.merge([],n.childNodes))}},function(n,t){i.fn[n]=function(r,u){var f=i.map(this,t,r);return n.slice(-5)!=="Until"&&(u=r),u&&typeof u=="string"&&(f=i.filter(u,f)),this.length>1&&(tu[n]||i.uniqueSort(f),nu.test(n)&&f.reverse()),this.pushStack(f)}});a=/[^\x20\t\r\n\f]+/g;i.Callbacks=function(n){n=typeof n=="string"?ue(n):i.extend({},n);var o,r,c,f,t=[],s=[],e=-1,l=function(){for(f=f||n.once,c=o=!0;s.length;e=-1)for(r=s.shift();++e<t.length;)t[e].apply(r[0],r[1])===!1&&n.stopOnFalse&&(e=t.length,r=!1);n.memory||(r=!1);o=!1;f&&(t=r?[]:"")},h={add:function(){return t&&(r&&!o&&(e=t.length-1,s.push(r)),function f(r){i.each(r,function(i,r){u(r)?n.unique&&h.has(r)||t.push(r):r&&r.length&&rt(r)!=="string"&&f(r)})}(arguments),r&&!o&&l()),this},remove:function(){return i.each(arguments,function(n,r){for(var u;(u=i.inArray(r,t,u))>-1;)t.splice(u,1),u<=e&&e--}),this},has:function(n){return n?i.inArray(n,t)>-1:t.length>0},empty:function(){return t&&(t=[]),this},disable:function(){return f=s=[],t=r="",this},disabled:function(){return!t},lock:function(){return f=s=[],r||o||(t=r=""),this},locked:function(){return!!f},fireWith:function(n,t){return f||(t=t||[],t=[n,t.slice?t.slice():t],s.push(t),o||l()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!c}};return h};i.extend({Deferred:function(t){var f=[["notify","progress",i.Callbacks("memory"),i.Callbacks("memory"),2],["resolve","done",i.Callbacks("once memory"),i.Callbacks("once memory"),0,"resolved"],["reject","fail",i.Callbacks("once memory"),i.Callbacks("once memory"),1,"rejected"]],o="pending",e={state:function(){return o},always:function(){return r.done(arguments).fail(arguments),this},"catch":function(n){return e.then(null,n)},pipe:function(){var n=arguments;return i.Deferred(function(t){i.each(f,function(i,f){var e=u(n[f[4]])&&n[f[4]];r[f[1]](function(){var n=e&&e.apply(this,arguments);n&&u(n.promise)?n.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[f[0]+"With"](this,e?[n]:arguments)})});n=null}).promise()},then:function(t,r,e){function s(t,r,f,e){return function(){var h=this,c=arguments,a=function(){var n,i;if(!(t<o)){if(n=f.apply(h,c),n===r.promise())throw new TypeError("Thenable self-resolution");i=n&&(typeof n=="object"||typeof n=="function")&&n.then;u(i)?e?i.call(n,s(o,r,ft,e),s(o,r,ri,e)):(o++,i.call(n,s(o,r,ft,e),s(o,r,ri,e),s(o,r,ft,r.notifyWith))):(f!==ft&&(h=undefined,c=[n]),(e||r.resolveWith)(h,c))}},l=e?a:function(){try{a()}catch(n){i.Deferred.exceptionHook&&i.Deferred.exceptionHook(n,l.stackTrace);t+1>=o&&(f!==ri&&(h=undefined,c=[n]),r.rejectWith(h,c))}};t?l():(i.Deferred.getStackHook&&(l.stackTrace=i.Deferred.getStackHook()),n.setTimeout(l))}}var o=0;return i.Deferred(function(n){f[0][3].add(s(0,n,u(e)?e:ft,n.notifyWith));f[1][3].add(s(0,n,u(t)?t:ft));f[2][3].add(s(0,n,u(r)?r:ri))}).promise()},promise:function(n){return n!=null?i.extend(n,e):e}},r={};return i.each(f,function(n,t){var i=t[2],u=t[5];e[t[1]]=i.add;u&&i.add(function(){o=u},f[3-n][2].disable,f[3-n][3].disable,f[0][2].lock,f[0][3].lock);i.add(t[3].fire);r[t[0]]=function(){return r[t[0]+"With"](this===r?undefined:this,arguments),this};r[t[0]+"With"]=i.fireWith}),e.promise(r),t&&t.call(r,r),r},when:function(n){var e=arguments.length,t=e,o=Array(t),f=k.call(arguments),r=i.Deferred(),s=function(n){return function(t){o[n]=this;f[n]=arguments.length>1?k.call(arguments):t;--e||r.resolveWith(o,f)}};if(e<=1&&(ru(n,r.done(s(t)).resolve,r.reject,!e),r.state()==="pending"||u(f[t]&&f[t].then)))return r.then();while(t--)ru(f[t],s(t),r.reject);return r.promise()}});uu=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;i.Deferred.exceptionHook=function(t,i){n.console&&n.console.warn&&t&&uu.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,i)};i.readyException=function(t){n.setTimeout(function(){throw t;})};ui=i.Deferred();i.fn.ready=function(n){return ui.then(n).catch(function(n){i.readyException(n)}),this};i.extend({isReady:!1,readyWait:1,ready:function(n){(n===!0?--i.readyWait:i.isReady)||(i.isReady=!0,n!==!0&&--i.readyWait>0)||ui.resolveWith(f,[i])}});i.ready.then=ui.then;f.readyState!=="complete"&&(f.readyState==="loading"||f.documentElement.doScroll)?(f.addEventListener("DOMContentLoaded",fi),n.addEventListener("load",fi)):n.setTimeout(i.ready);var w=function(n,t,r,f,e,o,s){var h=0,l=n.length,c=r==null;if(rt(r)==="object"){e=!0;for(h in r)w(n,t,h,r[h],!0,o,s)}else if(f!==undefined&&(e=!0,u(f)||(s=!0),c&&(s?(t.call(n,f),t=null):(c=t,t=function(n,t,r){return c.call(i(n),r)})),t))for(;h<l;h++)t(n[h],r,s?f:f.call(n[h],h,t(n[h],r)));return e?n:c?t.call(n):l?t(n[0],r):o},fe=/^-ms-/,ee=/-([a-z])/g;et=function(n){return n.nodeType===1||n.nodeType===9||!+n.nodeType};pt.uid=1;pt.prototype={cache:function(n){var t=n[this.expando];return t||(t={},et(n)&&(n.nodeType?n[this.expando]=t:Object.defineProperty(n,this.expando,{value:t,configurable:!0}))),t},set:function(n,t,i){var r,u=this.cache(n);if(typeof t=="string")u[y(t)]=i;else for(r in t)u[y(r)]=t[r];return u},get:function(n,t){return t===undefined?this.cache(n):n[this.expando]&&n[this.expando][y(t)]},access:function(n,t,i){return t===undefined||t&&typeof t=="string"&&i===undefined?this.get(n,t):(this.set(n,t,i),i!==undefined?i:t)},remove:function(n,t){var u,r=n[this.expando];if(r!==undefined){if(t!==undefined)for(Array.isArray(t)?t=t.map(y):(t=y(t),t=t in r?[t]:t.match(a)||[]),u=t.length;u--;)delete r[t[u]];(t===undefined||i.isEmptyObject(r))&&(n.nodeType?n[this.expando]=undefined:delete n[this.expando])}},hasData:function(n){var t=n[this.expando];return t!==undefined&&!i.isEmptyObject(t)}};var r=new pt,o=new pt,se=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,he=/[A-Z]/g;i.extend({hasData:function(n){return o.hasData(n)||r.hasData(n)},data:function(n,t,i){return o.access(n,t,i)},removeData:function(n,t){o.remove(n,t)},_data:function(n,t,i){return r.access(n,t,i)},_removeData:function(n,t){r.remove(n,t)}});i.fn.extend({data:function(n,t){var f,u,e,i=this[0],s=i&&i.attributes;if(n===undefined){if(this.length&&(e=o.get(i),i.nodeType===1&&!r.get(i,"hasDataAttrs"))){for(f=s.length;f--;)s[f]&&(u=s[f].name,u.indexOf("data-")===0&&(u=y(u.slice(5)),fu(i,u,e[u])));r.set(i,"hasDataAttrs",!0)}return e}return typeof n=="object"?this.each(function(){o.set(this,n)}):w(this,function(t){var r;if(i&&t===undefined)return(r=o.get(i,n),r!==undefined)?r:(r=fu(i,n),r!==undefined)?r:void 0;this.each(function(){o.set(this,n,t)})},null,t,arguments.length>1,null,!0)},removeData:function(n){return this.each(function(){o.remove(this,n)})}});i.extend({queue:function(n,t,u){var f;if(n)return t=(t||"fx")+"queue",f=r.get(n,t),u&&(!f||Array.isArray(u)?f=r.access(n,t,i.makeArray(u)):f.push(u)),f||[]},dequeue:function(n,t){t=t||"fx";var r=i.queue(n,t),e=r.length,u=r.shift(),f=i._queueHooks(n,t),o=function(){i.dequeue(n,t)};u==="inprogress"&&(u=r.shift(),e--);u&&(t==="fx"&&r.unshift("inprogress"),delete f.stop,u.call(n,o,f));!e&&f&&f.empty.fire()},_queueHooks:function(n,t){var u=t+"queueHooks";return r.get(n,u)||r.access(n,u,{empty:i.Callbacks("once memory").add(function(){r.remove(n,[t+"queue",u])})})}});i.fn.extend({queue:function(n,t){var r=2;return(typeof n!="string"&&(t=n,n="fx",r--),arguments.length<r)?i.queue(this[0],n):t===undefined?this:this.each(function(){var r=i.queue(this,n,t);i._queueHooks(this,n);n==="fx"&&r[0]!=="inprogress"&&i.dequeue(this,n)})},dequeue:function(n){return this.each(function(){i.dequeue(this,n)})},clearQueue:function(n){return this.queue(n||"fx",[])},promise:function(n,t){var u,e=1,o=i.Deferred(),f=this,s=this.length,h=function(){--e||o.resolveWith(f,[f])};for(typeof n!="string"&&(t=n,n=undefined),n=n||"fx";s--;)u=r.get(f[s],n+"queueHooks"),u&&u.empty&&(e++,u.empty.add(h));return h(),o.promise(t)}});var eu=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,wt=new RegExp("^(?:([+-])=|)("+eu+")([a-z%]*)$","i"),b=["Top","Right","Bottom","Left"],g=f.documentElement,ot=function(n){return i.contains(n.ownerDocument,n)},le={composed:!0};g.getRootNode&&(ot=function(n){return i.contains(n.ownerDocument,n)||n.getRootNode(le)===n.ownerDocument});bt=function(n,t){return n=t||n,n.style.display==="none"||n.style.display===""&&ot(n)&&i.css(n,"display")==="none"};pi={};i.fn.extend({show:function(){return st(this,!0)},hide:function(){return st(this)},toggle:function(n){return typeof n=="boolean"?n?this.show():this.hide():this.each(function(){bt(this)?i(this).show():i(this).hide()})}});var kt=/^(?:checkbox|radio)$/i,su=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,hu=/^$|^module$|\/(?:java|ecma)script/i;(function(){var i=f.createDocumentFragment(),n=i.appendChild(f.createElement("div")),t=f.createElement("input");t.setAttribute("type","radio");t.setAttribute("checked","checked");t.setAttribute("name","t");n.appendChild(t);e.checkClone=n.cloneNode(!0).cloneNode(!0).lastChild.checked;n.innerHTML="<textarea>x<\/textarea>";e.noCloneChecked=!!n.cloneNode(!0).lastChild.defaultValue;n.innerHTML="<option><\/option>";e.option=!!n.lastChild})();c={thead:[1,"<table>","<\/table>"],col:[2,"<table><colgroup>","<\/colgroup><\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],_default:[0,"",""]};c.tbody=c.tfoot=c.colgroup=c.caption=c.thead;c.th=c.td;e.option||(c.optgroup=c.option=[1,"<select multiple='multiple'>","<\/select>"]);cu=/<|&#?\w+;/;var ve=/^key/,ye=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,au=/^([^.]*)(?:\.(.+)|)/;i.event={global:{},add:function(n,t,u,f,e){var l,v,w,y,b,h,s,c,o,k,d,p=r.get(n);if(et(n))for(u.handler&&(l=u,u=l.handler,e=l.selector),e&&i.find.matchesSelector(g,e),u.guid||(u.guid=i.guid++),(y=p.events)||(y=p.events=Object.create(null)),(v=p.handle)||(v=p.handle=function(t){return typeof i!="undefined"&&i.event.triggered!==t.type?i.event.dispatch.apply(n,arguments):undefined}),t=(t||"").match(a)||[""],b=t.length;b--;)(w=au.exec(t[b])||[],o=d=w[1],k=(w[2]||"").split(".").sort(),o)&&(s=i.event.special[o]||{},o=(e?s.delegateType:s.bindType)||o,s=i.event.special[o]||{},h=i.extend({type:o,origType:d,data:f,handler:u,guid:u.guid,selector:e,needsContext:e&&i.expr.match.needsContext.test(e),namespace:k.join(".")},l),(c=y[o])||(c=y[o]=[],c.delegateCount=0,s.setup&&s.setup.call(n,f,k,v)!==!1||n.addEventListener&&n.addEventListener(o,v)),s.add&&(s.add.call(n,h),h.handler.guid||(h.handler.guid=u.guid)),e?c.splice(c.delegateCount++,0,h):c.push(h),i.event.global[o]=!0)},remove:function(n,t,u,f,e){var y,k,h,v,p,s,c,l,o,b,d,w=r.hasData(n)&&r.get(n);if(w&&(v=w.events)){for(t=(t||"").match(a)||[""],p=t.length;p--;){if(h=au.exec(t[p])||[],o=d=h[1],b=(h[2]||"").split(".").sort(),!o){for(o in v)i.event.remove(n,o+t[p],u,f,!0);continue}for(c=i.event.special[o]||{},o=(f?c.delegateType:c.bindType)||o,l=v[o]||[],h=h[2]&&new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"),k=y=l.length;y--;)s=l[y],(e||d===s.origType)&&(!u||u.guid===s.guid)&&(!h||h.test(s.namespace))&&(!f||f===s.selector||f==="**"&&s.selector)&&(l.splice(y,1),s.selector&&l.delegateCount--,c.remove&&c.remove.call(n,s));k&&!l.length&&(c.teardown&&c.teardown.call(n,b,w.handle)!==!1||i.removeEvent(n,o,w.handle),delete v[o])}i.isEmptyObject(v)&&r.remove(n,"handle events")}},dispatch:function(n){var u,c,s,e,f,l,h=new Array(arguments.length),t=i.event.fix(n),a=(r.get(this,"events")||Object.create(null))[t.type]||[],o=i.event.special[t.type]||{};for(h[0]=t,u=1;u<arguments.length;u++)h[u]=arguments[u];if(t.delegateTarget=this,!o.preDispatch||o.preDispatch.call(this,t)!==!1){for(l=i.event.handlers.call(this,t,a),u=0;(e=l[u++])&&!t.isPropagationStopped();)for(t.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!t.isImmediatePropagationStopped();)(!t.rnamespace||f.namespace===!1||t.rnamespace.test(f.namespace))&&(t.handleObj=f,t.data=f.data,s=((i.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,h),s!==undefined&&(t.result=s)===!1&&(t.preventDefault(),t.stopPropagation()));return o.postDispatch&&o.postDispatch.call(this,t),t.result}},handlers:function(n,t){var f,e,u,o,s,c=[],h=t.delegateCount,r=n.target;if(h&&r.nodeType&&!(n.type==="click"&&n.button>=1))for(;r!==this;r=r.parentNode||this)if(r.nodeType===1&&!(n.type==="click"&&r.disabled===!0)){for(o=[],s={},f=0;f<h;f++)e=t[f],u=e.selector+" ",s[u]===undefined&&(s[u]=e.needsContext?i(u,this).index(r)>-1:i.find(u,this,null,[r]).length),s[u]&&o.push(e);o.length&&c.push({elem:r,handlers:o})}return r=this,h<t.length&&c.push({elem:r,handlers:t.slice(h)}),c},addProp:function(n,t){Object.defineProperty(i.Event.prototype,n,{enumerable:!0,configurable:!0,get:u(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[n]},set:function(t){Object.defineProperty(this,n,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(n){return n[i.expando]?n:new i.Event(n)},special:{load:{noBubble:!0},click:{setup:function(n){var t=this||n;return kt.test(t.type)&&t.click&&l(t,"input")&&ei(t,"click",ht),!1},trigger:function(n){var t=this||n;return kt.test(t.type)&&t.click&&l(t,"input")&&ei(t,"click"),!0},_default:function(n){var t=n.target;return kt.test(t.type)&&t.click&&l(t,"input")&&r.get(t,"click")||l(t,"a")}},beforeunload:{postDispatch:function(n){n.result!==undefined&&n.originalEvent&&(n.originalEvent.returnValue=n.result)}}}};i.removeEvent=function(n,t,i){n.removeEventListener&&n.removeEventListener(t,i)};i.Event=function(n,t){if(!(this instanceof i.Event))return new i.Event(n,t);n&&n.type?(this.originalEvent=n,this.type=n.type,this.isDefaultPrevented=n.defaultPrevented||n.defaultPrevented===undefined&&n.returnValue===!1?ht:ct,this.target=n.target&&n.target.nodeType===3?n.target.parentNode:n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget):this.type=n;t&&i.extend(this,t);this.timeStamp=n&&n.timeStamp||Date.now();this[i.expando]=!0};i.Event.prototype={constructor:i.Event,isDefaultPrevented:ct,isPropagationStopped:ct,isImmediatePropagationStopped:ct,isSimulated:!1,preventDefault:function(){var n=this.originalEvent;this.isDefaultPrevented=ht;n&&!this.isSimulated&&n.preventDefault()},stopPropagation:function(){var n=this.originalEvent;this.isPropagationStopped=ht;n&&!this.isSimulated&&n.stopPropagation()},stopImmediatePropagation:function(){var n=this.originalEvent;this.isImmediatePropagationStopped=ht;n&&!this.isSimulated&&n.stopImmediatePropagation();this.stopPropagation()}};i.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(n){var t=n.button;return n.which==null&&ve.test(n.type)?n.charCode!=null?n.charCode:n.keyCode:!n.which&&t!==undefined&&ye.test(n.type)?t&1?1:t&2?3:t&4?2:0:n.which}},i.event.addProp);i.each({focus:"focusin",blur:"focusout"},function(n,t){i.event.special[n]={setup:function(){return ei(this,n,pe),!1},trigger:function(){return ei(this,n),!0},delegateType:t}});i.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(n,t){i.event.special[n]={delegateType:t,bindType:t,handle:function(n){var u,f=this,r=n.relatedTarget,e=n.handleObj;return r&&(r===f||i.contains(f,r))||(n.type=e.origType,u=e.handler.apply(this,arguments),n.type=t),u}}});i.fn.extend({on:function(n,t,i,r){return bi(this,n,t,i,r)},one:function(n,t,i,r){return bi(this,n,t,i,r,1)},off:function(n,t,r){var u,f;if(n&&n.preventDefault&&n.handleObj)return u=n.handleObj,i(n.delegateTarget).off(u.namespace?u.origType+"."+u.namespace:u.origType,u.selector,u.handler),this;if(typeof n=="object"){for(f in n)this.off(f,t,n[f]);return this}return(t===!1||typeof t=="function")&&(r=t,t=undefined),r===!1&&(r=ct),this.each(function(){i.event.remove(this,n,r,t)})}});var be=/<script|<style|<link/i,ke=/checked\s*(?:[^=]|=\s*.checked.)/i,de=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;i.extend({htmlPrefilter:function(n){return n},clone:function(n,t,r){var u,c,o,f,h=n.cloneNode(!0),l=ot(n);if(!e.noCloneChecked&&(n.nodeType===1||n.nodeType===11)&&!i.isXMLDoc(n))for(f=s(h),o=s(n),u=0,c=o.length;u<c;u++)to(o[u],f[u]);if(t)if(r)for(o=o||s(n),f=f||s(h),u=0,c=o.length;u<c;u++)yu(o[u],f[u]);else yu(n,h);return f=s(h,"script"),f.length>0&&wi(f,!l&&s(n,"script")),h},cleanData:function(n){for(var u,t,f,s=i.event.special,e=0;(t=n[e])!==undefined;e++)if(et(t)){if(u=t[r.expando]){if(u.events)for(f in u.events)s[f]?i.event.remove(t,f):i.removeEvent(t,f,u.handle);t[r.expando]=undefined}t[o.expando]&&(t[o.expando]=undefined)}}});i.fn.extend({detach:function(n){return pu(this,n,!0)},remove:function(n){return pu(this,n)},text:function(n){return w(this,function(n){return n===undefined?i.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=n)})},null,n,arguments.length)},append:function(){return lt(this,arguments,function(n){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=vu(this,n);t.appendChild(n)}})},prepend:function(){return lt(this,arguments,function(n){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=vu(this,n);t.insertBefore(n,t.firstChild)}})},before:function(){return lt(this,arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this)})},after:function(){return lt(this,arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling)})},empty:function(){for(var n,t=0;(n=this[t])!=null;t++)n.nodeType===1&&(i.cleanData(s(n,!1)),n.textContent="");return this},clone:function(n,t){return n=n==null?!1:n,t=t==null?n:t,this.map(function(){return i.clone(this,n,t)})},html:function(n){return w(this,function(n){var t=this[0]||{},r=0,u=this.length;if(n===undefined&&t.nodeType===1)return t.innerHTML;if(typeof n=="string"&&!be.test(n)&&!c[(su.exec(n)||["",""])[1].toLowerCase()]){n=i.htmlPrefilter(n);try{for(;r<u;r++)t=this[r]||{},t.nodeType===1&&(i.cleanData(s(t,!1)),t.innerHTML=n);t=0}catch(f){}}t&&this.empty().append(n)},null,n,arguments.length)},replaceWith:function(){var n=[];return lt(this,arguments,function(t){var r=this.parentNode;i.inArray(this,n)<0&&(i.cleanData(s(this)),r&&r.replaceChild(t,this))},n)}});i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(n,t){i.fn[n]=function(n){for(var u,f=[],e=i(n),o=e.length-1,r=0;r<=o;r++)u=r===o?this:this.clone(!0),i(e[r])[t](u),li.apply(f,u.get());return this.pushStack(f)}});var ki=new RegExp("^("+eu+")(?!px)[a-z%]+$","i"),oi=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=n),i.getComputedStyle(t)},wu=function(n,t,i){var u,r,f={};for(r in t)f[r]=n.style[r],n.style[r]=t[r];u=i.call(n);for(r in t)n.style[r]=f[r];return u},io=new RegExp(b.join("|"),"i");(function(){function r(){if(t){s.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0";t.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%";g.appendChild(s).appendChild(t);var i=n.getComputedStyle(t);h=i.top!=="1%";v=u(i.marginLeft)===12;t.style.right="60%";a=u(i.right)===36;c=u(i.width)===36;t.style.position="absolute";l=u(t.offsetWidth/3)===12;g.removeChild(s);t=null}}function u(n){return Math.round(parseFloat(n))}var h,c,l,a,o,v,s=f.createElement("div"),t=f.createElement("div");t.style&&(t.style.backgroundClip="content-box",t.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle=t.style.backgroundClip==="content-box",i.extend(e,{boxSizingReliable:function(){return r(),c},pixelBoxStyles:function(){return r(),a},pixelPosition:function(){return r(),h},reliableMarginLeft:function(){return r(),v},scrollboxSize:function(){return r(),l},reliableTrDimensions:function(){var t,i,r,u;return o==null&&(t=f.createElement("table"),i=f.createElement("tr"),r=f.createElement("div"),t.style.cssText="position:absolute;left:-11111px",i.style.height="1px",r.style.height="9px",g.appendChild(t).appendChild(i).appendChild(r),u=n.getComputedStyle(i),o=parseInt(u.height)>3,g.removeChild(t)),o}}))})();var ku=["Webkit","Moz","ms"],du=f.createElement("div").style,gu={};var uo=/^(none|table(?!-c[ea]).+)/,nf=/^--/,fo={position:"absolute",visibility:"hidden",display:"block"},tf={letterSpacing:"0",fontWeight:"400"};i.extend({cssHooks:{opacity:{get:function(n,t){if(t){var i=dt(n,"opacity");return i===""?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(n,t,r,u){if(n&&n.nodeType!==3&&n.nodeType!==8&&n.style){var f,s,o,c=y(t),l=nf.test(t),h=n.style;if(l||(t=di(c)),o=i.cssHooks[t]||i.cssHooks[c],r!==undefined){if(s=typeof r,s==="string"&&(f=wt.exec(r))&&f[1]&&(r=ou(n,t,f),s="number"),r==null||r!==r)return;s!=="number"||l||(r+=f&&f[3]||(i.cssNumber[c]?"":"px"));e.clearCloneStyle||r!==""||t.indexOf("background")!==0||(h[t]="inherit");o&&"set"in o&&(r=o.set(n,r,u))===undefined||(l?h.setProperty(t,r):h[t]=r)}else return o&&"get"in o&&(f=o.get(n,!1,u))!==undefined?f:h[t]}},css:function(n,t,r,u){var f,o,e,s=y(t),h=nf.test(t);return(h||(t=di(s)),e=i.cssHooks[t]||i.cssHooks[s],e&&"get"in e&&(f=e.get(n,!0,r)),f===undefined&&(f=dt(n,t,u)),f==="normal"&&t in tf&&(f=tf[t]),r===""||r)?(o=parseFloat(f),r===!0||isFinite(o)?o||0:f):f}});i.each(["height","width"],function(n,t){i.cssHooks[t]={get:function(n,r,u){if(r)return uo.test(i.css(n,"display"))&&(!n.getClientRects().length||!n.getBoundingClientRect().width)?wu(n,fo,function(){return uf(n,t,u)}):uf(n,t,u)},set:function(n,r,u){var s,f=oi(n),h=!e.scrollboxSize()&&f.position==="absolute",l=h||u,c=l&&i.css(n,"boxSizing",!1,f)==="border-box",o=u?gi(n,t,u,c,f):0;return c&&h&&(o-=Math.ceil(n["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(f[t])-gi(n,t,"border",!1,f)-.5)),o&&(s=wt.exec(r))&&(s[3]||"px")!=="px"&&(n.style[t]=r,r=i.css(n,t)),rf(n,r,o)}}});i.cssHooks.marginLeft=bu(e.reliableMarginLeft,function(n,t){if(t)return(parseFloat(dt(n,"marginLeft"))||n.getBoundingClientRect().left-wu(n,{marginLeft:0},function(){return n.getBoundingClientRect().left}))+"px"});i.each({margin:"",padding:"",border:"Width"},function(n,t){i.cssHooks[n+t]={expand:function(i){for(var r=0,f={},u=typeof i=="string"?i.split(" "):[i];r<4;r++)f[n+b[r]+t]=u[r]||u[r-2]||u[0];return f}};n!=="margin"&&(i.cssHooks[n+t].set=rf)});i.fn.extend({css:function(n,t){return w(this,function(n,t,r){var f,e,o={},u=0;if(Array.isArray(t)){for(f=oi(n),e=t.length;u<e;u++)o[t[u]]=i.css(n,t[u],!1,f);return o}return r!==undefined?i.style(n,t,r):i.css(n,t)},n,t,arguments.length>1)}});i.Tween=h;h.prototype={constructor:h,init:function(n,t,r,u,f,e){this.elem=n;this.prop=r;this.easing=f||i.easing._default;this.options=t;this.start=this.now=this.cur();this.end=u;this.unit=e||(i.cssNumber[r]?"":"px")},cur:function(){var n=h.propHooks[this.prop];return n&&n.get?n.get(this):h.propHooks._default.get(this)},run:function(n){var t,r=h.propHooks[this.prop];return this.pos=this.options.duration?t=i.easing[this.easing](n,this.options.duration*n,0,1,this.options.duration):t=n,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):h.propHooks._default.set(this),this}};h.prototype.init.prototype=h.prototype;h.propHooks={_default:{get:function(n){var t;return n.elem.nodeType!==1||n.elem[n.prop]!=null&&n.elem.style[n.prop]==null?n.elem[n.prop]:(t=i.css(n.elem,n.prop,""),!t||t==="auto"?0:t)},set:function(n){i.fx.step[n.prop]?i.fx.step[n.prop](n):n.elem.nodeType===1&&(i.cssHooks[n.prop]||n.elem.style[di(n.prop)]!=null)?i.style(n.elem,n.prop,n.now+n.unit):n.elem[n.prop]=n.now}}};h.propHooks.scrollTop=h.propHooks.scrollLeft={set:function(n){n.elem.nodeType&&n.elem.parentNode&&(n.elem[n.prop]=n.now)}};i.easing={linear:function(n){return n},swing:function(n){return.5-Math.cos(n*Math.PI)/2},_default:"swing"};i.fx=h.prototype.init;i.fx.step={};ff=/^(?:toggle|show|hide)$/;ef=/queueHooks$/;i.Animation=i.extend(v,{tweeners:{"*":[function(n,t){var i=this.createTween(n,t);return ou(i.elem,n,wt.exec(t),i),i}]},tweener:function(n,t){u(n)?(t=n,n=["*"]):n=n.match(a);for(var i,r=0,f=n.length;r<f;r++)i=n[r],v.tweeners[i]=v.tweeners[i]||[],v.tweeners[i].unshift(t)},prefilters:[eo],prefilter:function(n,t){t?v.prefilters.unshift(n):v.prefilters.push(n)}});i.speed=function(n,t,r){var f=n&&typeof n=="object"?i.extend({},n):{complete:r||!r&&t||u(n)&&n,duration:n,easing:r&&t||t&&!u(t)&&t};return i.fx.off?f.duration=0:typeof f.duration!="number"&&(f.duration=f.duration in i.fx.speeds?i.fx.speeds[f.duration]:i.fx.speeds._default),(f.queue==null||f.queue===!0)&&(f.queue="fx"),f.old=f.complete,f.complete=function(){u(f.old)&&f.old.call(this);f.queue&&i.dequeue(this,f.queue)},f};i.fn.extend({fadeTo:function(n,t,i,r){return this.filter(bt).css("opacity",0).show().end().animate({opacity:t},n,i,r)},animate:function(n,t,u,f){var s=i.isEmptyObject(n),o=i.speed(t,u,f),e=function(){var t=v(this,i.extend({},n),o);(s||r.get(this,"finish"))&&t.stop(!0)};return e.finish=e,s||o.queue===!1?this.each(e):this.queue(o.queue,e)},stop:function(n,t,u){var f=function(n){var t=n.stop;delete n.stop;t(u)};return typeof n!="string"&&(u=t,t=n,n=undefined),t&&this.queue(n||"fx",[]),this.each(function(){var s=!0,t=n!=null&&n+"queueHooks",o=i.timers,e=r.get(this);if(t)e[t]&&e[t].stop&&f(e[t]);else for(t in e)e[t]&&e[t].stop&&ef.test(t)&&f(e[t]);for(t=o.length;t--;)o[t].elem===this&&(n==null||o[t].queue===n)&&(o[t].anim.stop(u),s=!1,o.splice(t,1));(s||!u)&&i.dequeue(this,n)})},finish:function(n){return n!==!1&&(n=n||"fx"),this.each(function(){var t,e=r.get(this),u=e[n+"queue"],o=e[n+"queueHooks"],f=i.timers,s=u?u.length:0;for(e.finish=!0,i.queue(this,n,[]),o&&o.stop&&o.stop.call(this,!0),t=f.length;t--;)f[t].elem===this&&f[t].queue===n&&(f[t].anim.stop(!0),f.splice(t,1));for(t=0;t<s;t++)u[t]&&u[t].finish&&u[t].finish.call(this);delete e.finish})}});i.each(["toggle","show","hide"],function(n,t){var r=i.fn[t];i.fn[t]=function(n,i,u){return n==null||typeof n=="boolean"?r.apply(this,arguments):this.animate(hi(t,!0),n,i,u)}});i.each({slideDown:hi("show"),slideUp:hi("hide"),slideToggle:hi("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(n,t){i.fn[n]=function(n,i,r){return this.animate(t,n,i,r)}});i.timers=[];i.fx.tick=function(){var r,n=0,t=i.timers;for(at=Date.now();n<t.length;n++)r=t[n],r()||t[n]!==r||t.splice(n--,1);t.length||i.fx.stop();at=undefined};i.fx.timer=function(n){i.timers.push(n);i.fx.start()};i.fx.interval=13;i.fx.start=function(){si||(si=!0,nr())};i.fx.stop=function(){si=null};i.fx.speeds={slow:600,fast:200,_default:400};i.fn.delay=function(t,r){return t=i.fx?i.fx.speeds[t]||t:t,r=r||"fx",this.queue(r,function(i,r){var u=n.setTimeout(i,t);r.stop=function(){n.clearTimeout(u)}})},function(){var n=f.createElement("input"),t=f.createElement("select"),i=t.appendChild(f.createElement("option"));n.type="checkbox";e.checkOn=n.value!=="";e.optSelected=i.selected;n=f.createElement("input");n.value="t";n.type="radio";e.radioValue=n.value==="t"}();vt=i.expr.attrHandle;i.fn.extend({attr:function(n,t){return w(this,i.attr,n,t,arguments.length>1)},removeAttr:function(n){return this.each(function(){i.removeAttr(this,n)})}});i.extend({attr:function(n,t,r){var u,f,e=n.nodeType;if(e!==3&&e!==8&&e!==2){if(typeof n.getAttribute=="undefined")return i.prop(n,t,r);if(e===1&&i.isXMLDoc(n)||(f=i.attrHooks[t.toLowerCase()]||(i.expr.match.bool.test(t)?hf:undefined)),r!==undefined){if(r===null){i.removeAttr(n,t);return}return f&&"set"in f&&(u=f.set(n,r,t))!==undefined?u:(n.setAttribute(t,r+""),r)}return f&&"get"in f&&(u=f.get(n,t))!==null?u:(u=i.find.attr(n,t),u==null?undefined:u)}},attrHooks:{type:{set:function(n,t){if(!e.radioValue&&t==="radio"&&l(n,"input")){var i=n.value;return n.setAttribute("type",t),i&&(n.value=i),t}}}},removeAttr:function(n,t){var i,u=0,r=t&&t.match(a);if(r&&n.nodeType===1)while(i=r[u++])n.removeAttribute(i)}});hf={set:function(n,t,r){return t===!1?i.removeAttr(n,r):n.setAttribute(r,r),r}};i.each(i.expr.match.bool.source.match(/\w+/g),function(n,t){var r=vt[t]||i.find.attr;vt[t]=function(n,t,i){var f,e,u=t.toLowerCase();return i||(e=vt[u],vt[u]=f,f=r(n,t,i)!=null?u:null,vt[u]=e),f}});cf=/^(?:input|select|textarea|button)$/i;lf=/^(?:a|area)$/i;i.fn.extend({prop:function(n,t){return w(this,i.prop,n,t,arguments.length>1)},removeProp:function(n){return this.each(function(){delete this[i.propFix[n]||n]})}});i.extend({prop:function(n,t,r){var f,u,e=n.nodeType;if(e!==3&&e!==8&&e!==2)return(e===1&&i.isXMLDoc(n)||(t=i.propFix[t]||t,u=i.propHooks[t]),r!==undefined)?u&&"set"in u&&(f=u.set(n,r,t))!==undefined?f:n[t]=r:u&&"get"in u&&(f=u.get(n,t))!==null?f:n[t]},propHooks:{tabIndex:{get:function(n){var t=i.find.attr(n,"tabindex");return t?parseInt(t,10):cf.test(n.nodeName)||lf.test(n.nodeName)&&n.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});e.optSelected||(i.propHooks.selected={get:function(n){var t=n.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(n){var t=n.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}});i.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){i.propFix[this.toLowerCase()]=this});i.fn.extend({addClass:function(n){var f,r,t,e,o,h,s,c=0;if(u(n))return this.each(function(t){i(this).addClass(n.call(this,t,tt(this)))});if(f=tr(n),f.length)while(r=this[c++])if(e=tt(r),t=r.nodeType===1&&" "+nt(e)+" ",t){for(h=0;o=f[h++];)t.indexOf(" "+o+" ")<0&&(t+=o+" ");s=nt(t);e!==s&&r.setAttribute("class",s)}return this},removeClass:function(n){var f,r,t,e,o,h,s,c=0;if(u(n))return this.each(function(t){i(this).removeClass(n.call(this,t,tt(this)))});if(!arguments.length)return this.attr("class","");if(f=tr(n),f.length)while(r=this[c++])if(e=tt(r),t=r.nodeType===1&&" "+nt(e)+" ",t){for(h=0;o=f[h++];)while(t.indexOf(" "+o+" ")>-1)t=t.replace(" "+o+" "," ");s=nt(t);e!==s&&r.setAttribute("class",s)}return this},toggleClass:function(n,t){var f=typeof n,e=f==="string"||Array.isArray(n);return typeof t=="boolean"&&e?t?this.addClass(n):this.removeClass(n):u(n)?this.each(function(r){i(this).toggleClass(n.call(this,r,tt(this),t),t)}):this.each(function(){var t,o,u,s;if(e)for(o=0,u=i(this),s=tr(n);t=s[o++];)u.hasClass(t)?u.removeClass(t):u.addClass(t);else(n===undefined||f==="boolean")&&(t=tt(this),t&&r.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||n===!1?"":r.get(this,"__className__")||""))})},hasClass:function(n){for(var t,r=0,i=" "+n+" ";t=this[r++];)if(t.nodeType===1&&(" "+nt(tt(t))+" ").indexOf(i)>-1)return!0;return!1}});af=/\r/g;i.fn.extend({val:function(n){var t,r,e,f=this[0];return arguments.length?(e=u(n),this.each(function(r){var u;this.nodeType===1&&(u=e?n.call(this,r,i(this).val()):n,u==null?u="":typeof u=="number"?u+="":Array.isArray(u)&&(u=i.map(u,function(n){return n==null?"":n+""})),t=i.valHooks[this.type]||i.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&t.set(this,u,"value")!==undefined||(this.value=u))})):f?(t=i.valHooks[f.type]||i.valHooks[f.nodeName.toLowerCase()],t&&"get"in t&&(r=t.get(f,"value"))!==undefined)?r:(r=f.value,typeof r=="string")?r.replace(af,""):r==null?"":r:void 0}});i.extend({valHooks:{option:{get:function(n){var t=i.find.attr(n,"value");return t!=null?t:nt(i.text(n))}},select:{get:function(n){for(var e,t,o=n.options,u=n.selectedIndex,f=n.type==="select-one",s=f?null:[],h=f?u+1:o.length,r=u<0?h:f?u:0;r<h;r++)if(t=o[r],(t.selected||r===u)&&!t.disabled&&(!t.parentNode.disabled||!l(t.parentNode,"optgroup"))){if(e=i(t).val(),f)return e;s.push(e)}return s},set:function(n,t){for(var u,r,f=n.options,e=i.makeArray(t),o=f.length;o--;)r=f[o],(r.selected=i.inArray(i.valHooks.option.get(r),e)>-1)&&(u=!0);return u||(n.selectedIndex=-1),e}}}});i.each(["radio","checkbox"],function(){i.valHooks[this]={set:function(n,t){if(Array.isArray(t))return n.checked=i.inArray(i(n).val(),t)>-1}};e.checkOn||(i.valHooks[this].get=function(n){return n.getAttribute("value")===null?"on":n.value})});e.focusin="onfocusin"in n;ir=/^(?:focusinfocus|focusoutblur)$/;rr=function(n){n.stopPropagation()};i.extend(i.event,{trigger:function(t,e,o,s){var k,c,l,d,v,y,a,w,b=[o||f],h=ii.call(t,"type")?t.type:t,p=ii.call(t,"namespace")?t.namespace.split("."):[];if((c=w=l=o=o||f,o.nodeType!==3&&o.nodeType!==8)&&!ir.test(h+i.event.triggered)&&(h.indexOf(".")>-1&&(p=h.split("."),h=p.shift(),p.sort()),v=h.indexOf(":")<0&&"on"+h,t=t[i.expando]?t:new i.Event(h,typeof t=="object"&&t),t.isTrigger=s?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=o),e=e==null?[t]:i.makeArray(e,[t]),a=i.event.special[h]||{},s||!a.trigger||a.trigger.apply(o,e)!==!1)){if(!s&&!a.noBubble&&!it(o)){for(d=a.delegateType||h,ir.test(d+h)||(c=c.parentNode);c;c=c.parentNode)b.push(c),l=c;l===(o.ownerDocument||f)&&b.push(l.defaultView||l.parentWindow||n)}for(k=0;(c=b[k++])&&!t.isPropagationStopped();)w=c,t.type=k>1?d:a.bindType||h,y=(r.get(c,"events")||Object.create(null))[t.type]&&r.get(c,"handle"),y&&y.apply(c,e),y=v&&c[v],y&&y.apply&&et(c)&&(t.result=y.apply(c,e),t.result===!1&&t.preventDefault());return t.type=h,s||t.isDefaultPrevented()||(!a._default||a._default.apply(b.pop(),e)===!1)&&et(o)&&v&&u(o[h])&&!it(o)&&(l=o[v],l&&(o[v]=null),i.event.triggered=h,t.isPropagationStopped()&&w.addEventListener(h,rr),o[h](),t.isPropagationStopped()&&w.removeEventListener(h,rr),i.event.triggered=undefined,l&&(o[v]=l)),t.result}},simulate:function(n,t,r){var u=i.extend(new i.Event,r,{type:n,isSimulated:!0});i.event.trigger(u,null,t)}});i.fn.extend({trigger:function(n,t){return this.each(function(){i.event.trigger(n,t,this)})},triggerHandler:function(n,t){var r=this[0];if(r)return i.event.trigger(n,t,r,!0)}});e.focusin||i.each({focus:"focusin",blur:"focusout"},function(n,t){var u=function(n){i.event.simulate(t,n.target,i.event.fix(n))};i.event.special[t]={setup:function(){var i=this.ownerDocument||this.document||this,f=r.access(i,t);f||i.addEventListener(n,u,!0);r.access(i,t,(f||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,f=r.access(i,t)-1;f?r.access(i,t,f):(i.removeEventListener(n,u,!0),r.remove(i,t))}}});var gt=n.location,vf={guid:Date.now()},ur=/\?/;i.parseXML=function(t){var r;if(!t||typeof t!="string")return null;try{r=(new n.DOMParser).parseFromString(t,"text/xml")}catch(u){r=undefined}return(!r||r.getElementsByTagName("parsererror").length)&&i.error("Invalid XML: "+t),r};var so=/\[\]$/,yf=/\r?\n/g,ho=/^(?:submit|button|image|reset|file)$/i,co=/^(?:input|select|textarea|keygen)/i;i.param=function(n,t){var r,f=[],e=function(n,t){var i=u(t)?t():t;f[f.length]=encodeURIComponent(n)+"="+encodeURIComponent(i==null?"":i)};if(n==null)return"";if(Array.isArray(n)||n.jquery&&!i.isPlainObject(n))i.each(n,function(){e(this.name,this.value)});else for(r in n)fr(r,n[r],t,e);return f.join("&")};i.fn.extend({serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var n=i.prop(this,"elements");return n?i.makeArray(n):this}).filter(function(){var n=this.type;return this.name&&!i(this).is(":disabled")&&co.test(this.nodeName)&&!ho.test(n)&&(this.checked||!kt.test(n))}).map(function(n,t){var r=i(this).val();return r==null?null:Array.isArray(r)?i.map(r,function(n){return{name:t.name,value:n.replace(yf,"\r\n")}}):{name:t.name,value:r.replace(yf,"\r\n")}}).get()}});var lo=/%20/g,ao=/#.*$/,vo=/([?&])_=[^&]*/,yo=/^(.*?):[ \t]*([^\r\n]*)$/mg,po=/^(?:GET|HEAD)$/,wo=/^\/\//,pf={},er={},wf="*/".concat("*"),or=f.createElement("a");return or.href=gt.href,i.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(gt.protocol),global:!0,processData:!0,"async":!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":wf,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":i.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(n,t){return t?sr(sr(n,i.ajaxSettings),t):sr(i.ajaxSettings,n)},ajaxPrefilter:bf(pf),ajaxTransport:bf(er),ajax:function(t,r){function b(t,r,f,l){var v,rt,g,p,b,a=r;s||(s=!0,d&&n.clearTimeout(d),c=undefined,k=l||"",e.readyState=t>0?4:0,v=t>=200&&t<300||t===304,f&&(p=bo(u,e,f)),!v&&i.inArray("script",u.dataTypes)>-1&&(u.converters["text script"]=function(){}),p=ko(u,p,e,v),v?(u.ifModified&&(b=e.getResponseHeader("Last-Modified"),b&&(i.lastModified[o]=b),b=e.getResponseHeader("etag"),b&&(i.etag[o]=b)),t===204||u.type==="HEAD"?a="nocontent":t===304?a="notmodified":(a=p.state,rt=p.data,g=p.error,v=!g)):(g=a,(t||!a)&&(a="error",t<0&&(t=0))),e.status=t,e.statusText=(r||a)+"",v?tt.resolveWith(h,[rt,a,e]):tt.rejectWith(h,[e,a,g]),e.statusCode(w),w=undefined,y&&nt.trigger(v?"ajaxSuccess":"ajaxError",[e,u,v?rt:g]),it.fireWith(h,[e,a]),y&&(nt.trigger("ajaxComplete",[e,u]),--i.active||i.event.trigger("ajaxStop")))}typeof t=="object"&&(r=t,t=undefined);r=r||{};var c,o,k,v,d,l,s,y,g,p,u=i.ajaxSetup({},r),h=u.context||u,nt=u.context&&(h.nodeType||h.jquery)?i(h):i.event,tt=i.Deferred(),it=i.Callbacks("once memory"),w=u.statusCode||{},rt={},ut={},ft="canceled",e={readyState:0,getResponseHeader:function(n){var t;if(s){if(!v)for(v={};t=yo.exec(k);)v[t[1].toLowerCase()+" "]=(v[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=v[n.toLowerCase()+" "]}return t==null?null:t.join(", ")},getAllResponseHeaders:function(){return s?k:null},setRequestHeader:function(n,t){return s==null&&(n=ut[n.toLowerCase()]=ut[n.toLowerCase()]||n,rt[n]=t),this},overrideMimeType:function(n){return s==null&&(u.mimeType=n),this},statusCode:function(n){var t;if(n)if(s)e.always(n[e.status]);else for(t in n)w[t]=[w[t],n[t]];return this},abort:function(n){var t=n||ft;return c&&c.abort(t),b(0,t),this}};if(tt.promise(e),u.url=((t||u.url||gt.href)+"").replace(wo,gt.protocol+"//"),u.type=r.method||r.type||u.method||u.type,u.dataTypes=(u.dataType||"*").toLowerCase().match(a)||[""],u.crossDomain==null){l=f.createElement("a");try{l.href=u.url;l.href=l.href;u.crossDomain=or.protocol+"//"+or.host!=l.protocol+"//"+l.host}catch(et){u.crossDomain=!0}}if(u.data&&u.processData&&typeof u.data!="string"&&(u.data=i.param(u.data,u.traditional)),kf(pf,u,r,e),s)return e;y=i.event&&u.global;y&&i.active++==0&&i.event.trigger("ajaxStart");u.type=u.type.toUpperCase();u.hasContent=!po.test(u.type);o=u.url.replace(ao,"");u.hasContent?u.data&&u.processData&&(u.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(u.data=u.data.replace(lo,"+")):(p=u.url.slice(o.length),u.data&&(u.processData||typeof u.data=="string")&&(o+=(ur.test(o)?"&":"?")+u.data,delete u.data),u.cache===!1&&(o=o.replace(vo,"$1"),p=(ur.test(o)?"&":"?")+"_="+vf.guid+++p),u.url=o+p);u.ifModified&&(i.lastModified[o]&&e.setRequestHeader("If-Modified-Since",i.lastModified[o]),i.etag[o]&&e.setRequestHeader("If-None-Match",i.etag[o]));(u.data&&u.hasContent&&u.contentType!==!1||r.contentType)&&e.setRequestHeader("Content-Type",u.contentType);e.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+(u.dataTypes[0]!=="*"?", "+wf+"; q=0.01":""):u.accepts["*"]);for(g in u.headers)e.setRequestHeader(g,u.headers[g]);if(u.beforeSend&&(u.beforeSend.call(h,e,u)===!1||s))return e.abort();if(ft="abort",it.add(u.complete),e.done(u.success),e.fail(u.error),c=kf(er,u,r,e),c){if(e.readyState=1,y&&nt.trigger("ajaxSend",[e,u]),s)return e;u.async&&u.timeout>0&&(d=n.setTimeout(function(){e.abort("timeout")},u.timeout));try{s=!1;c.send(rt,b)}catch(et){if(s)throw et;b(-1,et)}}else b(-1,"No Transport");return e},getJSON:function(n,t,r){return i.get(n,t,r,"json")},getScript:function(n,t){return i.get(n,undefined,t,"script")}}),i.each(["get","post"],function(n,t){i[t]=function(n,r,f,e){return u(r)&&(e=e||f,f=r,r=undefined),i.ajax(i.extend({url:n,type:t,dataType:e,data:r,success:f},i.isPlainObject(n)&&n))}}),i.ajaxPrefilter(function(n){for(var t in n.headers)t.toLowerCase()==="content-type"&&(n.contentType=n.headers[t]||"")}),i._evalUrl=function(n,t,r){return i.ajax({url:n,type:"GET",dataType:"script",cache:!0,"async":!1,global:!1,converters:{"text script":function(){}},dataFilter:function(n){i.globalEval(n,t,r)}})},i.fn.extend({wrapAll:function(n){var t;return this[0]&&(u(n)&&(n=n.call(this[0])),t=i(n,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var n=this;n.firstElementChild;)n=n.firstElementChild;return n}).append(this)),this},wrapInner:function(n){return u(n)?this.each(function(t){i(this).wrapInner(n.call(this,t))}):this.each(function(){var t=i(this),r=t.contents();r.length?r.wrapAll(n):t.append(n)})},wrap:function(n){var t=u(n);return this.each(function(r){i(this).wrapAll(t?n.call(this,r):n)})},unwrap:function(n){return this.parent(n).not("body").each(function(){i(this).replaceWith(this.childNodes)}),this}}),i.expr.pseudos.hidden=function(n){return!i.expr.pseudos.visible(n)},i.expr.pseudos.visible=function(n){return!!(n.offsetWidth||n.offsetHeight||n.getClientRects().length)},i.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}},df={0:200,1223:204},yt=i.ajaxSettings.xhr(),e.cors=!!yt&&"withCredentials"in yt,e.ajax=yt=!!yt,i.ajaxTransport(function(t){var i,r;if(e.cors||yt&&!t.crossDomain)return{send:function(u,f){var o,e=t.xhr();if(e.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)e[o]=t.xhrFields[o];t.mimeType&&e.overrideMimeType&&e.overrideMimeType(t.mimeType);t.crossDomain||u["X-Requested-With"]||(u["X-Requested-With"]="XMLHttpRequest");for(o in u)e.setRequestHeader(o,u[o]);i=function(n){return function(){i&&(i=r=e.onload=e.onerror=e.onabort=e.ontimeout=e.onreadystatechange=null,n==="abort"?e.abort():n==="error"?typeof e.status!="number"?f(0,"error"):f(e.status,e.statusText):f(df[e.status]||e.status,e.statusText,(e.responseType||"text")!=="text"||typeof e.responseText!="string"?{binary:e.response}:{text:e.responseText},e.getAllResponseHeaders()))}};e.onload=i();r=e.onerror=e.ontimeout=i("error");e.onabort!==undefined?e.onabort=r:e.onreadystatechange=function(){e.readyState===4&&n.setTimeout(function(){i&&r()})};i=i("abort");try{e.send(t.hasContent&&t.data||null)}catch(s){if(i)throw s;}},abort:function(){i&&i()}}}),i.ajaxPrefilter(function(n){n.crossDomain&&(n.contents.script=!1)}),i.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(n){return i.globalEval(n),n}}}),i.ajaxPrefilter("script",function(n){n.cache===undefined&&(n.cache=!1);n.crossDomain&&(n.type="GET")}),i.ajaxTransport("script",function(n){if(n.crossDomain||n.scriptAttrs){var r,t;return{send:function(u,e){r=i("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",t=function(n){r.remove();t=null;n&&e(n.type==="error"?404:200,n.type)});f.head.appendChild(r[0])},abort:function(){t&&t()}}}}),hr=[],ci=/(=)\?(?=&|$)|\?\?/,i.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var n=hr.pop()||i.expando+"_"+vf.guid++;return this[n]=!0,n}}),i.ajaxPrefilter("json jsonp",function(t,r,f){var e,o,s,h=t.jsonp!==!1&&(ci.test(t.url)?"url":typeof t.data=="string"&&(t.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&ci.test(t.data)&&"data");if(h||t.dataTypes[0]==="jsonp")return e=t.jsonpCallback=u(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,h?t[h]=t[h].replace(ci,"$1"+e):t.jsonp!==!1&&(t.url+=(ur.test(t.url)?"&":"?")+t.jsonp+"="+e),t.converters["script json"]=function(){return s||i.error(e+" was not called"),s[0]},t.dataTypes[0]="json",o=n[e],n[e]=function(){s=arguments},f.always(function(){o===undefined?i(n).removeProp(e):n[e]=o;t[e]&&(t.jsonpCallback=r.jsonpCallback,hr.push(e));s&&u(o)&&o(s[0]);s=o=undefined}),"script"}),e.createHTMLDocument=function(){var n=f.implementation.createHTMLDocument("").body;return n.innerHTML="<form><\/form><form><\/form>",n.childNodes.length===2}(),i.parseHTML=function(n,t,r){if(typeof n!="string")return[];typeof t=="boolean"&&(r=t,t=!1);var s,u,o;return(t||(e.createHTMLDocument?(t=f.implementation.createHTMLDocument(""),s=t.createElement("base"),s.href=f.location.href,t.head.appendChild(s)):t=f),u=vi.exec(n),o=!r&&[],u)?[t.createElement(u[1])]:(u=lu([n],t,o),o&&o.length&&i(o).remove(),i.merge([],u.childNodes))},i.fn.load=function(n,t,r){var f,s,h,e=this,o=n.indexOf(" ");return o>-1&&(f=nt(n.slice(o)),n=n.slice(0,o)),u(t)?(r=t,t=undefined):t&&typeof t=="object"&&(s="POST"),e.length>0&&i.ajax({url:n,type:s||"GET",dataType:"html",data:t}).done(function(n){h=arguments;e.html(f?i("<div>").append(i.parseHTML(n)).find(f):n)}).always(r&&function(n,t){e.each(function(){r.apply(this,h||[n.responseText,t,n])})}),this},i.expr.pseudos.animated=function(n){return i.grep(i.timers,function(t){return n===t.elem}).length},i.offset={setOffset:function(n,t,r){var o,s,h,c,e,l,y,a=i.css(n,"position"),v=i(n),f={};a==="static"&&(n.style.position="relative");e=v.offset();h=i.css(n,"top");l=i.css(n,"left");y=(a==="absolute"||a==="fixed")&&(h+l).indexOf("auto")>-1;y?(o=v.position(),c=o.top,s=o.left):(c=parseFloat(h)||0,s=parseFloat(l)||0);u(t)&&(t=t.call(n,r,i.extend({},e)));t.top!=null&&(f.top=t.top-e.top+c);t.left!=null&&(f.left=t.left-e.left+s);"using"in t?t.using.call(n,f):(typeof f.top=="number"&&(f.top+="px"),typeof f.left=="number"&&(f.left+="px"),v.css(f))}},i.fn.extend({offset:function(n){if(arguments.length)return n===undefined?this:this.each(function(t){i.offset.setOffset(this,n,t)});var r,u,t=this[0];if(t)return t.getClientRects().length?(r=t.getBoundingClientRect(),u=t.ownerDocument.defaultView,{top:r.top+u.pageYOffset,left:r.left+u.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var n,u,f,t=this[0],r={top:0,left:0};if(i.css(t,"position")==="fixed")u=t.getBoundingClientRect();else{for(u=this.offset(),f=t.ownerDocument,n=t.offsetParent||f.documentElement;n&&(n===f.body||n===f.documentElement)&&i.css(n,"position")==="static";)n=n.parentNode;n&&n!==t&&n.nodeType===1&&(r=i(n).offset(),r.top+=i.css(n,"borderTopWidth",!0),r.left+=i.css(n,"borderLeftWidth",!0))}return{top:u.top-r.top-i.css(t,"marginTop",!0),left:u.left-r.left-i.css(t,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var n=this.offsetParent;n&&i.css(n,"position")==="static";)n=n.offsetParent;return n||g})}}),i.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,t){var r="pageYOffset"===t;i.fn[n]=function(i){return w(this,function(n,i,u){var f;if(it(n)?f=n:n.nodeType===9&&(f=n.defaultView),u===undefined)return f?f[t]:n[i];f?f.scrollTo(r?f.pageXOffset:u,r?u:f.pageYOffset):n[i]=u},n,i,arguments.length)}}),i.each(["top","left"],function(n,t){i.cssHooks[t]=bu(e.pixelPosition,function(n,r){if(r)return r=dt(n,t),ki.test(r)?i(n).position()[t]+"px":r})}),i.each({Height:"height",Width:"width"},function(n,t){i.each({padding:"inner"+n,content:t,"":"outer"+n},function(r,u){i.fn[u]=function(f,e){var o=arguments.length&&(r||typeof f!="boolean"),s=r||(f===!0||e===!0?"margin":"border");return w(this,function(t,r,f){var e;return it(t)?u.indexOf("outer")===0?t["inner"+n]:t.document.documentElement["client"+n]:t.nodeType===9?(e=t.documentElement,Math.max(t.body["scroll"+n],e["scroll"+n],t.body["offset"+n],e["offset"+n],e["client"+n])):f===undefined?i.css(t,r,s):i.style(t,r,f,s)},t,o?f:undefined,o)}})}),i.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(n,t){i.fn[t]=function(n){return this.on(t,n)}}),i.fn.extend({bind:function(n,t,i){return this.on(n,null,t,i)},unbind:function(n,t){return this.off(n,null,t)},delegate:function(n,t,i,r){return this.on(t,n,i,r)},undelegate:function(n,t,i){return arguments.length===1?this.off(n,"**"):this.off(t,n||"**",i)},hover:function(n,t){return this.mouseenter(n).mouseleave(t||n)}}),i.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(n,t){i.fn[t]=function(n,i){return arguments.length>0?this.on(t,null,n,i):this.trigger(t)}}),gf=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,i.proxy=function(n,t){var f,e,r;return(typeof t=="string"&&(f=n[t],t=n,n=f),!u(n))?undefined:(e=k.call(arguments,2),r=function(){return n.apply(t||this,e.concat(k.call(arguments)))},r.guid=n.guid=n.guid||i.guid++,r)},i.holdReady=function(n){n?i.readyWait++:i.ready(!0)},i.isArray=Array.isArray,i.parseJSON=JSON.parse,i.nodeName=l,i.isFunction=u,i.isWindow=it,i.camelCase=y,i.type=rt,i.now=Date.now,i.isNumeric=function(n){var t=i.type(n);return(t==="number"||t==="string")&&!isNaN(n-parseFloat(n))},i.trim=function(n){return n==null?"":(n+"").replace(gf,"")},typeof define=="function"&&define.amd&&define("jquery",[],function(){return i}),ne=n.jQuery,te=n.$,i.noConflict=function(t){return n.$===i&&(n.$=te),t&&n.jQuery===i&&(n.jQuery=ne),i},typeof t=="undefined"&&(n.jQuery=n.$=i),i});
/*! jQuery v3.5.1 | (c) JS Foundation and other contributors | jquery.org/license */
!function(n,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=n.document?t(n,!0):function(n){if(!n.document)throw new Error("jQuery requires a window with a document");return t(n)}:t(n)}("undefined"!=typeof window?window:this,function(n,t){"use strict";function br(n,t,i){var r,e,u=(i=i||f).createElement("script");if(u.text=n,t)for(r in oe)(e=t[r]||t.getAttribute&&t.getAttribute(r))&&u.setAttribute(r,e);i.head.appendChild(u).parentNode.removeChild(u)}function ut(n){return null==n?n+"":"object"==typeof n||"function"==typeof n?ri[pr.call(n)]||"object":typeof n}function pi(n){var t=!!n&&"length"in n&&n.length,i=ut(n);return!u(n)&&!rt(n)&&("array"===i||0===t||"number"==typeof t&&0<t&&t-1 in n)}function c(n,t){return n.nodeName&&n.nodeName.toLowerCase()===t.toLowerCase()}function bi(n,t,r){return u(t)?i.grep(n,function(n,i){return!!t.call(n,i,n)!==r}):t.nodeType?i.grep(n,function(n){return n===t!==r}):"string"!=typeof t?i.grep(n,function(n){return-1<ii.call(t,n)!==r}):i.filter(t,n,r)}function uu(n,t){while((n=n[t])&&1!==n.nodeType);return n}function et(n){return n}function fi(n){throw n;}function fu(n,t,i,r){var f;try{n&&u(f=n.promise)?f.call(n).done(t).fail(i):n&&u(f=n.then)?f.call(n,t,i):t.apply(void 0,[n].slice(r))}catch(n){i.apply(void 0,[n])}}function oi(){f.removeEventListener("DOMContentLoaded",oi);n.removeEventListener("load",oi);i.ready()}function ce(n,t){return t.toUpperCase()}function y(n){return n.replace(se,"ms-").replace(he,ce)}function bt(){this.expando=i.expando+bt.uid++}function ou(n,t,i){var u,r;if(void 0===i&&1===n.nodeType)if(u="data-"+t.replace(ae,"-$&").toLowerCase(),"string"==typeof(i=n.getAttribute(u))){try{i="true"===(r=i)||"false"!==r&&("null"===r?null:r===+r+""?+r:le.test(r)?JSON.parse(r):r)}catch(n){}o.set(n,t,i)}else i=void 0;return i}function hu(n,t,r,u){var s,h,c=20,l=u?function(){return u.cur()}:function(){return i.css(n,t,"")},o=l(),e=r&&r[3]||(i.cssNumber[t]?"":"px"),f=n.nodeType&&(i.cssNumber[t]||"px"!==e&&+o)&&kt.exec(i.css(n,t));if(f&&f[3]!==e){for(o/=2,e=e||f[3],f=+o||1;c--;)i.style(n,t,f+e),(1-h)*(1-(h=l()/o||.5))<=0&&(c=0),f/=h;f*=2;i.style(n,t,f+e);r=r||[]}return r&&(f=+f||+o||0,s=r[1]?f+(r[1]+1)*r[2]:+r[2],u&&(u.unit=e,u.start=f,u.end=s)),s}function ht(n,t){for(var h,f,a,s,c,l,e,o=[],u=0,v=n.length;u<v;u++)(f=n[u]).style&&(h=f.style.display,t?("none"===h&&(o[u]=r.get(f,"display")||null,o[u]||(f.style.display="")),""===f.style.display&&dt(f)&&(o[u]=(e=c=s=void 0,c=(a=f).ownerDocument,l=a.nodeName,(e=ki[l])||(s=c.body.appendChild(c.createElement(l)),e=i.css(s,"display"),s.parentNode.removeChild(s),"none"===e&&(e="block"),ki[l]=e)))):"none"!==h&&(o[u]="none",r.set(f,"display",h)));for(u=0;u<v;u++)null!=o[u]&&(n[u].style.display=o[u]);return n}function s(n,t){var r;return r="undefined"!=typeof n.getElementsByTagName?n.getElementsByTagName(t||"*"):"undefined"!=typeof n.querySelectorAll?n.querySelectorAll(t||"*"):[],void 0===t||t&&c(n,t)?i.merge([n],r):r}function di(n,t){for(var i=0,u=n.length;i<u;i++)r.set(n[i],"globalEval",!t||r.get(t[i],"globalEval"))}function vu(n,t,r,u,f){for(var e,o,p,a,w,v,c=t.createDocumentFragment(),y=[],l=0,b=n.length;l<b;l++)if((e=n[l])||0===e)if("object"===ut(e))i.merge(y,e.nodeType?[e]:e);else if(au.test(e)){for(o=o||c.appendChild(t.createElement("div")),p=(cu.exec(e)||["",""])[1].toLowerCase(),a=h[p]||h._default,o.innerHTML=a[1]+i.htmlPrefilter(e)+a[2],v=a[0];v--;)o=o.lastChild;i.merge(y,o.childNodes);(o=c.firstChild).textContent=""}else y.push(t.createTextNode(e));for(c.textContent="",l=0;e=y[l++];)if(u&&-1<i.inArray(e,u))f&&f.push(e);else if(w=st(e),o=s(c.appendChild(e),"script"),w&&di(o),r)for(v=0;e=o[v++];)lu.test(e.type||"")&&r.push(e);return c}function ct(){return!0}function lt(){return!1}function we(n,t){return n===function(){try{return f.activeElement}catch(n){}}()==("focus"===t)}function gi(n,t,r,u,f,e){var o,s;if("object"==typeof t){for(s in"string"!=typeof r&&(u=u||r,r=void 0),t)gi(n,s,r,u,t[s],e);return n}if(null==u&&null==f?(f=r,u=r=void 0):null==f&&("string"==typeof r?(f=u,u=void 0):(f=u,u=r,r=void 0)),!1===f)f=lt;else if(!f)return n;return 1===e&&(o=f,(f=function(n){return i().off(n),o.apply(this,arguments)}).guid=o.guid||(o.guid=i.guid++)),n.each(function(){i.event.add(this,t,f,u,r)})}function hi(n,t,u){u?(r.set(n,t,!1),i.event.add(n,t,{namespace:!1,handler:function(n){var o,e,f=r.get(this,t);if(1&n.isTrigger&&this[t]){if(f.length)(i.event.special[t]||{}).delegateType&&n.stopPropagation();else if(f=k.call(arguments),r.set(this,t,f),o=u(this,t),this[t](),f!==(e=r.get(this,t))||o?r.set(this,t,!1):e={},f!==e)return n.stopImmediatePropagation(),n.preventDefault(),e.value}else f.length&&(r.set(this,t,{value:i.event.trigger(i.extend(f[0],i.Event.prototype),f.slice(1),this)}),n.stopImmediatePropagation())}})):void 0===r.get(n,t)&&i.event.add(n,t,ct)}function pu(n,t){return c(n,"table")&&c(11!==t.nodeType?t:t.firstChild,"tr")&&i(n).children("tbody")[0]||n}function ge(n){return n.type=(null!==n.getAttribute("type"))+"/"+n.type,n}function no(n){return"true/"===(n.type||"").slice(0,5)?n.type=n.type.slice(5):n.removeAttribute("type"),n}function wu(n,t){var u,s,f,h,c,e;if(1===t.nodeType){if(r.hasData(n)&&(e=r.get(n).events))for(f in r.remove(t,"handle events"),e)for(u=0,s=e[f].length;u<s;u++)i.event.add(t,f,e[f][u]);o.hasData(n)&&(h=o.access(n),c=i.extend({},h),o.set(t,c))}}function at(n,t,f,o){t=yr(t);var a,b,l,v,h,y,c=0,p=n.length,d=p-1,w=t[0],k=u(w);if(k||1<p&&"string"==typeof w&&!e.checkClone&&ke.test(w))return n.each(function(i){var r=n.eq(i);k&&(t[0]=w.call(this,i,r.html()));at(r,t,f,o)});if(p&&(b=(a=vu(t,n[0].ownerDocument,!1,n,o)).firstChild,1===a.childNodes.length&&(a=b),b||o)){for(v=(l=i.map(s(a,"script"),ge)).length;c<p;c++)h=a,c!==d&&(h=i.clone(h,!0,!0),v&&i.merge(l,s(h,"script"))),f.call(n[c],h,c);if(v)for(y=l[l.length-1].ownerDocument,i.map(l,no),c=0;c<v;c++)h=l[c],lu.test(h.type||"")&&!r.access(h,"globalEval")&&i.contains(y,h)&&(h.src&&"module"!==(h.type||"").toLowerCase()?i._evalUrl&&!h.noModule&&i._evalUrl(h.src,{nonce:h.nonce||h.getAttribute("nonce")},y):br(h.textContent.replace(de,""),h,y))}return n}function bu(n,t,r){for(var u,e=t?i.filter(t,n):n,f=0;null!=(u=e[f]);f++)r||1!==u.nodeType||i.cleanData(s(u)),u.parentNode&&(r&&st(u)&&di(s(u,"script")),u.parentNode.removeChild(u));return n}function ni(n,t,r){var o,s,h,f,u=n.style;return(r=r||ci(n))&&(""!==(f=r.getPropertyValue(t)||r[t])||st(n)||(f=i.style(n,t)),!e.pixelBoxStyles()&&nr.test(f)&&to.test(t)&&(o=u.width,s=u.minWidth,h=u.maxWidth,u.minWidth=u.maxWidth=u.width=f,f=r.width,u.width=o,u.minWidth=s,u.maxWidth=h)),void 0!==f?f+"":f}function du(n,t){return{get:function(){if(!n())return(this.get=t).apply(this,arguments);delete this.get}}}function tr(n){var t=i.cssProps[n]||tf[n];return t||(n in nf?n:tf[n]=function(n){for(var i=n[0].toUpperCase()+n.slice(1),t=gu.length;t--;)if((n=gu[t]+i)in nf)return n}(n)||n)}function ff(n,t,i){var r=kt.exec(t);return r?Math.max(0,r[2]-(i||0))+(r[3]||"px"):t}function ir(n,t,r,u,f,e){var o="width"===t?1:0,h=0,s=0;if(r===(u?"border":"content"))return 0;for(;o<4;o+=2)"margin"===r&&(s+=i.css(n,r+b[o],!0,f)),u?("content"===r&&(s-=i.css(n,"padding"+b[o],!0,f)),"margin"!==r&&(s-=i.css(n,"border"+b[o]+"Width",!0,f))):(s+=i.css(n,"padding"+b[o],!0,f),"padding"!==r?s+=i.css(n,"border"+b[o]+"Width",!0,f):h+=i.css(n,"border"+b[o]+"Width",!0,f));return!u&&0<=e&&(s+=Math.max(0,Math.ceil(n["offset"+t[0].toUpperCase()+t.slice(1)]-e-s-h-.5))||0),s}function ef(n,t,r){var f=ci(n),o=(!e.boxSizingReliable()||r)&&"border-box"===i.css(n,"boxSizing",!1,f),s=o,u=ni(n,t,f),h="offset"+t[0].toUpperCase()+t.slice(1);if(nr.test(u)){if(!r)return u;u="auto"}return(!e.boxSizingReliable()&&o||!e.reliableTrDimensions()&&c(n,"tr")||"auto"===u||!parseFloat(u)&&"inline"===i.css(n,"display",!1,f))&&n.getClientRects().length&&(o="border-box"===i.css(n,"boxSizing",!1,f),(s=h in n)&&(u=n[h])),(u=parseFloat(u)||0)+ir(n,t,r||(o?"border":"content"),s,f,u)+"px"}function a(n,t,i,r,u){return new a.prototype.init(n,t,i,r,u)}function rr(){li&&(!1===f.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(rr):n.setTimeout(rr,i.fx.interval),i.fx.tick())}function cf(){return n.setTimeout(function(){vt=void 0}),vt=Date.now()}function ai(n,t){var u,r=0,i={height:n};for(t=t?1:0;r<4;r+=2-t)i["margin"+(u=b[r])]=i["padding"+u]=n;return t&&(i.opacity=i.width=n),i}function lf(n,t,i){for(var u,f=(v.tweeners[t]||[]).concat(v.tweeners["*"]),r=0,e=f.length;r<e;r++)if(u=f[r].call(i,t,n))return u}function v(n,t,r){var o,s,h=0,a=v.prefilters.length,e=i.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var o=vt||cf(),t=Math.max(0,f.startTime+f.duration-o),i=1-(t/f.duration||0),r=0,u=f.tweens.length;r<u;r++)f.tweens[r].run(i);return e.notifyWith(n,[f,i,t]),i<1&&u?t:(u||e.notifyWith(n,[f,1,0]),e.resolveWith(n,[f]),!1)},f=e.promise({elem:n,props:i.extend({},t),opts:i.extend(!0,{specialEasing:{},easing:i.easing._default},r),originalProperties:t,originalOptions:r,startTime:vt||cf(),duration:r.duration,tweens:[],createTween:function(t,r){var u=i.Tween(n,f.opts,t,r,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(u),u},stop:function(t){var i=0,r=t?f.tweens.length:0;if(s)return this;for(s=!0;i<r;i++)f.tweens[i].run(1);return t?(e.notifyWith(n,[f,1,0]),e.resolveWith(n,[f,t])):e.rejectWith(n,[f,t]),this}}),c=f.props;for(!function(n,t){var r,f,e,u,o;for(r in n)if(e=t[f=y(r)],u=n[r],Array.isArray(u)&&(e=u[1],u=n[r]=u[0]),r!==f&&(n[f]=u,delete n[r]),(o=i.cssHooks[f])&&"expand"in o)for(r in u=o.expand(u),delete n[f],u)r in n||(n[r]=u[r],t[r]=e);else t[f]=e}(c,f.opts.specialEasing);h<a;h++)if(o=v.prefilters[h].call(f,n,c,f.opts))return u(o.stop)&&(i._queueHooks(f.elem,f.opts.queue).stop=o.stop.bind(o)),o;return i.map(c,lf,f),u(f.opts.start)&&f.opts.start.call(n,f),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always),i.fx.timer(i.extend(l,{elem:n,anim:f,queue:f.opts.queue})),f}function tt(n){return(n.match(l)||[]).join(" ")}function it(n){return n.getAttribute&&n.getAttribute("class")||""}function ur(n){return Array.isArray(n)?n:"string"==typeof n&&n.match(l)||[]}function sr(n,t,r,u){var f;if(Array.isArray(t))i.each(t,function(t,i){r||uo.test(n)?u(n,i):sr(n+"["+("object"==typeof i&&null!=i?t:"")+"]",i,r,u)});else if(r||"object"!==ut(t))u(n,t);else for(f in t)sr(n+"["+f+"]",t[f],r,u)}function gf(n){return function(t,i){"string"!=typeof t&&(i=t,t="*");var r,f=0,e=t.toLowerCase().match(l)||[];if(u(i))while(r=e[f++])"+"===r[0]?(r=r.slice(1)||"*",(n[r]=n[r]||[]).unshift(i)):(n[r]=n[r]||[]).push(i)}}function ne(n,t,r,u){function e(s){var h;return f[s]=!0,i.each(n[s]||[],function(n,i){var s=i(t,r,u);return"string"!=typeof s||o||f[s]?o?!(h=s):void 0:(t.dataTypes.unshift(s),e(s),!1)}),h}var f={},o=n===hr;return e(t.dataTypes[0])||!f["*"]&&e("*")}function lr(n,t){var r,u,f=i.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((f[r]?n:u||(u={}))[r]=t[r]);return u&&i.extend(!0,n,u),n}var p=[],vr=Object.getPrototypeOf,k=p.slice,yr=p.flat?function(n){return p.flat.call(n)}:function(n){return p.concat.apply([],n)},yi=p.push,ii=p.indexOf,ri={},pr=ri.toString,ui=ri.hasOwnProperty,wr=ui.toString,ee=wr.call(Object),e={},u=function(n){return"function"==typeof n&&"number"!=typeof n.nodeType},rt=function(n){return null!=n&&n===n.window},f=n.document,oe={type:!0,src:!0,nonce:!0,noModule:!0},kr="3.5.1",i=function(n,t){return new i.fn.init(n,t)},d,wi,nu,tu,iu,ru,l,eu,ei,ot,dt,ki,h,au,vt,li,yt,of,sf,hf,af,pt,vf,yf,pf,fr,er,te,wt,ie,ar,vi,re,ue,fe;i.fn=i.prototype={jquery:kr,constructor:i,length:0,toArray:function(){return k.call(this)},get:function(n){return null==n?k.call(this):n<0?this[n+this.length]:this[n]},pushStack:function(n){var t=i.merge(this.constructor(),n);return t.prevObject=this,t},each:function(n){return i.each(this,n)},map:function(n){return this.pushStack(i.map(this,function(t,i){return n.call(t,i,t)}))},slice:function(){return this.pushStack(k.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(i.grep(this,function(n,t){return(t+1)%2}))},odd:function(){return this.pushStack(i.grep(this,function(n,t){return t%2}))},eq:function(n){var i=this.length,t=+n+(n<0?i:0);return this.pushStack(0<=t&&t<i?[this[t]]:[])},end:function(){return this.prevObject||this.constructor()},push:yi,sort:p.sort,splice:p.splice};i.extend=i.fn.extend=function(){var s,f,e,t,o,c,n=arguments[0]||{},r=1,l=arguments.length,h=!1;for("boolean"==typeof n&&(h=n,n=arguments[r]||{},r++),"object"==typeof n||u(n)||(n={}),r===l&&(n=this,r--);r<l;r++)if(null!=(s=arguments[r]))for(f in s)t=s[f],"__proto__"!==f&&n!==t&&(h&&t&&(i.isPlainObject(t)||(o=Array.isArray(t)))?(e=n[f],c=o&&!Array.isArray(e)?[]:o||i.isPlainObject(e)?e:{},o=!1,n[f]=i.extend(h,c,t)):void 0!==t&&(n[f]=t));return n};i.extend({expando:"jQuery"+(kr+Math.random()).replace(/\D/g,""),isReady:!0,error:function(n){throw new Error(n);},noop:function(){},isPlainObject:function(n){var t,i;return!(!n||"[object Object]"!==pr.call(n))&&(!(t=vr(n))||"function"==typeof(i=ui.call(t,"constructor")&&t.constructor)&&wr.call(i)===ee)},isEmptyObject:function(n){for(var t in n)return!1;return!0},globalEval:function(n,t,i){br(n,{nonce:t&&t.nonce},i)},each:function(n,t){var r,i=0;if(pi(n)){for(r=n.length;i<r;i++)if(!1===t.call(n[i],i,n[i]))break}else for(i in n)if(!1===t.call(n[i],i,n[i]))break;return n},makeArray:function(n,t){var r=t||[];return null!=n&&(pi(Object(n))?i.merge(r,"string"==typeof n?[n]:n):yi.call(r,n)),r},inArray:function(n,t,i){return null==t?-1:ii.call(t,n,i)},merge:function(n,t){for(var u=+t.length,i=0,r=n.length;i<u;i++)n[r++]=t[i];return n.length=r,n},grep:function(n,t,i){for(var u=[],r=0,f=n.length,e=!i;r<f;r++)!t(n[r],r)!==e&&u.push(n[r]);return u},map:function(n,t,i){var e,u,r=0,f=[];if(pi(n))for(e=n.length;r<e;r++)null!=(u=t(n[r],r,i))&&f.push(u);else for(r in n)null!=(u=t(n[r],r,i))&&f.push(u);return yr(f)},guid:1,support:e});"function"==typeof Symbol&&(i.fn[Symbol.iterator]=p[Symbol.iterator]);i.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(n,t){ri["[object "+t+"]"]=t.toLowerCase()});d=function(n){function u(n,t,r,u){var s,y,c,l,p,w,d,v=t&&t.ownerDocument,a=t?t.nodeType:9;if(r=r||[],"string"!=typeof n||!n||1!==a&&9!==a&&11!==a)return r;if(!u&&(b(t),t=t||i,h)){if(11!==a&&(p=ar.exec(n)))if(s=p[1]){if(9===a){if(!(c=t.getElementById(s)))return r;if(c.id===s)return r.push(c),r}else if(v&&(c=v.getElementById(s))&&et(t,c)&&c.id===s)return r.push(c),r}else{if(p[2])return k.apply(r,t.getElementsByTagName(n)),r;if((s=p[3])&&f.getElementsByClassName&&t.getElementsByClassName)return k.apply(r,t.getElementsByClassName(s)),r}if(f.qsa&&!lt[n+" "]&&(!o||!o.test(n))&&(1!==a||"object"!==t.nodeName.toLowerCase())){if(d=n,v=t,1===a&&(er.test(n)||yi.test(n))){for((v=ti.test(n)&&ri(t.parentNode)||t)===t&&f.scope||((l=t.getAttribute("id"))?l=l.replace(pi,wi):t.setAttribute("id",l=e)),y=(w=ft(n)).length;y--;)w[y]=(l?"#"+l:":scope")+" "+pt(w[y]);d=w.join(",")}try{return k.apply(r,v.querySelectorAll(d)),r}catch(t){lt(n,!0)}finally{l===e&&t.removeAttribute("id")}}}return si(n.replace(at,"$1"),t,r,u)}function yt(){var n=[];return function i(r,u){return n.push(r+" ")>t.cacheLength&&delete i[n.shift()],i[r+" "]=u}}function l(n){return n[e]=!0,n}function a(n){var t=i.createElement("fieldset");try{return!!n(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t);t=null}}function ii(n,i){for(var r=n.split("|"),u=r.length;u--;)t.attrHandle[r[u]]=i}function ki(n,t){var i=t&&n,r=i&&1===n.nodeType&&1===t.nodeType&&n.sourceIndex-t.sourceIndex;if(r)return r;if(i)while(i=i.nextSibling)if(i===t)return-1;return n?1:-1}function yr(n){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===n}}function pr(n){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===n}}function di(n){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===n:t.disabled===n:t.isDisabled===n||t.isDisabled!==!n&&vr(t)===n:t.disabled===n:"label"in t&&t.disabled===n}}function it(n){return l(function(t){return t=+t,l(function(i,r){for(var u,f=n([],i.length,t),e=f.length;e--;)i[u=f[e]]&&(i[u]=!(r[u]=i[u]))})})}function ri(n){return n&&"undefined"!=typeof n.getElementsByTagName&&n}function gi(){}function pt(n){for(var t=0,r=n.length,i="";t<r;t++)i+=n[t].value;return i}function wt(n,t,i){var r=t.dir,u=t.next,f=u||r,o=i&&"parentNode"===f,s=nr++;return t.first?function(t,i,u){while(t=t[r])if(1===t.nodeType||o)return n(t,i,u);return!1}:function(t,i,h){var c,l,a,y=[v,s];if(h){while(t=t[r])if((1===t.nodeType||o)&&n(t,i,h))return!0}else while(t=t[r])if(1===t.nodeType||o)if(l=(a=t[e]||(t[e]={}))[t.uniqueID]||(a[t.uniqueID]={}),u&&u===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=l[f])&&c[0]===v&&c[1]===s)return y[2]=c[2];if((l[f]=y)[2]=n(t,i,h))return!0}return!1}}function ui(n){return 1<n.length?function(t,i,r){for(var u=n.length;u--;)if(!n[u](t,i,r))return!1;return!0}:n[0]}function bt(n,t,i,r,u){for(var e,o=[],f=0,s=n.length,h=null!=t;f<s;f++)(e=n[f])&&(i&&!i(e,r,u)||(o.push(e),h&&t.push(f)));return o}function fi(n,t,i,r,f,o){return r&&!r[e]&&(r=fi(r)),f&&!f[e]&&(f=fi(f,o)),l(function(e,o,s,h){var a,l,v,w=[],p=[],b=o.length,d=e||function(n,t,i){for(var r=0,f=t.length;r<f;r++)u(n,t[r],i);return i}(t||"*",s.nodeType?[s]:s,[]),y=!n||!e&&t?d:bt(d,w,n,s,h),c=i?f||(e?n:b||r)?[]:o:y;if(i&&i(y,c,s,h),r)for(a=bt(c,p),r(a,[],s,h),l=a.length;l--;)(v=a[l])&&(c[p[l]]=!(y[p[l]]=v));if(e){if(f||n){if(f){for(a=[],l=c.length;l--;)(v=c[l])&&a.push(y[l]=v);f(null,c=[],a,h)}for(l=c.length;l--;)(v=c[l])&&-1<(a=f?nt(e,v):w[l])&&(e[a]=!(o[a]=v))}}else c=bt(c===o?c.splice(b,c.length):c),f?f(null,o,c,h):k.apply(o,c)})}function ei(n){for(var o,u,r,s=n.length,h=t.relative[n[0].type],c=h||t.relative[" "],i=h?1:0,l=wt(function(n){return n===o},c,!0),a=wt(function(n){return-1<nt(o,n)},c,!0),f=[function(n,t,i){var r=!h&&(i||t!==ht)||((o=t).nodeType?l(n,t,i):a(n,t,i));return o=null,r}];i<s;i++)if(u=t.relative[n[i].type])f=[wt(ui(f),u)];else{if((u=t.filter[n[i].type].apply(null,n[i].matches))[e]){for(r=++i;r<s;r++)if(t.relative[n[r].type])break;return fi(1<i&&ui(f),1<i&&pt(n.slice(0,i-1).concat({value:" "===n[i-2].type?"*":""})).replace(at,"$1"),u,i<r&&ei(n.slice(i,r)),r<s&&ei(n=n.slice(r)),r<s&&pt(n))}f.push(u)}return ui(f)}var rt,f,t,st,oi,ft,kt,si,ht,w,ut,b,i,s,h,o,d,ct,et,e="sizzle"+1*new Date,c=n.document,v=0,nr=0,hi=yt(),ci=yt(),li=yt(),lt=yt(),dt=function(n,t){return n===t&&(ut=!0),0},tr={}.hasOwnProperty,g=[],ir=g.pop,rr=g.push,k=g.push,ai=g.slice,nt=function(n,t){for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1},gt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",r="[\\x20\\t\\r\\n\\f]",tt="(?:\\\\[\\da-fA-F]{1,6}"+r+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",vi="\\["+r+"*("+tt+")(?:"+r+"*([*^$|!~]?=)"+r+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+tt+"))|)"+r+"*\\]",ni=":("+tt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+vi+")*)|.*)\\)|)",ur=new RegExp(r+"+","g"),at=new RegExp("^"+r+"+|((?:^|[^\\\\])(?:\\\\.)*)"+r+"+$","g"),fr=new RegExp("^"+r+"*,"+r+"*"),yi=new RegExp("^"+r+"*([>+~]|"+r+")"+r+"*"),er=new RegExp(r+"|>"),or=new RegExp(ni),sr=new RegExp("^"+tt+"$"),vt={ID:new RegExp("^#("+tt+")"),CLASS:new RegExp("^\\.("+tt+")"),TAG:new RegExp("^("+tt+"|[*])"),ATTR:new RegExp("^"+vi),PSEUDO:new RegExp("^"+ni),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+r+"*(even|odd|(([+-]|)(\\d*)n|)"+r+"*(?:([+-]|)"+r+"*(\\d+)|))"+r+"*\\)|)","i"),bool:new RegExp("^(?:"+gt+")$","i"),needsContext:new RegExp("^"+r+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+r+"*((?:-\\d)?\\d*)"+r+"*\\)|)(?=[^-]|$)","i")},hr=/HTML$/i,cr=/^(?:input|select|textarea|button)$/i,lr=/^h\d$/i,ot=/^[^{]+\{\s*\[native \w/,ar=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ti=/[+~]/,y=new RegExp("\\\\[\\da-fA-F]{1,6}"+r+"?|\\\\([^\\r\\n\\f])","g"),p=function(n,t){var i="0x"+n.slice(1)-65536;return t||(i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320))},pi=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,wi=function(n,t){return t?"\0"===n?"�":n.slice(0,-1)+"\\"+n.charCodeAt(n.length-1).toString(16)+" ":"\\"+n},bi=function(){b()},vr=wt(function(n){return!0===n.disabled&&"fieldset"===n.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{k.apply(g=ai.call(c.childNodes),c.childNodes);g[c.childNodes.length].nodeType}catch(rt){k={apply:g.length?function(n,t){rr.apply(n,ai.call(t))}:function(n,t){for(var i=n.length,r=0;n[i++]=t[r++];);n.length=i-1}}}for(rt in f=u.support={},oi=u.isXML=function(n){var i=n.namespaceURI,t=(n.ownerDocument||n).documentElement;return!hr.test(i||t&&t.nodeName||"HTML")},b=u.setDocument=function(n){var v,u,l=n?n.ownerDocument||n:c;return l!=i&&9===l.nodeType&&l.documentElement&&(s=(i=l).documentElement,h=!oi(i),c!=i&&(u=i.defaultView)&&u.top!==u&&(u.addEventListener?u.addEventListener("unload",bi,!1):u.attachEvent&&u.attachEvent("onunload",bi)),f.scope=a(function(n){return s.appendChild(n).appendChild(i.createElement("div")),"undefined"!=typeof n.querySelectorAll&&!n.querySelectorAll(":scope fieldset div").length}),f.attributes=a(function(n){return n.className="i",!n.getAttribute("className")}),f.getElementsByTagName=a(function(n){return n.appendChild(i.createComment("")),!n.getElementsByTagName("*").length}),f.getElementsByClassName=ot.test(i.getElementsByClassName),f.getById=a(function(n){return s.appendChild(n).id=e,!i.getElementsByName||!i.getElementsByName(e).length}),f.getById?(t.filter.ID=function(n){var t=n.replace(y,p);return function(n){return n.getAttribute("id")===t}},t.find.ID=function(n,t){if("undefined"!=typeof t.getElementById&&h){var i=t.getElementById(n);return i?[i]:[]}}):(t.filter.ID=function(n){var t=n.replace(y,p);return function(n){var i="undefined"!=typeof n.getAttributeNode&&n.getAttributeNode("id");return i&&i.value===t}},t.find.ID=function(n,t){if("undefined"!=typeof t.getElementById&&h){var r,u,f,i=t.getElementById(n);if(i){if((r=i.getAttributeNode("id"))&&r.value===n)return[i];for(f=t.getElementsByName(n),u=0;i=f[u++];)if((r=i.getAttributeNode("id"))&&r.value===n)return[i]}return[]}}),t.find.TAG=f.getElementsByTagName?function(n,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(n):f.qsa?t.querySelectorAll(n):void 0}:function(n,t){var i,r=[],f=0,u=t.getElementsByTagName(n);if("*"===n){while(i=u[f++])1===i.nodeType&&r.push(i);return r}return u},t.find.CLASS=f.getElementsByClassName&&function(n,t){if("undefined"!=typeof t.getElementsByClassName&&h)return t.getElementsByClassName(n)},d=[],o=[],(f.qsa=ot.test(i.querySelectorAll))&&(a(function(n){var t;s.appendChild(n).innerHTML="<a id='"+e+"'><\/a><select id='"+e+"-\r\\' msallowcapture=''><option selected=''><\/option><\/select>";n.querySelectorAll("[msallowcapture^='']").length&&o.push("[*^$]="+r+"*(?:''|\"\")");n.querySelectorAll("[selected]").length||o.push("\\["+r+"*(?:value|"+gt+")");n.querySelectorAll("[id~="+e+"-]").length||o.push("~=");(t=i.createElement("input")).setAttribute("name","");n.appendChild(t);n.querySelectorAll("[name='']").length||o.push("\\["+r+"*name"+r+"*="+r+"*(?:''|\"\")");n.querySelectorAll(":checked").length||o.push(":checked");n.querySelectorAll("a#"+e+"+*").length||o.push(".#.+[+~]");n.querySelectorAll("\\\f");o.push("[\\r\\n\\f]")}),a(function(n){n.innerHTML="<a href='' disabled='disabled'><\/a><select disabled='disabled'><option/><\/select>";var t=i.createElement("input");t.setAttribute("type","hidden");n.appendChild(t).setAttribute("name","D");n.querySelectorAll("[name=d]").length&&o.push("name"+r+"*[*^$|!~]?=");2!==n.querySelectorAll(":enabled").length&&o.push(":enabled",":disabled");s.appendChild(n).disabled=!0;2!==n.querySelectorAll(":disabled").length&&o.push(":enabled",":disabled");n.querySelectorAll("*,:x");o.push(",.*:")})),(f.matchesSelector=ot.test(ct=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.oMatchesSelector||s.msMatchesSelector))&&a(function(n){f.disconnectedMatch=ct.call(n,"*");ct.call(n,"[s!='']:x");d.push("!=",ni)}),o=o.length&&new RegExp(o.join("|")),d=d.length&&new RegExp(d.join("|")),v=ot.test(s.compareDocumentPosition),et=v||ot.test(s.contains)?function(n,t){var r=9===n.nodeType?n.documentElement:n,i=t&&t.parentNode;return n===i||!(!i||1!==i.nodeType||!(r.contains?r.contains(i):n.compareDocumentPosition&&16&n.compareDocumentPosition(i)))}:function(n,t){if(t)while(t=t.parentNode)if(t===n)return!0;return!1},dt=v?function(n,t){if(n===t)return ut=!0,0;var r=!n.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(n.ownerDocument||n)==(t.ownerDocument||t)?n.compareDocumentPosition(t):1)||!f.sortDetached&&t.compareDocumentPosition(n)===r?n==i||n.ownerDocument==c&&et(c,n)?-1:t==i||t.ownerDocument==c&&et(c,t)?1:w?nt(w,n)-nt(w,t):0:4&r?-1:1)}:function(n,t){if(n===t)return ut=!0,0;var r,u=0,o=n.parentNode,s=t.parentNode,f=[n],e=[t];if(!o||!s)return n==i?-1:t==i?1:o?-1:s?1:w?nt(w,n)-nt(w,t):0;if(o===s)return ki(n,t);for(r=n;r=r.parentNode;)f.unshift(r);for(r=t;r=r.parentNode;)e.unshift(r);while(f[u]===e[u])u++;return u?ki(f[u],e[u]):f[u]==c?-1:e[u]==c?1:0}),i},u.matches=function(n,t){return u(n,null,null,t)},u.matchesSelector=function(n,t){if(b(n),f.matchesSelector&&h&&!lt[t+" "]&&(!d||!d.test(t))&&(!o||!o.test(t)))try{var r=ct.call(n,t);if(r||f.disconnectedMatch||n.document&&11!==n.document.nodeType)return r}catch(n){lt(t,!0)}return 0<u(t,i,null,[n]).length},u.contains=function(n,t){return(n.ownerDocument||n)!=i&&b(n),et(n,t)},u.attr=function(n,r){(n.ownerDocument||n)!=i&&b(n);var e=t.attrHandle[r.toLowerCase()],u=e&&tr.call(t.attrHandle,r.toLowerCase())?e(n,r,!h):void 0;return void 0!==u?u:f.attributes||!h?n.getAttribute(r):(u=n.getAttributeNode(r))&&u.specified?u.value:null},u.escape=function(n){return(n+"").replace(pi,wi)},u.error=function(n){throw new Error("Syntax error, unrecognized expression: "+n);},u.uniqueSort=function(n){var r,u=[],t=0,i=0;if(ut=!f.detectDuplicates,w=!f.sortStable&&n.slice(0),n.sort(dt),ut){while(r=n[i++])r===n[i]&&(t=u.push(i));while(t--)n.splice(u[t],1)}return w=null,n},st=u.getText=function(n){var r,i="",u=0,t=n.nodeType;if(t){if(1===t||9===t||11===t){if("string"==typeof n.textContent)return n.textContent;for(n=n.firstChild;n;n=n.nextSibling)i+=st(n)}else if(3===t||4===t)return n.nodeValue}else while(r=n[u++])i+=st(r);return i},(t=u.selectors={cacheLength:50,createPseudo:l,match:vt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(n){return n[1]=n[1].replace(y,p),n[3]=(n[3]||n[4]||n[5]||"").replace(y,p),"~="===n[2]&&(n[3]=" "+n[3]+" "),n.slice(0,4)},CHILD:function(n){return n[1]=n[1].toLowerCase(),"nth"===n[1].slice(0,3)?(n[3]||u.error(n[0]),n[4]=+(n[4]?n[5]+(n[6]||1):2*("even"===n[3]||"odd"===n[3])),n[5]=+(n[7]+n[8]||"odd"===n[3])):n[3]&&u.error(n[0]),n},PSEUDO:function(n){var i,t=!n[6]&&n[2];return vt.CHILD.test(n[0])?null:(n[3]?n[2]=n[4]||n[5]||"":t&&or.test(t)&&(i=ft(t,!0))&&(i=t.indexOf(")",t.length-i)-t.length)&&(n[0]=n[0].slice(0,i),n[2]=t.slice(0,i)),n.slice(0,3))}},filter:{TAG:function(n){var t=n.replace(y,p).toLowerCase();return"*"===n?function(){return!0}:function(n){return n.nodeName&&n.nodeName.toLowerCase()===t}},CLASS:function(n){var t=hi[n+" "];return t||(t=new RegExp("(^|"+r+")"+n+"("+r+"|$)"))&&hi(n,function(n){return t.test("string"==typeof n.className&&n.className||"undefined"!=typeof n.getAttribute&&n.getAttribute("class")||"")})},ATTR:function(n,t,i){return function(r){var f=u.attr(r,n);return null==f?"!="===t:!t||(f+="","="===t?f===i:"!="===t?f!==i:"^="===t?i&&0===f.indexOf(i):"*="===t?i&&-1<f.indexOf(i):"$="===t?i&&f.slice(-i.length)===i:"~="===t?-1<(" "+f.replace(ur," ")+" ").indexOf(i):"|="===t&&(f===i||f.slice(0,i.length+1)===i+"-"))}},CHILD:function(n,t,i,r,u){var s="nth"!==n.slice(0,3),o="last"!==n.slice(-4),f="of-type"===t;return 1===r&&0===u?function(n){return!!n.parentNode}:function(t,i,h){var p,d,y,c,a,w,b=s!==o?"nextSibling":"previousSibling",k=t.parentNode,nt=f&&t.nodeName.toLowerCase(),g=!h&&!f,l=!1;if(k){if(s){while(b){for(c=t;c=c[b];)if(f?c.nodeName.toLowerCase()===nt:1===c.nodeType)return!1;w=b="only"===n&&!w&&"nextSibling"}return!0}if(w=[o?k.firstChild:k.lastChild],o&&g){for(l=(a=(p=(d=(y=(c=k)[e]||(c[e]={}))[c.uniqueID]||(y[c.uniqueID]={}))[n]||[])[0]===v&&p[1])&&p[2],c=a&&k.childNodes[a];c=++a&&c&&c[b]||(l=a=0)||w.pop();)if(1===c.nodeType&&++l&&c===t){d[n]=[v,a,l];break}}else if(g&&(l=a=(p=(d=(y=(c=t)[e]||(c[e]={}))[c.uniqueID]||(y[c.uniqueID]={}))[n]||[])[0]===v&&p[1]),!1===l)while(c=++a&&c&&c[b]||(l=a=0)||w.pop())if((f?c.nodeName.toLowerCase()===nt:1===c.nodeType)&&++l&&(g&&((d=(y=c[e]||(c[e]={}))[c.uniqueID]||(y[c.uniqueID]={}))[n]=[v,l]),c===t))break;return(l-=u)===r||l%r==0&&0<=l/r}}},PSEUDO:function(n,i){var f,r=t.pseudos[n]||t.setFilters[n.toLowerCase()]||u.error("unsupported pseudo: "+n);return r[e]?r(i):1<r.length?(f=[n,n,"",i],t.setFilters.hasOwnProperty(n.toLowerCase())?l(function(n,t){for(var e,u=r(n,i),f=u.length;f--;)n[e=nt(n,u[f])]=!(t[e]=u[f])}):function(n){return r(n,0,f)}):r}},pseudos:{not:l(function(n){var t=[],r=[],i=kt(n.replace(at,"$1"));return i[e]?l(function(n,t,r,u){for(var e,o=i(n,null,u,[]),f=n.length;f--;)(e=o[f])&&(n[f]=!(t[f]=e))}):function(n,u,f){return t[0]=n,i(t,null,f,r),t[0]=null,!r.pop()}}),has:l(function(n){return function(t){return 0<u(n,t).length}}),contains:l(function(n){return n=n.replace(y,p),function(t){return-1<(t.textContent||st(t)).indexOf(n)}}),lang:l(function(n){return sr.test(n||"")||u.error("unsupported lang: "+n),n=n.replace(y,p).toLowerCase(),function(t){var i;do if(i=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===n||0===i.indexOf(n+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=n.location&&n.location.hash;return i&&i.slice(1)===t.id},root:function(n){return n===s},focus:function(n){return n===i.activeElement&&(!i.hasFocus||i.hasFocus())&&!!(n.type||n.href||~n.tabIndex)},enabled:di(!1),disabled:di(!0),checked:function(n){var t=n.nodeName.toLowerCase();return"input"===t&&!!n.checked||"option"===t&&!!n.selected},selected:function(n){return n.parentNode&&n.parentNode.selectedIndex,!0===n.selected},empty:function(n){for(n=n.firstChild;n;n=n.nextSibling)if(n.nodeType<6)return!1;return!0},parent:function(n){return!t.pseudos.empty(n)},header:function(n){return lr.test(n.nodeName)},input:function(n){return cr.test(n.nodeName)},button:function(n){var t=n.nodeName.toLowerCase();return"input"===t&&"button"===n.type||"button"===t},text:function(n){var t;return"input"===n.nodeName.toLowerCase()&&"text"===n.type&&(null==(t=n.getAttribute("type"))||"text"===t.toLowerCase())},first:it(function(){return[0]}),last:it(function(n,t){return[t-1]}),eq:it(function(n,t,i){return[i<0?i+t:i]}),even:it(function(n,t){for(var i=0;i<t;i+=2)n.push(i);return n}),odd:it(function(n,t){for(var i=1;i<t;i+=2)n.push(i);return n}),lt:it(function(n,t,i){for(var r=i<0?i+t:t<i?t:i;0<=--r;)n.push(r);return n}),gt:it(function(n,t,i){for(var r=i<0?i+t:i;++r<t;)n.push(r);return n})}}).pseudos.nth=t.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[rt]=yr(rt);for(rt in{submit:!0,reset:!0})t.pseudos[rt]=pr(rt);return gi.prototype=t.filters=t.pseudos,t.setFilters=new gi,ft=u.tokenize=function(n,i){var e,f,s,o,r,h,c,l=ci[n+" "];if(l)return i?0:l.slice(0);for(r=n,h=[],c=t.preFilter;r;){for(o in e&&!(f=fr.exec(r))||(f&&(r=r.slice(f[0].length)||r),h.push(s=[])),e=!1,(f=yi.exec(r))&&(e=f.shift(),s.push({value:e,type:f[0].replace(at," ")}),r=r.slice(e.length)),t.filter)(f=vt[o].exec(r))&&(!c[o]||(f=c[o](f)))&&(e=f.shift(),s.push({value:e,type:o,matches:f}),r=r.slice(e.length));if(!e)break}return i?r.length:r?u.error(n):ci(n,h).slice(0)},kt=u.compile=function(n,r){var s,c,a,o,y,p,w=[],d=[],f=li[n+" "];if(!f){for(r||(r=ft(n)),s=r.length;s--;)(f=ei(r[s]))[e]?w.push(f):d.push(f);(f=li(n,(c=d,o=0<(a=w).length,y=0<c.length,p=function(n,r,f,e,s){var l,nt,d,g=0,p="0",tt=n&&[],w=[],it=ht,rt=n||y&&t.find.TAG("*",s),ut=v+=null==it?1:Math.random()||.1,ft=rt.length;for(s&&(ht=r==i||r||s);p!==ft&&null!=(l=rt[p]);p++){if(y&&l){for(nt=0,r||l.ownerDocument==i||(b(l),f=!h);d=c[nt++];)if(d(l,r||i,f)){e.push(l);break}s&&(v=ut)}o&&((l=!d&&l)&&g--,n&&tt.push(l))}if(g+=p,o&&p!==g){for(nt=0;d=a[nt++];)d(tt,w,r,f);if(n){if(0<g)while(p--)tt[p]||w[p]||(w[p]=ir.call(e));w=bt(w)}k.apply(e,w);s&&!n&&0<w.length&&1<g+a.length&&u.uniqueSort(e)}return s&&(v=ut,ht=it),tt},o?l(p):p))).selector=n}return f},si=u.select=function(n,i,r,u){var o,f,e,l,a,c="function"==typeof n&&n,s=!u&&ft(n=c.selector||n);if(r=r||[],1===s.length){if(2<(f=s[0]=s[0].slice(0)).length&&"ID"===(e=f[0]).type&&9===i.nodeType&&h&&t.relative[f[1].type]){if(!(i=(t.find.ID(e.matches[0].replace(y,p),i)||[])[0]))return r;c&&(i=i.parentNode);n=n.slice(f.shift().value.length)}for(o=vt.needsContext.test(n)?0:f.length;o--;){if(e=f[o],t.relative[l=e.type])break;if((a=t.find[l])&&(u=a(e.matches[0].replace(y,p),ti.test(f[0].type)&&ri(i.parentNode)||i))){if(f.splice(o,1),!(n=u.length&&pt(f)))return k.apply(r,u),r;break}}}return(c||kt(n,s))(u,i,!h,r,!i||ti.test(n)&&ri(i.parentNode)||i),r},f.sortStable=e.split("").sort(dt).join("")===e,f.detectDuplicates=!!ut,b(),f.sortDetached=a(function(n){return 1&n.compareDocumentPosition(i.createElement("fieldset"))}),a(function(n){return n.innerHTML="<a href='#'><\/a>","#"===n.firstChild.getAttribute("href")})||ii("type|href|height|width",function(n,t,i){if(!i)return n.getAttribute(t,"type"===t.toLowerCase()?1:2)}),f.attributes&&a(function(n){return n.innerHTML="<input/>",n.firstChild.setAttribute("value",""),""===n.firstChild.getAttribute("value")})||ii("value",function(n,t,i){if(!i&&"input"===n.nodeName.toLowerCase())return n.defaultValue}),a(function(n){return null==n.getAttribute("disabled")})||ii(gt,function(n,t,i){var r;if(!i)return!0===n[t]?t.toLowerCase():(r=n.getAttributeNode(t))&&r.specified?r.value:null}),u}(n);i.find=d;i.expr=d.selectors;i.expr[":"]=i.expr.pseudos;i.uniqueSort=i.unique=d.uniqueSort;i.text=d.getText;i.isXMLDoc=d.isXML;i.contains=d.contains;i.escapeSelector=d.escape;var ft=function(n,t,r){for(var u=[],f=void 0!==r;(n=n[t])&&9!==n.nodeType;)if(1===n.nodeType){if(f&&i(n).is(r))break;u.push(n)}return u},dr=function(n,t){for(var i=[];n;n=n.nextSibling)1===n.nodeType&&n!==t&&i.push(n);return i},gr=i.expr.match.needsContext;wi=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;i.filter=function(n,t,r){var u=t[0];return r&&(n=":not("+n+")"),1===t.length&&1===u.nodeType?i.find.matchesSelector(u,n)?[u]:[]:i.find.matches(n,i.grep(t,function(n){return 1===n.nodeType}))};i.fn.extend({find:function(n){var t,r,u=this.length,f=this;if("string"!=typeof n)return this.pushStack(i(n).filter(function(){for(t=0;t<u;t++)if(i.contains(f[t],this))return!0}));for(r=this.pushStack([]),t=0;t<u;t++)i.find(n,f[t],r);return 1<u?i.uniqueSort(r):r},filter:function(n){return this.pushStack(bi(this,n||[],!1))},not:function(n){return this.pushStack(bi(this,n||[],!0))},is:function(n){return!!bi(this,"string"==typeof n&&gr.test(n)?i(n):n||[],!1).length}});tu=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(i.fn.init=function(n,t,r){var e,o;if(!n)return this;if(r=r||nu,"string"==typeof n){if(!(e="<"===n[0]&&">"===n[n.length-1]&&3<=n.length?[null,n,null]:tu.exec(n))||!e[1]&&t)return!t||t.jquery?(t||r).find(n):this.constructor(t).find(n);if(e[1]){if(t=t instanceof i?t[0]:t,i.merge(this,i.parseHTML(e[1],t&&t.nodeType?t.ownerDocument||t:f,!0)),wi.test(e[1])&&i.isPlainObject(t))for(e in t)u(this[e])?this[e](t[e]):this.attr(e,t[e]);return this}return(o=f.getElementById(e[2]))&&(this[0]=o,this.length=1),this}return n.nodeType?(this[0]=n,this.length=1,this):u(n)?void 0!==r.ready?r.ready(n):n(i):i.makeArray(n,this)}).prototype=i.fn;nu=i(f);iu=/^(?:parents|prev(?:Until|All))/;ru={children:!0,contents:!0,next:!0,prev:!0};i.fn.extend({has:function(n){var t=i(n,this),r=t.length;return this.filter(function(){for(var n=0;n<r;n++)if(i.contains(this,t[n]))return!0})},closest:function(n,t){var r,f=0,o=this.length,u=[],e="string"!=typeof n&&i(n);if(!gr.test(n))for(;f<o;f++)for(r=this[f];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(e?-1<e.index(r):1===r.nodeType&&i.find.matchesSelector(r,n))){u.push(r);break}return this.pushStack(1<u.length?i.uniqueSort(u):u)},index:function(n){return n?"string"==typeof n?ii.call(i(n),this[0]):ii.call(this,n.jquery?n[0]:n):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(n,t){return this.pushStack(i.uniqueSort(i.merge(this.get(),i(n,t))))},addBack:function(n){return this.add(null==n?this.prevObject:this.prevObject.filter(n))}});i.each({parent:function(n){var t=n.parentNode;return t&&11!==t.nodeType?t:null},parents:function(n){return ft(n,"parentNode")},parentsUntil:function(n,t,i){return ft(n,"parentNode",i)},next:function(n){return uu(n,"nextSibling")},prev:function(n){return uu(n,"previousSibling")},nextAll:function(n){return ft(n,"nextSibling")},prevAll:function(n){return ft(n,"previousSibling")},nextUntil:function(n,t,i){return ft(n,"nextSibling",i)},prevUntil:function(n,t,i){return ft(n,"previousSibling",i)},siblings:function(n){return dr((n.parentNode||{}).firstChild,n)},children:function(n){return dr(n.firstChild)},contents:function(n){return null!=n.contentDocument&&vr(n.contentDocument)?n.contentDocument:(c(n,"template")&&(n=n.content||n),i.merge([],n.childNodes))}},function(n,t){i.fn[n]=function(r,u){var f=i.map(this,t,r);return"Until"!==n.slice(-5)&&(u=r),u&&"string"==typeof u&&(f=i.filter(u,f)),1<this.length&&(ru[n]||i.uniqueSort(f),iu.test(n)&&f.reverse()),this.pushStack(f)}});l=/[^\x20\t\r\n\f]+/g;i.Callbacks=function(n){var a,h;n="string"==typeof n?(a=n,h={},i.each(a.match(l)||[],function(n,t){h[t]=!0}),h):i.extend({},n);var o,r,v,f,t=[],s=[],e=-1,y=function(){for(f=f||n.once,v=o=!0;s.length;e=-1)for(r=s.shift();++e<t.length;)!1===t[e].apply(r[0],r[1])&&n.stopOnFalse&&(e=t.length,r=!1);n.memory||(r=!1);o=!1;f&&(t=r?[]:"")},c={add:function(){return t&&(r&&!o&&(e=t.length-1,s.push(r)),function f(r){i.each(r,function(i,r){u(r)?n.unique&&c.has(r)||t.push(r):r&&r.length&&"string"!==ut(r)&&f(r)})}(arguments),r&&!o&&y()),this},remove:function(){return i.each(arguments,function(n,r){for(var u;-1<(u=i.inArray(r,t,u));)t.splice(u,1),u<=e&&e--}),this},has:function(n){return n?-1<i.inArray(n,t):0<t.length},empty:function(){return t&&(t=[]),this},disable:function(){return f=s=[],t=r="",this},disabled:function(){return!t},lock:function(){return f=s=[],r||o||(t=r=""),this},locked:function(){return!!f},fireWith:function(n,t){return f||(t=[n,(t=t||[]).slice?t.slice():t],s.push(t),o||y()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!v}};return c};i.extend({Deferred:function(t){var f=[["notify","progress",i.Callbacks("memory"),i.Callbacks("memory"),2],["resolve","done",i.Callbacks("once memory"),i.Callbacks("once memory"),0,"resolved"],["reject","fail",i.Callbacks("once memory"),i.Callbacks("once memory"),1,"rejected"]],o="pending",e={state:function(){return o},always:function(){return r.done(arguments).fail(arguments),this},"catch":function(n){return e.then(null,n)},pipe:function(){var n=arguments;return i.Deferred(function(t){i.each(f,function(i,f){var e=u(n[f[4]])&&n[f[4]];r[f[1]](function(){var n=e&&e.apply(this,arguments);n&&u(n.promise)?n.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[f[0]+"With"](this,e?[n]:arguments)})});n=null}).promise()},then:function(t,r,e){function s(t,r,f,e){return function(){var h=this,c=arguments,l=function(){var n,i;if(!(t<o)){if((n=f.apply(h,c))===r.promise())throw new TypeError("Thenable self-resolution");i=n&&("object"==typeof n||"function"==typeof n)&&n.then;u(i)?e?i.call(n,s(o,r,et,e),s(o,r,fi,e)):(o++,i.call(n,s(o,r,et,e),s(o,r,fi,e),s(o,r,et,r.notifyWith))):(f!==et&&(h=void 0,c=[n]),(e||r.resolveWith)(h,c))}},a=e?l:function(){try{l()}catch(l){i.Deferred.exceptionHook&&i.Deferred.exceptionHook(l,a.stackTrace);o<=t+1&&(f!==fi&&(h=void 0,c=[l]),r.rejectWith(h,c))}};t?a():(i.Deferred.getStackHook&&(a.stackTrace=i.Deferred.getStackHook()),n.setTimeout(a))}}var o=0;return i.Deferred(function(n){f[0][3].add(s(0,n,u(e)?e:et,n.notifyWith));f[1][3].add(s(0,n,u(t)?t:et));f[2][3].add(s(0,n,u(r)?r:fi))}).promise()},promise:function(n){return null!=n?i.extend(n,e):e}},r={};return i.each(f,function(n,t){var i=t[2],u=t[5];e[t[1]]=i.add;u&&i.add(function(){o=u},f[3-n][2].disable,f[3-n][3].disable,f[0][2].lock,f[0][3].lock);i.add(t[3].fire);r[t[0]]=function(){return r[t[0]+"With"](this===r?void 0:this,arguments),this};r[t[0]+"With"]=i.fireWith}),e.promise(r),t&&t.call(r,r),r},when:function(n){var e=arguments.length,t=e,o=Array(t),f=k.call(arguments),r=i.Deferred(),s=function(n){return function(t){o[n]=this;f[n]=1<arguments.length?k.call(arguments):t;--e||r.resolveWith(o,f)}};if(e<=1&&(fu(n,r.done(s(t)).resolve,r.reject,!e),"pending"===r.state()||u(f[t]&&f[t].then)))return r.then();while(t--)fu(f[t],s(t),r.reject);return r.promise()}});eu=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;i.Deferred.exceptionHook=function(t,i){n.console&&n.console.warn&&t&&eu.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,i)};i.readyException=function(t){n.setTimeout(function(){throw t;})};ei=i.Deferred();i.fn.ready=function(n){return ei.then(n)["catch"](function(n){i.readyException(n)}),this};i.extend({isReady:!1,readyWait:1,ready:function(n){(!0===n?--i.readyWait:i.isReady)||(i.isReady=!0)!==n&&0<--i.readyWait||ei.resolveWith(f,[i])}});i.ready.then=ei.then;"complete"===f.readyState||"loading"!==f.readyState&&!f.documentElement.doScroll?n.setTimeout(i.ready):(f.addEventListener("DOMContentLoaded",oi),n.addEventListener("load",oi));var w=function(n,t,r,f,e,o,s){var h=0,l=n.length,c=null==r;if("object"===ut(r))for(h in e=!0,r)w(n,t,h,r[h],!0,o,s);else if(void 0!==f&&(e=!0,u(f)||(s=!0),c&&(s?(t.call(n,f),t=null):(c=t,t=function(n,t,r){return c.call(i(n),r)})),t))for(;h<l;h++)t(n[h],r,s?f:f.call(n[h],h,t(n[h],r)));return e?n:c?t.call(n):l?t(n[0],r):o},se=/^-ms-/,he=/-([a-z])/g;ot=function(n){return 1===n.nodeType||9===n.nodeType||!+n.nodeType};bt.uid=1;bt.prototype={cache:function(n){var t=n[this.expando];return t||(t={},ot(n)&&(n.nodeType?n[this.expando]=t:Object.defineProperty(n,this.expando,{value:t,configurable:!0}))),t},set:function(n,t,i){var r,u=this.cache(n);if("string"==typeof t)u[y(t)]=i;else for(r in t)u[y(r)]=t[r];return u},get:function(n,t){return void 0===t?this.cache(n):n[this.expando]&&n[this.expando][y(t)]},access:function(n,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(n,t):(this.set(n,t,i),void 0!==i?i:t)},remove:function(n,t){var u,r=n[this.expando];if(void 0!==r){if(void 0!==t)for(u=(t=Array.isArray(t)?t.map(y):(t=y(t))in r?[t]:t.match(l)||[]).length;u--;)delete r[t[u]];(void 0===t||i.isEmptyObject(r))&&(n.nodeType?n[this.expando]=void 0:delete n[this.expando])}},hasData:function(n){var t=n[this.expando];return void 0!==t&&!i.isEmptyObject(t)}};var r=new bt,o=new bt,le=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ae=/[A-Z]/g;i.extend({hasData:function(n){return o.hasData(n)||r.hasData(n)},data:function(n,t,i){return o.access(n,t,i)},removeData:function(n,t){o.remove(n,t)},_data:function(n,t,i){return r.access(n,t,i)},_removeData:function(n,t){r.remove(n,t)}});i.fn.extend({data:function(n,t){var f,u,e,i=this[0],s=i&&i.attributes;if(void 0===n){if(this.length&&(e=o.get(i),1===i.nodeType&&!r.get(i,"hasDataAttrs"))){for(f=s.length;f--;)s[f]&&0===(u=s[f].name).indexOf("data-")&&(u=y(u.slice(5)),ou(i,u,e[u]));r.set(i,"hasDataAttrs",!0)}return e}return"object"==typeof n?this.each(function(){o.set(this,n)}):w(this,function(t){var r;if(i&&void 0===t)return void 0!==(r=o.get(i,n))?r:void 0!==(r=ou(i,n))?r:void 0;this.each(function(){o.set(this,n,t)})},null,t,1<arguments.length,null,!0)},removeData:function(n){return this.each(function(){o.remove(this,n)})}});i.extend({queue:function(n,t,u){var f;if(n)return t=(t||"fx")+"queue",f=r.get(n,t),u&&(!f||Array.isArray(u)?f=r.access(n,t,i.makeArray(u)):f.push(u)),f||[]},dequeue:function(n,t){t=t||"fx";var r=i.queue(n,t),e=r.length,u=r.shift(),f=i._queueHooks(n,t);"inprogress"===u&&(u=r.shift(),e--);u&&("fx"===t&&r.unshift("inprogress"),delete f.stop,u.call(n,function(){i.dequeue(n,t)},f));!e&&f&&f.empty.fire()},_queueHooks:function(n,t){var u=t+"queueHooks";return r.get(n,u)||r.access(n,u,{empty:i.Callbacks("once memory").add(function(){r.remove(n,[t+"queue",u])})})}});i.fn.extend({queue:function(n,t){var r=2;return"string"!=typeof n&&(t=n,n="fx",r--),arguments.length<r?i.queue(this[0],n):void 0===t?this:this.each(function(){var r=i.queue(this,n,t);i._queueHooks(this,n);"fx"===n&&"inprogress"!==r[0]&&i.dequeue(this,n)})},dequeue:function(n){return this.each(function(){i.dequeue(this,n)})},clearQueue:function(n){return this.queue(n||"fx",[])},promise:function(n,t){var u,e=1,o=i.Deferred(),f=this,s=this.length,h=function(){--e||o.resolveWith(f,[f])};for("string"!=typeof n&&(t=n,n=void 0),n=n||"fx";s--;)(u=r.get(f[s],n+"queueHooks"))&&u.empty&&(e++,u.empty.add(h));return h(),o.promise(t)}});var su=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,kt=new RegExp("^(?:([+-])=|)("+su+")([a-z%]*)$","i"),b=["Top","Right","Bottom","Left"],g=f.documentElement,st=function(n){return i.contains(n.ownerDocument,n)},ve={composed:!0};g.getRootNode&&(st=function(n){return i.contains(n.ownerDocument,n)||n.getRootNode(ve)===n.ownerDocument});dt=function(n,t){return"none"===(n=t||n).style.display||""===n.style.display&&st(n)&&"none"===i.css(n,"display")};ki={};i.fn.extend({show:function(){return ht(this,!0)},hide:function(){return ht(this)},toggle:function(n){return"boolean"==typeof n?n?this.show():this.hide():this.each(function(){dt(this)?i(this).show():i(this).hide()})}});var nt,si,gt=/^(?:checkbox|radio)$/i,cu=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,lu=/^$|^module$|\/(?:java|ecma)script/i;nt=f.createDocumentFragment().appendChild(f.createElement("div"));(si=f.createElement("input")).setAttribute("type","radio");si.setAttribute("checked","checked");si.setAttribute("name","t");nt.appendChild(si);e.checkClone=nt.cloneNode(!0).cloneNode(!0).lastChild.checked;nt.innerHTML="<textarea>x<\/textarea>";e.noCloneChecked=!!nt.cloneNode(!0).lastChild.defaultValue;nt.innerHTML="<option><\/option>";e.option=!!nt.lastChild;h={thead:[1,"<table>","<\/table>"],col:[2,"<table><colgroup>","<\/colgroup><\/table>"],tr:[2,"<table><tbody>","<\/tbody><\/table>"],td:[3,"<table><tbody><tr>","<\/tr><\/tbody><\/table>"],_default:[0,"",""]};h.tbody=h.tfoot=h.colgroup=h.caption=h.thead;h.th=h.td;e.option||(h.optgroup=h.option=[1,"<select multiple='multiple'>","<\/select>"]);au=/<|&#?\w+;/;var ye=/^key/,pe=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,yu=/^([^.]*)(?:\.(.+)|)/;i.event={global:{},add:function(n,t,u,f,e){var p,a,k,v,w,h,s,c,o,b,d,y=r.get(n);if(ot(n))for(u.handler&&(u=(p=u).handler,e=p.selector),e&&i.find.matchesSelector(g,e),u.guid||(u.guid=i.guid++),(v=y.events)||(v=y.events=Object.create(null)),(a=y.handle)||(a=y.handle=function(t){if("undefined"!=typeof i&&i.event.triggered!==t.type)return i.event.dispatch.apply(n,arguments)}),w=(t=(t||"").match(l)||[""]).length;w--;)o=d=(k=yu.exec(t[w])||[])[1],b=(k[2]||"").split(".").sort(),o&&(s=i.event.special[o]||{},o=(e?s.delegateType:s.bindType)||o,s=i.event.special[o]||{},h=i.extend({type:o,origType:d,data:f,handler:u,guid:u.guid,selector:e,needsContext:e&&i.expr.match.needsContext.test(e),namespace:b.join(".")},p),(c=v[o])||((c=v[o]=[]).delegateCount=0,s.setup&&!1!==s.setup.call(n,f,b,a)||n.addEventListener&&n.addEventListener(o,a)),s.add&&(s.add.call(n,h),h.handler.guid||(h.handler.guid=u.guid)),e?c.splice(c.delegateCount++,0,h):c.push(h),i.event.global[o]=!0)},remove:function(n,t,u,f,e){var y,k,c,v,p,s,h,a,o,b,d,w=r.hasData(n)&&r.get(n);if(w&&(v=w.events)){for(p=(t=(t||"").match(l)||[""]).length;p--;)if(o=d=(c=yu.exec(t[p])||[])[1],b=(c[2]||"").split(".").sort(),o){for(h=i.event.special[o]||{},a=v[o=(f?h.delegateType:h.bindType)||o]||[],c=c[2]&&new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"),k=y=a.length;y--;)s=a[y],!e&&d!==s.origType||u&&u.guid!==s.guid||c&&!c.test(s.namespace)||f&&f!==s.selector&&("**"!==f||!s.selector)||(a.splice(y,1),s.selector&&a.delegateCount--,h.remove&&h.remove.call(n,s));k&&!a.length&&(h.teardown&&!1!==h.teardown.call(n,b,w.handle)||i.removeEvent(n,o,w.handle),delete v[o])}else for(o in v)i.event.remove(n,o+t[p],u,f,!0);i.isEmptyObject(v)&&r.remove(n,"handle events")}},dispatch:function(n){var u,h,c,e,f,l,s=new Array(arguments.length),t=i.event.fix(n),a=(r.get(this,"events")||Object.create(null))[t.type]||[],o=i.event.special[t.type]||{};for(s[0]=t,u=1;u<arguments.length;u++)s[u]=arguments[u];if(t.delegateTarget=this,!o.preDispatch||!1!==o.preDispatch.call(this,t)){for(l=i.event.handlers.call(this,t,a),u=0;(e=l[u++])&&!t.isPropagationStopped();)for(t.currentTarget=e.elem,h=0;(f=e.handlers[h++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!1!==f.namespace&&!t.rnamespace.test(f.namespace)||(t.handleObj=f,t.data=f.data,void 0!==(c=((i.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,s))&&!1===(t.result=c)&&(t.preventDefault(),t.stopPropagation()));return o.postDispatch&&o.postDispatch.call(this,t),t.result}},handlers:function(n,t){var f,h,u,e,o,c=[],s=t.delegateCount,r=n.target;if(s&&r.nodeType&&!("click"===n.type&&1<=n.button))for(;r!==this;r=r.parentNode||this)if(1===r.nodeType&&("click"!==n.type||!0!==r.disabled)){for(e=[],o={},f=0;f<s;f++)void 0===o[u=(h=t[f]).selector+" "]&&(o[u]=h.needsContext?-1<i(u,this).index(r):i.find(u,this,null,[r]).length),o[u]&&e.push(h);e.length&&c.push({elem:r,handlers:e})}return r=this,s<t.length&&c.push({elem:r,handlers:t.slice(s)}),c},addProp:function(n,t){Object.defineProperty(i.Event.prototype,n,{enumerable:!0,configurable:!0,get:u(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[n]},set:function(t){Object.defineProperty(this,n,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(n){return n[i.expando]?n:new i.Event(n)},special:{load:{noBubble:!0},click:{setup:function(n){var t=this||n;return gt.test(t.type)&&t.click&&c(t,"input")&&hi(t,"click",ct),!1},trigger:function(n){var t=this||n;return gt.test(t.type)&&t.click&&c(t,"input")&&hi(t,"click"),!0},_default:function(n){var t=n.target;return gt.test(t.type)&&t.click&&c(t,"input")&&r.get(t,"click")||c(t,"a")}},beforeunload:{postDispatch:function(n){void 0!==n.result&&n.originalEvent&&(n.originalEvent.returnValue=n.result)}}}};i.removeEvent=function(n,t,i){n.removeEventListener&&n.removeEventListener(t,i)};i.Event=function(n,t){if(!(this instanceof i.Event))return new i.Event(n,t);n&&n.type?(this.originalEvent=n,this.type=n.type,this.isDefaultPrevented=n.defaultPrevented||void 0===n.defaultPrevented&&!1===n.returnValue?ct:lt,this.target=n.target&&3===n.target.nodeType?n.target.parentNode:n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget):this.type=n;t&&i.extend(this,t);this.timeStamp=n&&n.timeStamp||Date.now();this[i.expando]=!0};i.Event.prototype={constructor:i.Event,isDefaultPrevented:lt,isPropagationStopped:lt,isImmediatePropagationStopped:lt,isSimulated:!1,preventDefault:function(){var n=this.originalEvent;this.isDefaultPrevented=ct;n&&!this.isSimulated&&n.preventDefault()},stopPropagation:function(){var n=this.originalEvent;this.isPropagationStopped=ct;n&&!this.isSimulated&&n.stopPropagation()},stopImmediatePropagation:function(){var n=this.originalEvent;this.isImmediatePropagationStopped=ct;n&&!this.isSimulated&&n.stopImmediatePropagation();this.stopPropagation()}};i.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(n){var t=n.button;return null==n.which&&ye.test(n.type)?null!=n.charCode?n.charCode:n.keyCode:!n.which&&void 0!==t&&pe.test(n.type)?1&t?1:2&t?3:4&t?2:0:n.which}},i.event.addProp);i.each({focus:"focusin",blur:"focusout"},function(n,t){i.event.special[n]={setup:function(){return hi(this,n,we),!1},trigger:function(){return hi(this,n),!0},delegateType:t}});i.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(n,t){i.event.special[n]={delegateType:t,bindType:t,handle:function(n){var u,r=n.relatedTarget,f=n.handleObj;return r&&(r===this||i.contains(this,r))||(n.type=f.origType,u=f.handler.apply(this,arguments),n.type=t),u}}});i.fn.extend({on:function(n,t,i,r){return gi(this,n,t,i,r)},one:function(n,t,i,r){return gi(this,n,t,i,r,1)},off:function(n,t,r){var u,f;if(n&&n.preventDefault&&n.handleObj)return u=n.handleObj,i(n.delegateTarget).off(u.namespace?u.origType+"."+u.namespace:u.origType,u.selector,u.handler),this;if("object"==typeof n){for(f in n)this.off(f,t,n[f]);return this}return!1!==t&&"function"!=typeof t||(r=t,t=void 0),!1===r&&(r=lt),this.each(function(){i.event.remove(this,n,r,t)})}});var be=/<script|<style|<link/i,ke=/checked\s*(?:[^=]|=\s*.checked.)/i,de=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;i.extend({htmlPrefilter:function(n){return n},clone:function(n,t,r){var u,c,o,f,l,a,v,h=n.cloneNode(!0),y=st(n);if(!(e.noCloneChecked||1!==n.nodeType&&11!==n.nodeType||i.isXMLDoc(n)))for(f=s(h),u=0,c=(o=s(n)).length;u<c;u++)l=o[u],a=f[u],void 0,"input"===(v=a.nodeName.toLowerCase())&&gt.test(l.type)?a.checked=l.checked:"input"!==v&&"textarea"!==v||(a.defaultValue=l.defaultValue);if(t)if(r)for(o=o||s(n),f=f||s(h),u=0,c=o.length;u<c;u++)wu(o[u],f[u]);else wu(n,h);return 0<(f=s(h,"script")).length&&di(f,!y&&s(n,"script")),h},cleanData:function(n){for(var u,t,f,s=i.event.special,e=0;void 0!==(t=n[e]);e++)if(ot(t)){if(u=t[r.expando]){if(u.events)for(f in u.events)s[f]?i.event.remove(t,f):i.removeEvent(t,f,u.handle);t[r.expando]=void 0}t[o.expando]&&(t[o.expando]=void 0)}}});i.fn.extend({detach:function(n){return bu(this,n,!0)},remove:function(n){return bu(this,n)},text:function(n){return w(this,function(n){return void 0===n?i.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=n)})},null,n,arguments.length)},append:function(){return at(this,arguments,function(n){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||pu(this,n).appendChild(n)})},prepend:function(){return at(this,arguments,function(n){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=pu(this,n);t.insertBefore(n,t.firstChild)}})},before:function(){return at(this,arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this)})},after:function(){return at(this,arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling)})},empty:function(){for(var n,t=0;null!=(n=this[t]);t++)1===n.nodeType&&(i.cleanData(s(n,!1)),n.textContent="");return this},clone:function(n,t){return n=null!=n&&n,t=null==t?n:t,this.map(function(){return i.clone(this,n,t)})},html:function(n){return w(this,function(n){var t=this[0]||{},r=0,u=this.length;if(void 0===n&&1===t.nodeType)return t.innerHTML;if("string"==typeof n&&!be.test(n)&&!h[(cu.exec(n)||["",""])[1].toLowerCase()]){n=i.htmlPrefilter(n);try{for(;r<u;r++)1===(t=this[r]||{}).nodeType&&(i.cleanData(s(t,!1)),t.innerHTML=n);t=0}catch(n){}}t&&this.empty().append(n)},null,n,arguments.length)},replaceWith:function(){var n=[];return at(this,arguments,function(t){var r=this.parentNode;i.inArray(this,n)<0&&(i.cleanData(s(this)),r&&r.replaceChild(t,this))},n)}});i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(n,t){i.fn[n]=function(n){for(var u,f=[],e=i(n),o=e.length-1,r=0;r<=o;r++)u=r===o?this:this.clone(!0),i(e[r])[t](u),yi.apply(f,u.get());return this.pushStack(f)}});var nr=new RegExp("^("+su+")(?!px)[a-z%]+$","i"),ci=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=n),i.getComputedStyle(t)},ku=function(n,t,i){var u,r,f={};for(r in t)f[r]=n.style[r],n.style[r]=t[r];for(r in u=i.call(n),t)n.style[r]=f[r];return u},to=new RegExp(b.join("|"),"i");!function(){function r(){if(t){s.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0";t.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%";g.appendChild(s).appendChild(t);var i=n.getComputedStyle(t);h="1%"!==i.top;v=12===u(i.marginLeft);t.style.right="60%";a=36===u(i.right);c=36===u(i.width);t.style.position="absolute";l=12===u(t.offsetWidth/3);g.removeChild(s);t=null}}function u(n){return Math.round(parseFloat(n))}var h,c,l,a,o,v,s=f.createElement("div"),t=f.createElement("div");t.style&&(t.style.backgroundClip="content-box",t.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===t.style.backgroundClip,i.extend(e,{boxSizingReliable:function(){return r(),c},pixelBoxStyles:function(){return r(),a},pixelPosition:function(){return r(),h},reliableMarginLeft:function(){return r(),v},scrollboxSize:function(){return r(),l},reliableTrDimensions:function(){var t,i,r,u;return null==o&&(t=f.createElement("table"),i=f.createElement("tr"),r=f.createElement("div"),t.style.cssText="position:absolute;left:-11111px",i.style.height="1px",r.style.height="9px",g.appendChild(t).appendChild(i).appendChild(r),u=n.getComputedStyle(i),o=3<parseInt(u.height),g.removeChild(t)),o}}))}();var gu=["Webkit","Moz","ms"],nf=f.createElement("div").style,tf={};var io=/^(none|table(?!-c[ea]).+)/,rf=/^--/,ro={position:"absolute",visibility:"hidden",display:"block"},uf={letterSpacing:"0",fontWeight:"400"};i.extend({cssHooks:{opacity:{get:function(n,t){if(t){var i=ni(n,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(n,t,r,u){if(n&&3!==n.nodeType&&8!==n.nodeType&&n.style){var f,h,o,c=y(t),l=rf.test(t),s=n.style;if(l||(t=tr(c)),o=i.cssHooks[t]||i.cssHooks[c],void 0===r)return o&&"get"in o&&void 0!==(f=o.get(n,!1,u))?f:s[t];"string"==(h=typeof r)&&(f=kt.exec(r))&&f[1]&&(r=hu(n,t,f),h="number");null!=r&&r==r&&("number"!==h||l||(r+=f&&f[3]||(i.cssNumber[c]?"":"px")),e.clearCloneStyle||""!==r||0!==t.indexOf("background")||(s[t]="inherit"),o&&"set"in o&&void 0===(r=o.set(n,r,u))||(l?s.setProperty(t,r):s[t]=r))}},css:function(n,t,r,u){var f,e,o,s=y(t);return rf.test(t)||(t=tr(s)),(o=i.cssHooks[t]||i.cssHooks[s])&&"get"in o&&(f=o.get(n,!0,r)),void 0===f&&(f=ni(n,t,u)),"normal"===f&&t in uf&&(f=uf[t]),""===r||r?(e=parseFloat(f),!0===r||isFinite(e)?e||0:f):f}});i.each(["height","width"],function(n,t){i.cssHooks[t]={get:function(n,r,u){if(r)return!io.test(i.css(n,"display"))||n.getClientRects().length&&n.getBoundingClientRect().width?ef(n,t,u):ku(n,ro,function(){return ef(n,t,u)})},set:function(n,r,u){var s,f=ci(n),h=!e.scrollboxSize()&&"absolute"===f.position,c=(h||u)&&"border-box"===i.css(n,"boxSizing",!1,f),o=u?ir(n,t,u,c,f):0;return c&&h&&(o-=Math.ceil(n["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(f[t])-ir(n,t,"border",!1,f)-.5)),o&&(s=kt.exec(r))&&"px"!==(s[3]||"px")&&(n.style[t]=r,r=i.css(n,t)),ff(0,r,o)}}});i.cssHooks.marginLeft=du(e.reliableMarginLeft,function(n,t){if(t)return(parseFloat(ni(n,"marginLeft"))||n.getBoundingClientRect().left-ku(n,{marginLeft:0},function(){return n.getBoundingClientRect().left}))+"px"});i.each({margin:"",padding:"",border:"Width"},function(n,t){i.cssHooks[n+t]={expand:function(i){for(var r=0,f={},u="string"==typeof i?i.split(" "):[i];r<4;r++)f[n+b[r]+t]=u[r]||u[r-2]||u[0];return f}};"margin"!==n&&(i.cssHooks[n+t].set=ff)});i.fn.extend({css:function(n,t){return w(this,function(n,t,r){var f,e,o={},u=0;if(Array.isArray(t)){for(f=ci(n),e=t.length;u<e;u++)o[t[u]]=i.css(n,t[u],!1,f);return o}return void 0!==r?i.style(n,t,r):i.css(n,t)},n,t,1<arguments.length)}});((i.Tween=a).prototype={constructor:a,init:function(n,t,r,u,f,e){this.elem=n;this.prop=r;this.easing=f||i.easing._default;this.options=t;this.start=this.now=this.cur();this.end=u;this.unit=e||(i.cssNumber[r]?"":"px")},cur:function(){var n=a.propHooks[this.prop];return n&&n.get?n.get(this):a.propHooks._default.get(this)},run:function(n){var t,r=a.propHooks[this.prop];return this.pos=this.options.duration?t=i.easing[this.easing](n,this.options.duration*n,0,1,this.options.duration):t=n,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):a.propHooks._default.set(this),this}}).init.prototype=a.prototype;(a.propHooks={_default:{get:function(n){var t;return 1!==n.elem.nodeType||null!=n.elem[n.prop]&&null==n.elem.style[n.prop]?n.elem[n.prop]:(t=i.css(n.elem,n.prop,""))&&"auto"!==t?t:0},set:function(n){i.fx.step[n.prop]?i.fx.step[n.prop](n):1!==n.elem.nodeType||!i.cssHooks[n.prop]&&null==n.elem.style[tr(n.prop)]?n.elem[n.prop]=n.now:i.style(n.elem,n.prop,n.now+n.unit)}}}).scrollTop=a.propHooks.scrollLeft={set:function(n){n.elem.nodeType&&n.elem.parentNode&&(n.elem[n.prop]=n.now)}};i.easing={linear:function(n){return n},swing:function(n){return.5-Math.cos(n*Math.PI)/2},_default:"swing"};i.fx=a.prototype.init;i.fx.step={};sf=/^(?:toggle|show|hide)$/;hf=/queueHooks$/;i.Animation=i.extend(v,{tweeners:{"*":[function(n,t){var i=this.createTween(n,t);return hu(i.elem,n,kt.exec(t),i),i}]},tweener:function(n,t){u(n)?(t=n,n=["*"]):n=n.match(l);for(var i,r=0,f=n.length;r<f;r++)i=n[r],v.tweeners[i]=v.tweeners[i]||[],v.tweeners[i].unshift(t)},prefilters:[function(n,t,u){var f,y,w,c,b,h,o,l,k="width"in t||"height"in t,v=this,p={},s=n.style,a=n.nodeType&&dt(n),e=r.get(n,"fxshow");for(f in u.queue||(null==(c=i._queueHooks(n,"fx")).unqueued&&(c.unqueued=0,b=c.empty.fire,c.empty.fire=function(){c.unqueued||b()}),c.unqueued++,v.always(function(){v.always(function(){c.unqueued--;i.queue(n,"fx").length||c.empty.fire()})})),t)if(y=t[f],sf.test(y)){if(delete t[f],w=w||"toggle"===y,y===(a?"hide":"show")){if("show"!==y||!e||void 0===e[f])continue;a=!0}p[f]=e&&e[f]||i.style(n,f)}if((h=!i.isEmptyObject(t))||!i.isEmptyObject(p))for(f in k&&1===n.nodeType&&(u.overflow=[s.overflow,s.overflowX,s.overflowY],null==(o=e&&e.display)&&(o=r.get(n,"display")),"none"===(l=i.css(n,"display"))&&(o?l=o:(ht([n],!0),o=n.style.display||o,l=i.css(n,"display"),ht([n]))),("inline"===l||"inline-block"===l&&null!=o)&&"none"===i.css(n,"float")&&(h||(v.done(function(){s.display=o}),null==o&&(l=s.display,o="none"===l?"":l)),s.display="inline-block")),u.overflow&&(s.overflow="hidden",v.always(function(){s.overflow=u.overflow[0];s.overflowX=u.overflow[1];s.overflowY=u.overflow[2]})),h=!1,p)h||(e?"hidden"in e&&(a=e.hidden):e=r.access(n,"fxshow",{display:o}),w&&(e.hidden=!a),a&&ht([n],!0),v.done(function(){for(f in a||ht([n]),r.remove(n,"fxshow"),p)i.style(n,f,p[f])})),h=lf(a?e[f]:0,f,v),f in e||(e[f]=h.start,a&&(h.end=h.start,h.start=0))}],prefilter:function(n,t){t?v.prefilters.unshift(n):v.prefilters.push(n)}});i.speed=function(n,t,r){var f=n&&"object"==typeof n?i.extend({},n):{complete:r||!r&&t||u(n)&&n,duration:n,easing:r&&t||t&&!u(t)&&t};return i.fx.off?f.duration=0:"number"!=typeof f.duration&&(f.duration=f.duration in i.fx.speeds?i.fx.speeds[f.duration]:i.fx.speeds._default),null!=f.queue&&!0!==f.queue||(f.queue="fx"),f.old=f.complete,f.complete=function(){u(f.old)&&f.old.call(this);f.queue&&i.dequeue(this,f.queue)},f};i.fn.extend({fadeTo:function(n,t,i,r){return this.filter(dt).css("opacity",0).show().end().animate({opacity:t},n,i,r)},animate:function(n,t,u,f){var s=i.isEmptyObject(n),o=i.speed(t,u,f),e=function(){var t=v(this,i.extend({},n),o);(s||r.get(this,"finish"))&&t.stop(!0)};return e.finish=e,s||!1===o.queue?this.each(e):this.queue(o.queue,e)},stop:function(n,t,u){var f=function(n){var t=n.stop;delete n.stop;t(u)};return"string"!=typeof n&&(u=t,t=n,n=void 0),t&&this.queue(n||"fx",[]),this.each(function(){var s=!0,t=null!=n&&n+"queueHooks",o=i.timers,e=r.get(this);if(t)e[t]&&e[t].stop&&f(e[t]);else for(t in e)e[t]&&e[t].stop&&hf.test(t)&&f(e[t]);for(t=o.length;t--;)o[t].elem!==this||null!=n&&o[t].queue!==n||(o[t].anim.stop(u),s=!1,o.splice(t,1));!s&&u||i.dequeue(this,n)})},finish:function(n){return!1!==n&&(n=n||"fx"),this.each(function(){var t,e=r.get(this),u=e[n+"queue"],o=e[n+"queueHooks"],f=i.timers,s=u?u.length:0;for(e.finish=!0,i.queue(this,n,[]),o&&o.stop&&o.stop.call(this,!0),t=f.length;t--;)f[t].elem===this&&f[t].queue===n&&(f[t].anim.stop(!0),f.splice(t,1));for(t=0;t<s;t++)u[t]&&u[t].finish&&u[t].finish.call(this);delete e.finish})}});i.each(["toggle","show","hide"],function(n,t){var r=i.fn[t];i.fn[t]=function(n,i,u){return null==n||"boolean"==typeof n?r.apply(this,arguments):this.animate(ai(t,!0),n,i,u)}});i.each({slideDown:ai("show"),slideUp:ai("hide"),slideToggle:ai("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(n,t){i.fn[n]=function(n,i,r){return this.animate(t,n,i,r)}});i.timers=[];i.fx.tick=function(){var r,n=0,t=i.timers;for(vt=Date.now();n<t.length;n++)(r=t[n])()||t[n]!==r||t.splice(n--,1);t.length||i.fx.stop();vt=void 0};i.fx.timer=function(n){i.timers.push(n);i.fx.start()};i.fx.interval=13;i.fx.start=function(){li||(li=!0,rr())};i.fx.stop=function(){li=null};i.fx.speeds={slow:600,fast:200,_default:400};i.fn.delay=function(t,r){return t=i.fx&&i.fx.speeds[t]||t,r=r||"fx",this.queue(r,function(i,r){var u=n.setTimeout(i,t);r.stop=function(){n.clearTimeout(u)}})};yt=f.createElement("input");of=f.createElement("select").appendChild(f.createElement("option"));yt.type="checkbox";e.checkOn=""!==yt.value;e.optSelected=of.selected;(yt=f.createElement("input")).value="t";yt.type="radio";e.radioValue="t"===yt.value;pt=i.expr.attrHandle;i.fn.extend({attr:function(n,t){return w(this,i.attr,n,t,1<arguments.length)},removeAttr:function(n){return this.each(function(){i.removeAttr(this,n)})}});i.extend({attr:function(n,t,r){var f,u,e=n.nodeType;if(3!==e&&8!==e&&2!==e)return"undefined"==typeof n.getAttribute?i.prop(n,t,r):(1===e&&i.isXMLDoc(n)||(u=i.attrHooks[t.toLowerCase()]||(i.expr.match.bool.test(t)?af:void 0)),void 0!==r?null===r?void i.removeAttr(n,t):u&&"set"in u&&void 0!==(f=u.set(n,r,t))?f:(n.setAttribute(t,r+""),r):u&&"get"in u&&null!==(f=u.get(n,t))?f:null==(f=i.find.attr(n,t))?void 0:f)},attrHooks:{type:{set:function(n,t){if(!e.radioValue&&"radio"===t&&c(n,"input")){var i=n.value;return n.setAttribute("type",t),i&&(n.value=i),t}}}},removeAttr:function(n,t){var i,u=0,r=t&&t.match(l);if(r&&1===n.nodeType)while(i=r[u++])n.removeAttribute(i)}});af={set:function(n,t,r){return!1===t?i.removeAttr(n,r):n.setAttribute(r,r),r}};i.each(i.expr.match.bool.source.match(/\w+/g),function(n,t){var r=pt[t]||i.find.attr;pt[t]=function(n,t,i){var f,e,u=t.toLowerCase();return i||(e=pt[u],pt[u]=f,f=null!=r(n,t,i)?u:null,pt[u]=e),f}});vf=/^(?:input|select|textarea|button)$/i;yf=/^(?:a|area)$/i;i.fn.extend({prop:function(n,t){return w(this,i.prop,n,t,1<arguments.length)},removeProp:function(n){return this.each(function(){delete this[i.propFix[n]||n]})}});i.extend({prop:function(n,t,r){var f,u,e=n.nodeType;if(3!==e&&8!==e&&2!==e)return 1===e&&i.isXMLDoc(n)||(t=i.propFix[t]||t,u=i.propHooks[t]),void 0!==r?u&&"set"in u&&void 0!==(f=u.set(n,r,t))?f:n[t]=r:u&&"get"in u&&null!==(f=u.get(n,t))?f:n[t]},propHooks:{tabIndex:{get:function(n){var t=i.find.attr(n,"tabindex");return t?parseInt(t,10):vf.test(n.nodeName)||yf.test(n.nodeName)&&n.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});e.optSelected||(i.propHooks.selected={get:function(n){var t=n.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(n){var t=n.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}});i.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){i.propFix[this.toLowerCase()]=this});i.fn.extend({addClass:function(n){var o,t,r,f,e,s,h,c=0;if(u(n))return this.each(function(t){i(this).addClass(n.call(this,t,it(this)))});if((o=ur(n)).length)while(t=this[c++])if(f=it(t),r=1===t.nodeType&&" "+tt(f)+" "){for(s=0;e=o[s++];)r.indexOf(" "+e+" ")<0&&(r+=e+" ");f!==(h=tt(r))&&t.setAttribute("class",h)}return this},removeClass:function(n){var o,r,t,f,e,s,h,c=0;if(u(n))return this.each(function(t){i(this).removeClass(n.call(this,t,it(this)))});if(!arguments.length)return this.attr("class","");if((o=ur(n)).length)while(r=this[c++])if(f=it(r),t=1===r.nodeType&&" "+tt(f)+" "){for(s=0;e=o[s++];)while(-1<t.indexOf(" "+e+" "))t=t.replace(" "+e+" "," ");f!==(h=tt(t))&&r.setAttribute("class",h)}return this},toggleClass:function(n,t){var f=typeof n,e="string"===f||Array.isArray(n);return"boolean"==typeof t&&e?t?this.addClass(n):this.removeClass(n):u(n)?this.each(function(r){i(this).toggleClass(n.call(this,r,it(this),t),t)}):this.each(function(){var t,o,u,s;if(e)for(o=0,u=i(this),s=ur(n);t=s[o++];)u.hasClass(t)?u.removeClass(t):u.addClass(t);else void 0!==n&&"boolean"!==f||((t=it(this))&&r.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===n?"":r.get(this,"__className__")||""))})},hasClass:function(n){for(var t,r=0,i=" "+n+" ";t=this[r++];)if(1===t.nodeType&&-1<(" "+tt(it(t))+" ").indexOf(i))return!0;return!1}});pf=/\r/g;i.fn.extend({val:function(n){var t,r,e,f=this[0];return arguments.length?(e=u(n),this.each(function(r){var u;1===this.nodeType&&(null==(u=e?n.call(this,r,i(this).val()):n)?u="":"number"==typeof u?u+="":Array.isArray(u)&&(u=i.map(u,function(n){return null==n?"":n+""})),(t=i.valHooks[this.type]||i.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,u,"value")||(this.value=u))})):f?(t=i.valHooks[f.type]||i.valHooks[f.nodeName.toLowerCase()])&&"get"in t&&void 0!==(r=t.get(f,"value"))?r:"string"==typeof(r=f.value)?r.replace(pf,""):null==r?"":r:void 0}});i.extend({valHooks:{option:{get:function(n){var t=i.find.attr(n,"value");return null!=t?t:tt(i.text(n))}},select:{get:function(n){for(var e,t,o=n.options,u=n.selectedIndex,f="select-one"===n.type,s=f?null:[],h=f?u+1:o.length,r=u<0?h:f?u:0;r<h;r++)if(((t=o[r]).selected||r===u)&&!t.disabled&&(!t.parentNode.disabled||!c(t.parentNode,"optgroup"))){if(e=i(t).val(),f)return e;s.push(e)}return s},set:function(n,t){for(var r,u,f=n.options,e=i.makeArray(t),o=f.length;o--;)((u=f[o]).selected=-1<i.inArray(i.valHooks.option.get(u),e))&&(r=!0);return r||(n.selectedIndex=-1),e}}}});i.each(["radio","checkbox"],function(){i.valHooks[this]={set:function(n,t){if(Array.isArray(t))return n.checked=-1<i.inArray(i(n).val(),t)}};e.checkOn||(i.valHooks[this].get=function(n){return null===n.getAttribute("value")?"on":n.value})});e.focusin="onfocusin"in n;fr=/^(?:focusinfocus|focusoutblur)$/;er=function(n){n.stopPropagation()};i.extend(i.event,{trigger:function(t,e,o,s){var k,c,l,d,v,y,a,p,w=[o||f],h=ui.call(t,"type")?t.type:t,b=ui.call(t,"namespace")?t.namespace.split("."):[];if(c=p=l=o=o||f,3!==o.nodeType&&8!==o.nodeType&&!fr.test(h+i.event.triggered)&&(-1<h.indexOf(".")&&(h=(b=h.split(".")).shift(),b.sort()),v=h.indexOf(":")<0&&"on"+h,(t=t[i.expando]?t:new i.Event(h,"object"==typeof t&&t)).isTrigger=s?2:3,t.namespace=b.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=o),e=null==e?[t]:i.makeArray(e,[t]),a=i.event.special[h]||{},s||!a.trigger||!1!==a.trigger.apply(o,e))){if(!s&&!a.noBubble&&!rt(o)){for(d=a.delegateType||h,fr.test(d+h)||(c=c.parentNode);c;c=c.parentNode)w.push(c),l=c;l===(o.ownerDocument||f)&&w.push(l.defaultView||l.parentWindow||n)}for(k=0;(c=w[k++])&&!t.isPropagationStopped();)p=c,t.type=1<k?d:a.bindType||h,(y=(r.get(c,"events")||Object.create(null))[t.type]&&r.get(c,"handle"))&&y.apply(c,e),(y=v&&c[v])&&y.apply&&ot(c)&&(t.result=y.apply(c,e),!1===t.result&&t.preventDefault());return t.type=h,s||t.isDefaultPrevented()||a._default&&!1!==a._default.apply(w.pop(),e)||!ot(o)||v&&u(o[h])&&!rt(o)&&((l=o[v])&&(o[v]=null),i.event.triggered=h,t.isPropagationStopped()&&p.addEventListener(h,er),o[h](),t.isPropagationStopped()&&p.removeEventListener(h,er),i.event.triggered=void 0,l&&(o[v]=l)),t.result}},simulate:function(n,t,r){var u=i.extend(new i.Event,r,{type:n,isSimulated:!0});i.event.trigger(u,null,t)}});i.fn.extend({trigger:function(n,t){return this.each(function(){i.event.trigger(n,t,this)})},triggerHandler:function(n,t){var r=this[0];if(r)return i.event.trigger(n,t,r,!0)}});e.focusin||i.each({focus:"focusin",blur:"focusout"},function(n,t){var u=function(n){i.event.simulate(t,n.target,i.event.fix(n))};i.event.special[t]={setup:function(){var i=this.ownerDocument||this.document||this,f=r.access(i,t);f||i.addEventListener(n,u,!0);r.access(i,t,(f||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,f=r.access(i,t)-1;f?r.access(i,t,f):(i.removeEventListener(n,u,!0),r.remove(i,t))}}});var ti=n.location,wf={guid:Date.now()},or=/\?/;i.parseXML=function(t){var r;if(!t||"string"!=typeof t)return null;try{r=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){r=void 0}return r&&!r.getElementsByTagName("parsererror").length||i.error("Invalid XML: "+t),r};var uo=/\[\]$/,bf=/\r?\n/g,fo=/^(?:submit|button|image|reset|file)$/i,eo=/^(?:input|select|textarea|keygen)/i;i.param=function(n,t){var r,f=[],e=function(n,t){var i=u(t)?t():t;f[f.length]=encodeURIComponent(n)+"="+encodeURIComponent(null==i?"":i)};if(null==n)return"";if(Array.isArray(n)||n.jquery&&!i.isPlainObject(n))i.each(n,function(){e(this.name,this.value)});else for(r in n)sr(r,n[r],t,e);return f.join("&")};i.fn.extend({serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var n=i.prop(this,"elements");return n?i.makeArray(n):this}).filter(function(){var n=this.type;return this.name&&!i(this).is(":disabled")&&eo.test(this.nodeName)&&!fo.test(n)&&(this.checked||!gt.test(n))}).map(function(n,t){var r=i(this).val();return null==r?null:Array.isArray(r)?i.map(r,function(n){return{name:t.name,value:n.replace(bf,"\r\n")}}):{name:t.name,value:r.replace(bf,"\r\n")}}).get()}});var oo=/%20/g,so=/#.*$/,ho=/([?&])_=[^&]*/,co=/^(.*?):[ \t]*([^\r\n]*)$/gm,lo=/^(?:GET|HEAD)$/,ao=/^\/\//,kf={},hr={},df="*/".concat("*"),cr=f.createElement("a");return cr.href=ti.href,i.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ti.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ti.protocol),global:!0,processData:!0,"async":!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":df,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":i.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(n,t){return t?lr(lr(n,i.ajaxSettings),t):lr(i.ajaxSettings,n)},ajaxPrefilter:gf(kf),ajaxTransport:gf(hr),ajax:function(t,r){function b(t,r,f,c){var v,rt,b,p,g,l=r;s||(s=!0,d&&n.clearTimeout(d),a=void 0,k=c||"",e.readyState=0<t?4:0,v=200<=t&&t<300||304===t,f&&(p=function(n,t,i){for(var e,u,f,o,s=n.contents,r=n.dataTypes;"*"===r[0];)r.shift(),void 0===e&&(e=n.mimeType||t.getResponseHeader("Content-Type"));if(e)for(u in s)if(s[u]&&s[u].test(e)){r.unshift(u);break}if(r[0]in i)f=r[0];else{for(u in i){if(!r[0]||n.converters[u+" "+r[0]]){f=u;break}o||(o=u)}f=f||o}if(f)return f!==r[0]&&r.unshift(f),i[f]}(u,e,f)),!v&&-1<i.inArray("script",u.dataTypes)&&(u.converters["text script"]=function(){}),p=function(n,t,i,r){var h,u,f,s,e,o={},c=n.dataTypes.slice();if(c[1])for(f in n.converters)o[f.toLowerCase()]=n.converters[f];for(u=c.shift();u;)if(n.responseFields[u]&&(i[n.responseFields[u]]=t),!e&&r&&n.dataFilter&&(t=n.dataFilter(t,n.dataType)),e=u,u=c.shift())if("*"===u)u=e;else if("*"!==e&&e!==u){if(!(f=o[e+" "+u]||o["* "+u]))for(h in o)if((s=h.split(" "))[1]===u&&(f=o[e+" "+s[0]]||o["* "+s[0]])){!0===f?f=o[h]:!0!==o[h]&&(u=s[0],c.unshift(s[1]));break}if(!0!==f)if(f&&n.throws)t=f(t);else try{t=f(t)}catch(n){return{state:"parsererror",error:f?n:"No conversion from "+e+" to "+u}}}return{state:"success",data:t}}(u,p,e,v),v?(u.ifModified&&((g=e.getResponseHeader("Last-Modified"))&&(i.lastModified[o]=g),(g=e.getResponseHeader("etag"))&&(i.etag[o]=g)),204===t||"HEAD"===u.type?l="nocontent":304===t?l="notmodified":(l=p.state,rt=p.data,v=!(b=p.error))):(b=l,!t&&l||(l="error",t<0&&(t=0))),e.status=t,e.statusText=(r||l)+"",v?tt.resolveWith(h,[rt,l,e]):tt.rejectWith(h,[e,l,b]),e.statusCode(w),w=void 0,y&&nt.trigger(v?"ajaxSuccess":"ajaxError",[e,u,v?rt:b]),it.fireWith(h,[e,l]),y&&(nt.trigger("ajaxComplete",[e,u]),--i.active||i.event.trigger("ajaxStop")))}"object"==typeof t&&(r=t,t=void 0);r=r||{};var a,o,k,v,d,c,s,y,g,p,u=i.ajaxSetup({},r),h=u.context||u,nt=u.context&&(h.nodeType||h.jquery)?i(h):i.event,tt=i.Deferred(),it=i.Callbacks("once memory"),w=u.statusCode||{},rt={},ut={},ft="canceled",e={readyState:0,getResponseHeader:function(n){var t;if(s){if(!v)for(v={};t=co.exec(k);)v[t[1].toLowerCase()+" "]=(v[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=v[n.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return s?k:null},setRequestHeader:function(n,t){return null==s&&(n=ut[n.toLowerCase()]=ut[n.toLowerCase()]||n,rt[n]=t),this},overrideMimeType:function(n){return null==s&&(u.mimeType=n),this},statusCode:function(n){var t;if(n)if(s)e.always(n[e.status]);else for(t in n)w[t]=[w[t],n[t]];return this},abort:function(n){var t=n||ft;return a&&a.abort(t),b(0,t),this}};if(tt.promise(e),u.url=((t||u.url||ti.href)+"").replace(ao,ti.protocol+"//"),u.type=r.method||r.type||u.method||u.type,u.dataTypes=(u.dataType||"*").toLowerCase().match(l)||[""],null==u.crossDomain){c=f.createElement("a");try{c.href=u.url;c.href=c.href;u.crossDomain=cr.protocol+"//"+cr.host!=c.protocol+"//"+c.host}catch(t){u.crossDomain=!0}}if(u.data&&u.processData&&"string"!=typeof u.data&&(u.data=i.param(u.data,u.traditional)),ne(kf,u,r,e),s)return e;for(g in(y=i.event&&u.global)&&0==i.active++&&i.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!lo.test(u.type),o=u.url.replace(so,""),u.hasContent?u.data&&u.processData&&0===(u.contentType||"").indexOf("application/x-www-form-urlencoded")&&(u.data=u.data.replace(oo,"+")):(p=u.url.slice(o.length),u.data&&(u.processData||"string"==typeof u.data)&&(o+=(or.test(o)?"&":"?")+u.data,delete u.data),!1===u.cache&&(o=o.replace(ho,"$1"),p=(or.test(o)?"&":"?")+"_="+wf.guid+++p),u.url=o+p),u.ifModified&&(i.lastModified[o]&&e.setRequestHeader("If-Modified-Since",i.lastModified[o]),i.etag[o]&&e.setRequestHeader("If-None-Match",i.etag[o])),(u.data&&u.hasContent&&!1!==u.contentType||r.contentType)&&e.setRequestHeader("Content-Type",u.contentType),e.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+df+"; q=0.01":""):u.accepts["*"]),u.headers)e.setRequestHeader(g,u.headers[g]);if(u.beforeSend&&(!1===u.beforeSend.call(h,e,u)||s))return e.abort();if(ft="abort",it.add(u.complete),e.done(u.success),e.fail(u.error),a=ne(hr,u,r,e)){if(e.readyState=1,y&&nt.trigger("ajaxSend",[e,u]),s)return e;u.async&&0<u.timeout&&(d=n.setTimeout(function(){e.abort("timeout")},u.timeout));try{s=!1;a.send(rt,b)}catch(t){if(s)throw t;b(-1,t)}}else b(-1,"No Transport");return e},getJSON:function(n,t,r){return i.get(n,t,r,"json")},getScript:function(n,t){return i.get(n,void 0,t,"script")}}),i.each(["get","post"],function(n,t){i[t]=function(n,r,f,e){return u(r)&&(e=e||f,f=r,r=void 0),i.ajax(i.extend({url:n,type:t,dataType:e,data:r,success:f},i.isPlainObject(n)&&n))}}),i.ajaxPrefilter(function(n){for(var t in n.headers)"content-type"===t.toLowerCase()&&(n.contentType=n.headers[t]||"")}),i._evalUrl=function(n,t,r){return i.ajax({url:n,type:"GET",dataType:"script",cache:!0,"async":!1,global:!1,converters:{"text script":function(){}},dataFilter:function(n){i.globalEval(n,t,r)}})},i.fn.extend({wrapAll:function(n){var t;return this[0]&&(u(n)&&(n=n.call(this[0])),t=i(n,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var n=this;n.firstElementChild;)n=n.firstElementChild;return n}).append(this)),this},wrapInner:function(n){return u(n)?this.each(function(t){i(this).wrapInner(n.call(this,t))}):this.each(function(){var t=i(this),r=t.contents();r.length?r.wrapAll(n):t.append(n)})},wrap:function(n){var t=u(n);return this.each(function(r){i(this).wrapAll(t?n.call(this,r):n)})},unwrap:function(n){return this.parent(n).not("body").each(function(){i(this).replaceWith(this.childNodes)}),this}}),i.expr.pseudos.hidden=function(n){return!i.expr.pseudos.visible(n)},i.expr.pseudos.visible=function(n){return!!(n.offsetWidth||n.offsetHeight||n.getClientRects().length)},i.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}},te={0:200,1223:204},wt=i.ajaxSettings.xhr(),e.cors=!!wt&&"withCredentials"in wt,e.ajax=wt=!!wt,i.ajaxTransport(function(t){var i,r;if(e.cors||wt&&!t.crossDomain)return{send:function(u,f){var o,e=t.xhr();if(e.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)e[o]=t.xhrFields[o];for(o in t.mimeType&&e.overrideMimeType&&e.overrideMimeType(t.mimeType),t.crossDomain||u["X-Requested-With"]||(u["X-Requested-With"]="XMLHttpRequest"),u)e.setRequestHeader(o,u[o]);i=function(n){return function(){i&&(i=r=e.onload=e.onerror=e.onabort=e.ontimeout=e.onreadystatechange=null,"abort"===n?e.abort():"error"===n?"number"!=typeof e.status?f(0,"error"):f(e.status,e.statusText):f(te[e.status]||e.status,e.statusText,"text"!==(e.responseType||"text")||"string"!=typeof e.responseText?{binary:e.response}:{text:e.responseText},e.getAllResponseHeaders()))}};e.onload=i();r=e.onerror=e.ontimeout=i("error");void 0!==e.onabort?e.onabort=r:e.onreadystatechange=function(){4===e.readyState&&n.setTimeout(function(){i&&r()})};i=i("abort");try{e.send(t.hasContent&&t.data||null)}catch(u){if(i)throw u;}},abort:function(){i&&i()}}}),i.ajaxPrefilter(function(n){n.crossDomain&&(n.contents.script=!1)}),i.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(n){return i.globalEval(n),n}}}),i.ajaxPrefilter("script",function(n){void 0===n.cache&&(n.cache=!1);n.crossDomain&&(n.type="GET")}),i.ajaxTransport("script",function(n){var r,t;if(n.crossDomain||n.scriptAttrs)return{send:function(u,e){r=i("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",t=function(n){r.remove();t=null;n&&e("error"===n.type?404:200,n.type)});f.head.appendChild(r[0])},abort:function(){t&&t()}}}),ar=[],vi=/(=)\?(?=&|$)|\?\?/,i.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var n=ar.pop()||i.expando+"_"+wf.guid++;return this[n]=!0,n}}),i.ajaxPrefilter("json jsonp",function(t,r,f){var e,o,s,h=!1!==t.jsonp&&(vi.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&vi.test(t.data)&&"data");if(h||"jsonp"===t.dataTypes[0])return e=t.jsonpCallback=u(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,h?t[h]=t[h].replace(vi,"$1"+e):!1!==t.jsonp&&(t.url+=(or.test(t.url)?"&":"?")+t.jsonp+"="+e),t.converters["script json"]=function(){return s||i.error(e+" was not called"),s[0]},t.dataTypes[0]="json",o=n[e],n[e]=function(){s=arguments},f.always(function(){void 0===o?i(n).removeProp(e):n[e]=o;t[e]&&(t.jsonpCallback=r.jsonpCallback,ar.push(e));s&&u(o)&&o(s[0]);s=o=void 0}),"script"}),e.createHTMLDocument=((ie=f.implementation.createHTMLDocument("").body).innerHTML="<form><\/form><form><\/form>",2===ie.childNodes.length),i.parseHTML=function(n,t,r){return"string"!=typeof n?[]:("boolean"==typeof t&&(r=t,t=!1),t||(e.createHTMLDocument?((s=(t=f.implementation.createHTMLDocument("")).createElement("base")).href=f.location.href,t.head.appendChild(s)):t=f),u=!r&&[],(o=wi.exec(n))?[t.createElement(o[1])]:(o=vu([n],t,u),u&&u.length&&i(u).remove(),i.merge([],o.childNodes)));var s,o,u},i.fn.load=function(n,t,r){var f,s,h,e=this,o=n.indexOf(" ");return-1<o&&(f=tt(n.slice(o)),n=n.slice(0,o)),u(t)?(r=t,t=void 0):t&&"object"==typeof t&&(s="POST"),0<e.length&&i.ajax({url:n,type:s||"GET",dataType:"html",data:t}).done(function(n){h=arguments;e.html(f?i("<div>").append(i.parseHTML(n)).find(f):n)}).always(r&&function(n,t){e.each(function(){r.apply(this,h||[n.responseText,t,n])})}),this},i.expr.pseudos.animated=function(n){return i.grep(i.timers,function(t){return n===t.elem}).length},i.offset={setOffset:function(n,t,r){var v,o,s,h,e,c,l=i.css(n,"position"),a=i(n),f={};"static"===l&&(n.style.position="relative");e=a.offset();s=i.css(n,"top");c=i.css(n,"left");("absolute"===l||"fixed"===l)&&-1<(s+c).indexOf("auto")?(h=(v=a.position()).top,o=v.left):(h=parseFloat(s)||0,o=parseFloat(c)||0);u(t)&&(t=t.call(n,r,i.extend({},e)));null!=t.top&&(f.top=t.top-e.top+h);null!=t.left&&(f.left=t.left-e.left+o);"using"in t?t.using.call(n,f):("number"==typeof f.top&&(f.top+="px"),"number"==typeof f.left&&(f.left+="px"),a.css(f))}},i.fn.extend({offset:function(n){if(arguments.length)return void 0===n?this:this.each(function(t){i.offset.setOffset(this,n,t)});var r,u,t=this[0];if(t)return t.getClientRects().length?(r=t.getBoundingClientRect(),u=t.ownerDocument.defaultView,{top:r.top+u.pageYOffset,left:r.left+u.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var n,r,u,t=this[0],f={top:0,left:0};if("fixed"===i.css(t,"position"))r=t.getBoundingClientRect();else{for(r=this.offset(),u=t.ownerDocument,n=t.offsetParent||u.documentElement;n&&(n===u.body||n===u.documentElement)&&"static"===i.css(n,"position");)n=n.parentNode;n&&n!==t&&1===n.nodeType&&((f=i(n).offset()).top+=i.css(n,"borderTopWidth",!0),f.left+=i.css(n,"borderLeftWidth",!0))}return{top:r.top-f.top-i.css(t,"marginTop",!0),left:r.left-f.left-i.css(t,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var n=this.offsetParent;n&&"static"===i.css(n,"position");)n=n.offsetParent;return n||g})}}),i.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,t){var r="pageYOffset"===t;i.fn[n]=function(i){return w(this,function(n,i,u){var f;if(rt(n)?f=n:9===n.nodeType&&(f=n.defaultView),void 0===u)return f?f[t]:n[i];f?f.scrollTo(r?f.pageXOffset:u,r?u:f.pageYOffset):n[i]=u},n,i,arguments.length)}}),i.each(["top","left"],function(n,t){i.cssHooks[t]=du(e.pixelPosition,function(n,r){if(r)return r=ni(n,t),nr.test(r)?i(n).position()[t]+"px":r})}),i.each({Height:"height",Width:"width"},function(n,t){i.each({padding:"inner"+n,content:t,"":"outer"+n},function(r,u){i.fn[u]=function(f,e){var o=arguments.length&&(r||"boolean"!=typeof f),s=r||(!0===f||!0===e?"margin":"border");return w(this,function(t,r,f){var e;return rt(t)?0===u.indexOf("outer")?t["inner"+n]:t.document.documentElement["client"+n]:9===t.nodeType?(e=t.documentElement,Math.max(t.body["scroll"+n],e["scroll"+n],t.body["offset"+n],e["offset"+n],e["client"+n])):void 0===f?i.css(t,r,s):i.style(t,r,f,s)},t,o?f:void 0,o)}})}),i.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(n,t){i.fn[t]=function(n){return this.on(t,n)}}),i.fn.extend({bind:function(n,t,i){return this.on(n,null,t,i)},unbind:function(n,t){return this.off(n,null,t)},delegate:function(n,t,i,r){return this.on(t,n,i,r)},undelegate:function(n,t,i){return 1===arguments.length?this.off(n,"**"):this.off(t,n||"**",i)},hover:function(n,t){return this.mouseenter(n).mouseleave(t||n)}}),i.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(n,t){i.fn[t]=function(n,i){return 0<arguments.length?this.on(t,null,n,i):this.trigger(t)}}),re=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,i.proxy=function(n,t){var r,f,e;if("string"==typeof t&&(r=n[t],t=n,n=r),u(n))return f=k.call(arguments,2),(e=function(){return n.apply(t||this,f.concat(k.call(arguments)))}).guid=n.guid=n.guid||i.guid++,e},i.holdReady=function(n){n?i.readyWait++:i.ready(!0)},i.isArray=Array.isArray,i.parseJSON=JSON.parse,i.nodeName=c,i.isFunction=u,i.isWindow=rt,i.camelCase=y,i.type=ut,i.now=Date.now,i.isNumeric=function(n){var t=i.type(n);return("number"===t||"string"===t)&&!isNaN(n-parseFloat(n))},i.trim=function(n){return null==n?"":(n+"").replace(re,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return i}),ue=n.jQuery,fe=n.$,i.noConflict=function(t){return n.$===i&&(n.$=fe),t&&n.jQuery===i&&(n.jQuery=ue),i},"undefined"==typeof t&&(n.jQuery=n.$=i),i});
/*! jQuery UI - v1.12.1 - 2016-09-14
* http://jqueryui.com
* Includes: widget.js, position.js, data.js, disable-selection.js, effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js, focusable.js, form-reset-mixin.js, jquery-1-7.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/accordion.js, widgets/autocomplete.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/datepicker.js, widgets/dialog.js, widgets/draggable.js, widgets/droppable.js, widgets/menu.js, widgets/mouse.js, widgets/progressbar.js, widgets/resizable.js, widgets/selectable.js, widgets/selectmenu.js, widgets/slider.js, widgets/sortable.js, widgets/spinner.js, widgets/tabs.js, widgets/tooltip.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */
(function(n){"function"==typeof define&&define.amd?define(["jquery"],n):n(jQuery)})(function(n){function b(n){for(var t=n.css("visibility");"inherit"===t;)n=n.parent(),t=n.css("visibility");return"hidden"!==t}function k(n){for(var t,i;n.length&&n[0]!==document;){if(t=n.css("position"),("absolute"===t||"relative"===t||"fixed"===t)&&(i=parseInt(n.css("zIndex"),10),!isNaN(i)&&0!==i))return i;n=n.parent()}return 0}function c(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._datepickerShowing=!1;this._inDialog=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};n.extend(this._defaults,this.regional[""]);this.regional.en=n.extend(!0,{},this.regional[""]);this.regional["en-US"]=n.extend(!0,{},this.regional.en);this.dpDiv=l(n("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'><\/div>"))}function l(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.on("mouseout",i,function(){n(this).removeClass("ui-state-hover");-1!==this.className.indexOf("ui-datepicker-prev")&&n(this).removeClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&n(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",i,a)}function a(){n.datepicker._isDisabledDatepicker(i.inline?i.dpDiv.parent()[0]:i.input[0])||(n(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),n(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&n(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&n(this).addClass("ui-datepicker-next-hover"))}function u(t,i){n.extend(t,i);for(var r in i)null==i[r]&&(t[r]=i[r]);return t}function t(n){return function(){var t=this.element.val();n.apply(this,arguments);this._refresh();t!==this.element.val()&&this._trigger("change")}}var v,o,p,w,i,r,e;n.ui=n.ui||{};n.ui.version="1.12.1";v=0;o=Array.prototype.slice;n.cleanData=function(t){return function(i){for(var r,u,f=0;null!=(u=i[f]);f++)try{r=n._data(u,"events");r&&r.remove&&n(u).triggerHandler("remove")}catch(e){}t(i)}}(n.cleanData);n.widget=function(t,i,r){var f,u,o,h={},e=t.split(".")[0],s;return t=t.split(".")[1],s=e+"-"+t,r||(r=i,i=n.Widget),n.isArray(r)&&(r=n.extend.apply(null,[{}].concat(r))),n.expr[":"][s.toLowerCase()]=function(t){return!!n.data(t,s)},n[e]=n[e]||{},f=n[e][t],u=n[e][t]=function(n,t){return this._createWidget?(arguments.length&&this._createWidget(n,t),void 0):new u(n,t)},n.extend(u,f,{version:r.version,_proto:n.extend({},r),_childConstructors:[]}),o=new i,o.options=n.widget.extend({},o.options),n.each(r,function(t,r){return n.isFunction(r)?(h[t]=function(){function n(){return i.prototype[t].apply(this,arguments)}function u(n){return i.prototype[t].apply(this,n)}return function(){var t,i=this._super,f=this._superApply;return this._super=n,this._superApply=u,t=r.apply(this,arguments),this._super=i,this._superApply=f,t}}(),void 0):(h[t]=r,void 0)}),u.prototype=n.widget.extend(o,{widgetEventPrefix:f?o.widgetEventPrefix||t:t},h,{constructor:u,namespace:e,widgetName:t,widgetFullName:s}),f?(n.each(f._childConstructors,function(t,i){var r=i.prototype;n.widget(r.namespace+"."+r.widgetName,u,i._proto)}),delete f._childConstructors):i._childConstructors.push(u),n.widget.bridge(t,u),u};n.widget.extend=function(t){for(var i,r,f=o.call(arguments,1),u=0,e=f.length;e>u;u++)for(i in f[u])r=f[u][i],f[u].hasOwnProperty(i)&&void 0!==r&&(t[i]=n.isPlainObject(r)?n.isPlainObject(t[i])?n.widget.extend({},t[i],r):n.widget.extend({},r):r);return t};n.widget.bridge=function(t,i){var r=i.prototype.widgetFullName||t;n.fn[t]=function(u){var s="string"==typeof u,e=o.call(arguments,1),f=this;return s?this.length||"instance"!==u?this.each(function(){var i,o=n.data(this,r);return"instance"===u?(f=o,!1):o?n.isFunction(o[u])&&"_"!==u.charAt(0)?(i=o[u].apply(o,e),i!==o&&void 0!==i?(f=i&&i.jquery?f.pushStack(i.get()):i,!1):void 0):n.error("no such method '"+u+"' for "+t+" widget instance"):n.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+u+"'")}):f=void 0:(e.length&&(u=n.widget.extend.apply(null,[u].concat(e))),this.each(function(){var t=n.data(this,r);t?(t.option(u||{}),t._init&&t._init()):n.data(this,r,new i(u,this))})),f}};n.Widget=function(){};n.Widget._childConstructors=[];n.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,i){i=n(i||this.defaultElement||this)[0];this.element=n(i);this.uuid=v++;this.eventNamespace="."+this.widgetName+this.uuid;this.bindings=n();this.hoverable=n();this.focusable=n();this.classesElementLookup={};i!==this&&(n.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(n){n.target===i&&this.destroy()}}),this.document=n(i.style?i.ownerDocument:i.document||i),this.window=n(this.document[0].defaultView||this.document[0].parentWindow));this.options=n.widget.extend({},this.options,this._getCreateOptions(),t);this._create();this.options.disabled&&this._setOptionDisabled(this.options.disabled);this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:n.noop,_create:n.noop,_init:n.noop,destroy:function(){var t=this;this._destroy();n.each(this.classesElementLookup,function(n,i){t._removeClass(i,n)});this.element.off(this.eventNamespace).removeData(this.widgetFullName);this.widget().off(this.eventNamespace).removeAttr("aria-disabled");this.bindings.off(this.eventNamespace)},_destroy:n.noop,widget:function(){return this.element},option:function(t,i){var r,u,f,e=t;if(0===arguments.length)return n.widget.extend({},this.options);if("string"==typeof t)if(e={},r=t.split("."),t=r.shift(),r.length){for(u=e[t]=n.widget.extend({},this.options[t]),f=0;r.length-1>f;f++)u[r[f]]=u[r[f]]||{},u=u[r[f]];if(t=r.pop(),1===arguments.length)return void 0===u[t]?null:u[t];u[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];e[t]=i}return this._setOptions(e),this},_setOptions:function(n){for(var t in n)this._setOption(t,n[t]);return this},_setOption:function(n,t){return"classes"===n&&this._setOptionClasses(t),this.options[n]=t,"disabled"===n&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var i,u,r;for(i in t)r=this.classesElementLookup[i],t[i]!==this.options.classes[i]&&r&&r.length&&(u=n(r.get()),this._removeClass(r,i),u.addClass(this._classes({element:u,keys:i,classes:t,add:!0})))},_setOptionDisabled:function(n){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!n);n&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){function r(r,f){for(var o,e=0;r.length>e;e++)o=u.classesElementLookup[r[e]]||n(),o=t.add?n(n.unique(o.get().concat(t.element.get()))):n(o.not(t.element).get()),u.classesElementLookup[r[e]]=o,i.push(r[e]),f&&t.classes[r[e]]&&i.push(t.classes[r[e]])}var i=[],u=this;return t=n.extend({element:this.element,classes:this.options.classes||{}},t),this._on(t.element,{remove:"_untrackClassesElement"}),t.keys&&r(t.keys.match(/\S+/g)||[],!0),t.extra&&r(t.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(t){var i=this;n.each(i.classesElementLookup,function(r,u){-1!==n.inArray(t.target,u)&&(i.classesElementLookup[r]=n(u.not(t.target).get()))})},_removeClass:function(n,t,i){return this._toggleClass(n,t,i,!1)},_addClass:function(n,t,i){return this._toggleClass(n,t,i,!0)},_toggleClass:function(n,t,i,r){r="boolean"==typeof r?r:i;var u="string"==typeof n||null===n,f={extra:u?t:i,keys:u?n:t,element:u?this.element:n,add:r};return f.element.toggleClass(this._classes(f),r),this},_on:function(t,i,r){var f,u=this;"boolean"!=typeof t&&(r=i,i=t,t=!1);r?(i=f=n(i),this.bindings=this.bindings.add(i)):(r=i,i=this.element,f=this.widget());n.each(r,function(r,e){function o(){if(t||u.options.disabled!==!0&&!n(this).hasClass("ui-state-disabled"))return("string"==typeof e?u[e]:e).apply(u,arguments)}"string"!=typeof e&&(o.guid=e.guid=e.guid||o.guid||n.guid++);var s=r.match(/^([\w:-]*)\s*(.*)$/),h=s[1]+u.eventNamespace,c=s[2];c?f.on(h,c,o):i.on(h,o)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;t.off(i).off(i);this.bindings=n(this.bindings.not(t).get());this.focusable=n(this.focusable.not(t).get());this.hoverable=n(this.hoverable.not(t).get())},_delay:function(n,t){function r(){return("string"==typeof n?i[n]:n).apply(i,arguments)}var i=this;return setTimeout(r,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t);this._on(t,{mouseenter:function(t){this._addClass(n(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(n(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t);this._on(t,{focusin:function(t){this._addClass(n(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(n(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,i,r){var u,f,e=this.options[t];if(r=r||{},i=n.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],f=i.originalEvent)for(u in f)u in i||(i[u]=f[u]);return this.element.trigger(i,r),!(n.isFunction(e)&&e.apply(this.element[0],[i].concat(r))===!1||i.isDefaultPrevented())}};n.each({show:"fadeIn",hide:"fadeOut"},function(t,i){n.Widget.prototype["_"+t]=function(r,u,f){"string"==typeof u&&(u={effect:u});var o,e=u?u===!0||"number"==typeof u?i:u.effect||i:t;u=u||{};"number"==typeof u&&(u={duration:u});o=!n.isEmptyObject(u);u.complete=f;u.delay&&r.delay(u.delay);o&&n.effects&&n.effects.effect[e]?r[t](u):e!==t&&r[e]?r[e](u.duration,u.easing,f):r.queue(function(i){n(this)[t]();f&&f.call(r[0]);i()})}});n.widget,function(){function f(n,t,i){return[parseFloat(n[0])*(c.test(n[0])?t/100:1),parseFloat(n[1])*(c.test(n[1])?i/100:1)]}function i(t,i){return parseInt(n.css(t,i),10)||0}function l(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:n.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}var u,r=Math.max,t=Math.abs,e=/left|center|right/,o=/top|center|bottom/,s=/[\+\-]\d+(\.[\d]+)?%?/,h=/^\w+/,c=/%$/,a=n.fn.position;n.position={scrollbarWidth:function(){if(void 0!==u)return u;var r,i,t=n("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'><\/div><\/div>"),f=t.children()[0];return n("body").append(t),r=f.offsetWidth,t.css("overflow","scroll"),i=f.offsetWidth,r===i&&(i=t[0].clientWidth),t.remove(),u=r-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),r=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),u="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,f="scroll"===r||"auto"===r&&t.height<t.element[0].scrollHeight;return{width:f?n.position.scrollbarWidth():0,height:u?n.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=n(t||window),r=n.isWindow(i[0]),u=!!i[0]&&9===i[0].nodeType,f=!r&&!u;return{element:i,isWindow:r,isDocument:u,offset:f?n(t).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}};n.fn.position=function(u){if(!u||!u.of)return a.apply(this,arguments);u=n.extend({},u);var w,c,v,p,y,k,d=n(u.of),nt=n.position.getWithinInfo(u.within),tt=n.position.getScrollInfo(nt),b=(u.collision||"flip").split(" "),g={};return k=l(d),d[0].preventDefault&&(u.at="left top"),c=k.width,v=k.height,p=k.offset,y=n.extend({},p),n.each(["my","at"],function(){var t,i,n=(u[this]||"").split(" ");1===n.length&&(n=e.test(n[0])?n.concat(["center"]):o.test(n[0])?["center"].concat(n):["center","center"]);n[0]=e.test(n[0])?n[0]:"center";n[1]=o.test(n[1])?n[1]:"center";t=s.exec(n[0]);i=s.exec(n[1]);g[this]=[t?t[0]:0,i?i[0]:0];u[this]=[h.exec(n[0])[0],h.exec(n[1])[0]]}),1===b.length&&(b[1]=b[0]),"right"===u.at[0]?y.left+=c:"center"===u.at[0]&&(y.left+=c/2),"bottom"===u.at[1]?y.top+=v:"center"===u.at[1]&&(y.top+=v/2),w=f(g.at,c,v),y.left+=w[0],y.top+=w[1],this.each(function(){var a,k,o=n(this),s=o.outerWidth(),h=o.outerHeight(),it=i(this,"marginLeft"),rt=i(this,"marginTop"),ut=s+it+i(this,"marginRight")+tt.width,ft=h+rt+i(this,"marginBottom")+tt.height,e=n.extend({},y),l=f(g.my,o.outerWidth(),o.outerHeight());"right"===u.my[0]?e.left-=s:"center"===u.my[0]&&(e.left-=s/2);"bottom"===u.my[1]?e.top-=h:"center"===u.my[1]&&(e.top-=h/2);e.left+=l[0];e.top+=l[1];a={marginLeft:it,marginTop:rt};n.each(["left","top"],function(t,i){n.ui.position[b[t]]&&n.ui.position[b[t]][i](e,{targetWidth:c,targetHeight:v,elemWidth:s,elemHeight:h,collisionPosition:a,collisionWidth:ut,collisionHeight:ft,offset:[w[0]+l[0],w[1]+l[1]],my:u.my,at:u.at,within:nt,elem:o})});u.using&&(k=function(n){var i=p.left-e.left,a=i+c-s,f=p.top-e.top,y=f+v-h,l={target:{element:d,left:p.left,top:p.top,width:c,height:v},element:{element:o,left:e.left,top:e.top,width:s,height:h},horizontal:0>a?"left":i>0?"right":"center",vertical:0>y?"top":f>0?"bottom":"middle"};s>c&&c>t(i+a)&&(l.horizontal="center");h>v&&v>t(f+y)&&(l.vertical="middle");l.important=r(t(i),t(a))>r(t(f),t(y))?"horizontal":"vertical";u.using.call(this,n,l)});o.offset(n.extend(e,{using:k}))})};n.ui.position={fit:{left:function(n,t){var h,e=t.within,u=e.isWindow?e.scrollLeft:e.offset.left,o=e.width,s=n.left-t.collisionPosition.marginLeft,i=u-s,f=s+t.collisionWidth-o-u;t.collisionWidth>o?i>0&&0>=f?(h=n.left+i+t.collisionWidth-o-u,n.left+=i-h):n.left=f>0&&0>=i?u:i>f?u+o-t.collisionWidth:u:i>0?n.left+=i:f>0?n.left-=f:n.left=r(n.left-s,n.left)},top:function(n,t){var h,o=t.within,u=o.isWindow?o.scrollTop:o.offset.top,e=t.within.height,s=n.top-t.collisionPosition.marginTop,i=u-s,f=s+t.collisionHeight-e-u;t.collisionHeight>e?i>0&&0>=f?(h=n.top+i+t.collisionHeight-e-u,n.top+=i-h):n.top=f>0&&0>=i?u:i>f?u+e-t.collisionHeight:u:i>0?n.top+=i:f>0?n.top-=f:n.top=r(n.top-s,n.top)}},flip:{left:function(n,i){var o,s,r=i.within,y=r.offset.left+r.scrollLeft,c=r.width,h=r.isWindow?r.scrollLeft:r.offset.left,l=n.left-i.collisionPosition.marginLeft,a=l-h,v=l+i.collisionWidth-c-h,u="left"===i.my[0]?-i.elemWidth:"right"===i.my[0]?i.elemWidth:0,f="left"===i.at[0]?i.targetWidth:"right"===i.at[0]?-i.targetWidth:0,e=-2*i.offset[0];0>a?(o=n.left+u+f+e+i.collisionWidth-c-y,(0>o||t(a)>o)&&(n.left+=u+f+e)):v>0&&(s=n.left-i.collisionPosition.marginLeft+u+f+e-h,(s>0||v>t(s))&&(n.left+=u+f+e))},top:function(n,i){var o,s,r=i.within,y=r.offset.top+r.scrollTop,c=r.height,h=r.isWindow?r.scrollTop:r.offset.top,l=n.top-i.collisionPosition.marginTop,a=l-h,v=l+i.collisionHeight-c-h,p="top"===i.my[1],u=p?-i.elemHeight:"bottom"===i.my[1]?i.elemHeight:0,f="top"===i.at[1]?i.targetHeight:"bottom"===i.at[1]?-i.targetHeight:0,e=-2*i.offset[1];0>a?(s=n.top+u+f+e+i.collisionHeight-c-y,(0>s||t(a)>s)&&(n.top+=u+f+e)):v>0&&(o=n.top-i.collisionPosition.marginTop+u+f+e-h,(o>0||v>t(o))&&(n.top+=u+f+e))}},flipfit:{left:function(){n.ui.position.flip.left.apply(this,arguments);n.ui.position.fit.left.apply(this,arguments)},top:function(){n.ui.position.flip.top.apply(this,arguments);n.ui.position.fit.top.apply(this,arguments)}}}}();n.ui.position;n.extend(n.expr[":"],{data:n.expr.createPseudo?n.expr.createPseudo(function(t){return function(i){return!!n.data(i,t)}}):function(t,i,r){return!!n.data(t,r[3])}});n.fn.extend({disableSelection:function(){var n="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(n+".ui-disableSelection",function(n){n.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}});var f="ui-effects-",s="ui-effects-style",h="ui-effects-animated",y=n;n.effects={effect:{}},function(n,t){function f(n,t,i){var r=h[t.type]||{};return null==n?i||!t.def?null:t.def:(n=r.floor?~~n:parseFloat(n),isNaN(n)?t.def:r.mod?(n+r.mod)%r.mod:0>n?0:n>r.max?r.max:n)}function s(f){var o=i(),s=o._rgba=[];return f=f.toLowerCase(),r(v,function(n,i){var r,h=i.re.exec(f),c=h&&i.parse(h),e=i.space||"rgba";return c?(r=o[e](c),o[u[e].cache]=r[u[e].cache],s=o._rgba=r._rgba,!1):t}),s.length?("0,0,0,0"===s.join()&&n.extend(s,e.transparent),o):e[f]}function o(n,t,i){return i=(i+1)%1,1>6*i?n+6*(t-n)*i:1>2*i?t:2>3*i?n+6*(t-n)*(2/3-i):n}var e,a=/^([\-+])=\s*(\d+\.?\d*)/,v=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(n){return[n[1],n[2],n[3],n[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(n){return[2.55*n[1],2.55*n[2],2.55*n[3],n[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(n){return[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(n){return[parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(n){return[n[1],n[2]/100,n[3]/100,n[4]]}}],i=n.Color=function(t,i,r,u){return new n.Color.fn.parse(t,i,r,u)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},c=i.support={},l=n("<p>")[0],r=n.each;l.style.cssText="background-color:rgba(1,1,1,.5)";c.rgba=l.style.backgroundColor.indexOf("rgba")>-1;r(u,function(n,t){t.cache="_"+n;t.props.alpha={idx:3,type:"percent",def:1}});i.fn=n.extend(i.prototype,{parse:function(o,h,c,l){if(o===t)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=n(o).css(h),h=t);var a=this,v=n.type(o),y=this._rgba=[];return h!==t&&(o=[o,h,c,l],v="array"),"string"===v?this.parse(s(o)||e._default):"array"===v?(r(u.rgba.props,function(n,t){y[t.idx]=f(o[t.idx],t)}),this):"object"===v?(o instanceof i?r(u,function(n,t){o[t.cache]&&(a[t.cache]=o[t.cache].slice())}):r(u,function(t,i){var u=i.cache;r(i.props,function(n,t){if(!a[u]&&i.to){if("alpha"===n||null==o[n])return;a[u]=i.to(a._rgba)}a[u][t.idx]=f(o[n],t,!0)});a[u]&&0>n.inArray(null,a[u].slice(0,3))&&(a[u][3]=1,i.from&&(a._rgba=i.from(a[u])))}),this):t},is:function(n){var o=i(n),f=!0,e=this;return r(u,function(n,i){var s,u=o[i.cache];return u&&(s=e[i.cache]||i.to&&i.to(e._rgba)||[],r(i.props,function(n,i){return null!=u[i.idx]?f=u[i.idx]===s[i.idx]:t})),f}),f},_space:function(){var n=[],t=this;return r(u,function(i,r){t[r.cache]&&n.push(i)}),n.pop()},transition:function(n,t){var e=i(n),c=e._space(),o=u[c],l=0===this.alpha()?i("transparent"):this,a=l[o.cache]||o.to(l._rgba),s=a.slice();return e=e[o.cache],r(o.props,function(n,i){var c=i.idx,r=a[c],u=e[c],o=h[i.type]||{};null!==u&&(null===r?s[c]=u:(o.mod&&(u-r>o.mod/2?r+=o.mod:r-u>o.mod/2&&(r-=o.mod)),s[c]=f((u-r)*t+r,i)))}),this[c](s)},blend:function(t){if(1===this._rgba[3])return this;var r=this._rgba.slice(),u=r.pop(),f=i(t)._rgba;return i(n.map(r,function(n,t){return(1-u)*f[t]+u*n}))},toRgbaString:function(){var i="rgba(",t=n.map(this._rgba,function(n,t){return null==n?t>2?1:0:n});return 1===t[3]&&(t.pop(),i="rgb("),i+t.join()+")"},toHslaString:function(){var i="hsla(",t=n.map(this.hsla(),function(n,t){return null==n&&(n=t>2?1:0),t&&3>t&&(n=Math.round(100*n)+"%"),n});return 1===t[3]&&(t.pop(),i="hsl("),i+t.join()+")"},toHexString:function(t){var i=this._rgba.slice(),r=i.pop();return t&&i.push(~~(255*r)),"#"+n.map(i,function(n){return n=(n||0).toString(16),1===n.length?"0"+n:n}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}});i.fn.parse.prototype=i.fn;u.hsla.to=function(n){if(null==n[0]||null==n[1]||null==n[2])return[null,null,null,n[3]];var s,h,i=n[0]/255,r=n[1]/255,f=n[2]/255,c=n[3],u=Math.max(i,r,f),e=Math.min(i,r,f),t=u-e,o=u+e,l=.5*o;return s=e===u?0:i===u?60*(r-f)/t+360:r===u?60*(f-i)/t+120:60*(i-r)/t+240,h=0===t?0:.5>=l?t/o:t/(2-o),[Math.round(s)%360,h,l,null==c?1:c]};u.hsla.from=function(n){if(null==n[0]||null==n[1]||null==n[2])return[null,null,null,n[3]];var r=n[0]/360,u=n[1],t=n[2],e=n[3],i=.5>=t?t*(1+u):t+u-t*u,f=2*t-i;return[Math.round(255*o(f,i,r+1/3)),Math.round(255*o(f,i,r)),Math.round(255*o(f,i,r-1/3)),e]};r(u,function(u,e){var s=e.props,o=e.cache,h=e.to,c=e.from;i.fn[u]=function(u){if(h&&!this[o]&&(this[o]=h(this._rgba)),u===t)return this[o].slice();var l,a=n.type(u),v="array"===a||"object"===a?u:arguments,e=this[o].slice();return r(s,function(n,t){var i=v["object"===a?n:t.idx];null==i&&(i=e[t.idx]);e[t.idx]=f(i,t)}),c?(l=i(c(e)),l[o]=e,l):i(e)};r(s,function(t,r){i.fn[t]||(i.fn[t]=function(i){var f,e=n.type(i),h="alpha"===t?this._hsla?"hsla":"rgba":u,o=this[h](),s=o[r.idx];return"undefined"===e?s:("function"===e&&(i=i.call(this,s),e=n.type(i)),null==i&&r.empty?this:("string"===e&&(f=a.exec(i),f&&(i=s+parseFloat(f[2])*("+"===f[1]?1:-1))),o[r.idx]=i,this[h](o)))})})});i.hook=function(t){var u=t.split(" ");r(u,function(t,r){n.cssHooks[r]={set:function(t,u){var o,f,e="";if("transparent"!==u&&("string"!==n.type(u)||(o=s(u)))){if(u=i(o||u),!c.rgba&&1!==u._rgba[3]){for(f="backgroundColor"===r?t.parentNode:t;(""===e||"transparent"===e)&&f&&f.style;)try{e=n.css(f,"backgroundColor");f=f.parentNode}catch(h){}u=u.blend(e&&"transparent"!==e?e:"_default")}u=u.toRgbaString()}try{t.style[r]=u}catch(h){}}};n.fx.step[r]=function(t){t.colorInit||(t.start=i(t.elem,r),t.end=i(t.end),t.colorInit=!0);n.cssHooks[r].set(t.elem,t.start.transition(t.end,t.pos))}})};i.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor");n.cssHooks.borderColor={expand:function(n){var t={};return r(["Top","Right","Bottom","Left"],function(i,r){t["border"+r+"Color"]=n}),t}};e=n.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(y),function(){function t(t){var r,u,i=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,f={};if(i&&i.length&&i[0]&&i[i[0]])for(u=i.length;u--;)r=i[u],"string"==typeof i[r]&&(f[n.camelCase(r)]=i[r]);else for(r in i)"string"==typeof i[r]&&(f[r]=i[r]);return f}function i(t,i){var r,f,e={};for(r in i)f=i[r],t[r]!==f&&(u[r]||(n.fx.step[r]||!isNaN(parseFloat(f)))&&(e[r]=f));return e}var r=["add","remove","toggle"],u={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};n.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){n.fx.step[i]=function(n){("none"===n.end||n.setAttr)&&(1!==n.pos||n.setAttr)||(y.style(n.elem,i,n.end),n.setAttr=!0)}});n.fn.addBack||(n.fn.addBack=function(n){return this.add(null==n?this.prevObject:this.prevObject.filter(n))});n.effects.animateClass=function(u,f,e,o){var s=n.speed(f,e,o);return this.queue(function(){var o,e=n(this),h=e.attr("class")||"",f=s.children?e.find("*").addBack():e;f=f.map(function(){var i=n(this);return{el:i,start:t(this)}});o=function(){n.each(r,function(n,t){u[t]&&e[t+"Class"](u[t])})};o();f=f.map(function(){return this.end=t(this.el[0]),this.diff=i(this.start,this.end),this});e.attr("class",h);f=f.map(function(){var i=this,t=n.Deferred(),r=n.extend({},s,{queue:!1,complete:function(){t.resolve(i)}});return this.el.animate(this.diff,r),t.promise()});n.when.apply(n,f.get()).done(function(){o();n.each(arguments,function(){var t=this.el;n.each(this.diff,function(n){t.css(n,"")})});s.complete.call(e[0])})})};n.fn.extend({addClass:function(t){return function(i,r,u,f){return r?n.effects.animateClass.call(this,{add:i},r,u,f):t.apply(this,arguments)}}(n.fn.addClass),removeClass:function(t){return function(i,r,u,f){return arguments.length>1?n.effects.animateClass.call(this,{remove:i},r,u,f):t.apply(this,arguments)}}(n.fn.removeClass),toggleClass:function(t){return function(i,r,u,f,e){return"boolean"==typeof r||void 0===r?u?n.effects.animateClass.call(this,r?{add:i}:{remove:i},u,f,e):t.apply(this,arguments):n.effects.animateClass.call(this,{toggle:i},r,u,f)}}(n.fn.toggleClass),switchClass:function(t,i,r,u,f){return n.effects.animateClass.call(this,{add:i,remove:t},r,u,f)}})}(),function(){function t(t,i,r,u){return n.isPlainObject(t)&&(i=t,t=t.effect),t={effect:t},null==i&&(i={}),n.isFunction(i)&&(u=i,r=null,i={}),("number"==typeof i||n.fx.speeds[i])&&(u=r,r=i,i={}),n.isFunction(r)&&(u=r,r=null),i&&n.extend(t,i),r=r||i.duration,t.duration=n.fx.off?0:"number"==typeof r?r:r in n.fx.speeds?n.fx.speeds[r]:n.fx.speeds._default,t.complete=u||i.complete,t}function i(t){return!t||"number"==typeof t||n.fx.speeds[t]?!0:"string"!=typeof t||n.effects.effect[t]?n.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0}function r(n,t){var r=t.outerWidth(),u=t.outerHeight(),i=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(n)||["",0,r,u,0];return{top:parseFloat(i[1])||0,right:"auto"===i[2]?r:parseFloat(i[2]),bottom:"auto"===i[3]?u:parseFloat(i[3]),left:parseFloat(i[4])||0}}n.expr&&n.expr.filters&&n.expr.filters.animated&&(n.expr.filters.animated=function(t){return function(i){return!!n(i).data(h)||t(i)}}(n.expr.filters.animated));n.uiBackCompat!==!1&&n.extend(n.effects,{save:function(n,t){for(var i=0,r=t.length;r>i;i++)null!==t[i]&&n.data(f+t[i],n[0].style[t[i]])},restore:function(n,t){for(var r,i=0,u=t.length;u>i;i++)null!==t[i]&&(r=n.data(f+t[i]),n.css(t[i],r))},setMode:function(n,t){return"toggle"===t&&(t=n.is(":hidden")?"show":"hide"),t},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},u=n("<div><\/div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),f={width:t.width(),height:t.height()},r=document.activeElement;try{r.id}catch(e){r=document.body}return t.wrap(u),(t[0]===r||n.contains(t[0],r))&&n(r).trigger("focus"),u=t.parent(),"static"===t.css("position")?(u.css({position:"relative"}),t.css({position:"relative"})):(n.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),n.each(["top","left","bottom","right"],function(n,r){i[r]=t.css(r);isNaN(parseInt(i[r],10))&&(i[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(f),u.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||n.contains(t[0],i))&&n(i).trigger("focus")),t}});n.extend(n.effects,{version:"1.12.1",define:function(t,i,r){return r||(r=i,i="effect"),n.effects.effect[t]=r,n.effects.effect[t].mode=i,r},scaledDimensions:function(n,t,i){if(0===t)return{height:0,width:0,outerHeight:0,outerWidth:0};var r="horizontal"!==i?(t||100)/100:1,u="vertical"!==i?(t||100)/100:1;return{height:n.height()*u,width:n.width()*r,outerHeight:n.outerHeight()*u,outerWidth:n.outerWidth()*r}},clipToBox:function(n){return{width:n.clip.right-n.clip.left,height:n.clip.bottom-n.clip.top,left:n.clip.left,top:n.clip.top}},unshift:function(n,t,i){var r=n.queue();t>1&&r.splice.apply(r,[1,0].concat(r.splice(t,i)));n.dequeue()},saveStyle:function(n){n.data(s,n[0].style.cssText)},restoreStyle:function(n){n[0].style.cssText=n.data(s)||"";n.removeData(s)},mode:function(n,t){var i=n.is(":hidden");return"toggle"===t&&(t=i?"show":"hide"),(i?"hide"===t:"show"===t)&&(t="none"),t},getBaseline:function(n,t){var i,r;switch(n[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=n[0]/t.height}switch(n[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=n[1]/t.width}return{x:r,y:i}},createPlaceholder:function(t){var i,r=t.css("position"),u=t.position();return t.css({marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()),/^(static|relative)/.test(r)&&(r="absolute",i=n("<"+t[0].nodeName+">").insertAfter(t).css({display:/^(inline|ruby)/.test(t.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:t.css("marginTop"),marginBottom:t.css("marginBottom"),marginLeft:t.css("marginLeft"),marginRight:t.css("marginRight"),float:t.css("float")}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).addClass("ui-effects-placeholder"),t.data(f+"placeholder",i)),t.css({position:r,left:u.left,top:u.top}),i},removePlaceholder:function(n){var t=f+"placeholder",i=n.data(t);i&&(i.remove(),n.removeData(t))},cleanUp:function(t){n.effects.restoreStyle(t);n.effects.removePlaceholder(t)},setTransition:function(t,i,r,u){return u=u||{},n.each(i,function(n,i){var f=t.cssUnit(i);f[0]>0&&(u[i]=f[0]*r+f[1])}),u}});n.fn.extend({effect:function(){function o(t){function c(){o.removeData(h);n.effects.cleanUp(o);"hide"===i.mode&&o.hide();s()}function s(){n.isFunction(f)&&f.call(o[0]);n.isFunction(t)&&t()}var o=n(this);i.mode=l.shift();n.uiBackCompat===!1||u?"none"===i.mode?(o[r](),s()):e.call(o[0],i,c):(o.is(":hidden")?"hide"===r:"show"===r)?(o[r](),s()):e.call(o[0],i,s)}var i=t.apply(this,arguments),e=n.effects.effect[i.effect],u=e.mode,s=i.queue,c=s||"fx",f=i.complete,r=i.mode,l=[],a=function(t){var f=n(this),i=n.effects.mode(f,r)||u;f.data(h,!0);l.push(i);u&&("show"===i||i===u&&"hide"===i)&&f.show();u&&"none"===i||n.effects.saveStyle(f);n.isFunction(t)&&t()};return n.fx.off||!e?r?this[r](i.duration,f):this.each(function(){f&&f.call(this)}):s===!1?this.each(a).each(o):this.queue(c,a).queue(c,o)},show:function(n){return function(r){if(i(r))return n.apply(this,arguments);var u=t.apply(this,arguments);return u.mode="show",this.effect.call(this,u)}}(n.fn.show),hide:function(n){return function(r){if(i(r))return n.apply(this,arguments);var u=t.apply(this,arguments);return u.mode="hide",this.effect.call(this,u)}}(n.fn.hide),toggle:function(n){return function(r){if(i(r)||"boolean"==typeof r)return n.apply(this,arguments);var u=t.apply(this,arguments);return u.mode="toggle",this.effect.call(this,u)}}(n.fn.toggle),cssUnit:function(t){var i=this.css(t),r=[];return n.each(["em","px","%","pt"],function(n,t){i.indexOf(t)>0&&(r=[parseFloat(i),t])}),r},cssClip:function(n){return n?this.css("clip","rect("+n.top+"px "+n.right+"px "+n.bottom+"px "+n.left+"px)"):r(this.css("clip"),this)},transfer:function(t,i){var u=n(this),r=n(t.to),f="fixed"===r.css("position"),e=n("body"),o=f?e.scrollTop():0,s=f?e.scrollLeft():0,h=r.offset(),l={top:h.top-o,left:h.left-s,height:r.innerHeight(),width:r.innerWidth()},c=u.offset(),a=n("<div class='ui-effects-transfer'><\/div>").appendTo("body").addClass(t.className).css({top:c.top-o,left:c.left-s,height:u.innerHeight(),width:u.innerWidth(),position:f?"fixed":"absolute"}).animate(l,t.duration,t.easing,function(){a.remove();n.isFunction(i)&&i()})}});n.fx.step.clip=function(t){t.clipInit||(t.start=n(t.elem).cssClip(),"string"==typeof t.end&&(t.end=r(t.end,t.elem)),t.clipInit=!0);n(t.elem).cssClip({top:t.pos*(t.end.top-t.start.top)+t.start.top,right:t.pos*(t.end.right-t.start.right)+t.start.right,bottom:t.pos*(t.end.bottom-t.start.bottom)+t.start.bottom,left:t.pos*(t.end.left-t.start.left)+t.start.left})}}(),function(){var t={};n.each(["Quad","Cubic","Quart","Quint","Expo"],function(n,i){t[i]=function(t){return Math.pow(t,n+2)}});n.extend(t,{Sine:function(n){return 1-Math.cos(n*Math.PI/2)},Circ:function(n){return 1-Math.sqrt(1-n*n)},Elastic:function(n){return 0===n||1===n?n:-Math.pow(2,8*(n-1))*Math.sin((80*(n-1)-7.5)*Math.PI/15)},Back:function(n){return n*n*(3*n-2)},Bounce:function(n){for(var t,i=4;((t=Math.pow(2,--i))-1)/11>n;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-n,2)}});n.each(t,function(t,i){n.easing["easeIn"+t]=i;n.easing["easeOut"+t]=function(n){return 1-i(1-n)};n.easing["easeInOut"+t]=function(n){return.5>n?i(2*n)/2:1-i(-2*n+2)/2}})}();p=n.effects;n.effects.define("blind","hide",function(t,i){var e={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},u=n(this),o=t.direction||"up",s=u.cssClip(),r={clip:n.extend({},s)},f=n.effects.createPlaceholder(u);r.clip[e[o][0]]=r.clip[e[o][1]];"show"===t.mode&&(u.cssClip(r.clip),f&&f.css(n.effects.clipToBox(r)),r.clip=s);f&&f.animate(n.effects.clipToBox(r),t.duration,t.easing);u.animate(r,{queue:!1,duration:t.duration,easing:t.easing,complete:i})});n.effects.define("bounce",function(t,i){var e,o,a,u=n(this),p=t.mode,s="hide"===p,w="show"===p,h=t.direction||"up",r=t.distance,v=t.times||5,b=2*v+(w||s?1:0),c=t.duration/b,l=t.easing,f="up"===h||"down"===h?"top":"left",y="up"===h||"left"===h,k=0,d=u.queue().length;for(n.effects.createPlaceholder(u),a=u.css(f),r||(r=u["top"===f?"outerHeight":"outerWidth"]()/3),w&&(o={opacity:1},o[f]=a,u.css("opacity",0).css(f,y?2*-r:2*r).animate(o,c,l)),s&&(r/=Math.pow(2,v-1)),o={},o[f]=a;v>k;k++)e={},e[f]=(y?"-=":"+=")+r,u.animate(e,c,l).animate(o,c,l),r=s?2*r:r/2;s&&(e={opacity:0},e[f]=(y?"-=":"+=")+r,u.animate(e,c,l));u.queue(i);n.effects.unshift(u,d,b+1)});n.effects.define("clip","hide",function(t,i){var r,u={},f=n(this),e=t.direction||"vertical",o="both"===e,s=o||"horizontal"===e,h=o||"vertical"===e;r=f.cssClip();u.clip={top:h?(r.bottom-r.top)/2:r.top,right:s?(r.right-r.left)/2:r.right,bottom:h?(r.bottom-r.top)/2:r.bottom,left:s?(r.right-r.left)/2:r.left};n.effects.createPlaceholder(f);"show"===t.mode&&(f.cssClip(u.clip),u.clip=r);f.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:i})});n.effects.define("drop","hide",function(t,i){var e,u=n(this),h=t.mode,c="show"===h,f=t.direction||"left",o="up"===f||"down"===f?"top":"left",s="up"===f||"left"===f?"-=":"+=",l="+="===s?"-=":"+=",r={opacity:0};n.effects.createPlaceholder(u);e=t.distance||u["top"===o?"outerHeight":"outerWidth"](!0)/2;r[o]=s+e;c&&(u.css(r),r[o]=l+e,r.opacity=1);u.animate(r,{queue:!1,duration:t.duration,easing:t.easing,complete:i})});n.effects.define("explode","hide",function(t,i){function b(){p.push(this);p.length===e*c&&k()}function k(){o.css({visibility:"visible"});n(p).remove();i()}for(var u,l,a,v,y,e=t.pieces?Math.round(Math.sqrt(t.pieces)):3,c=e,o=n(this),d=t.mode,f="show"===d,w=o.show().css("visibility","hidden").offset(),s=Math.ceil(o.outerWidth()/c),h=Math.ceil(o.outerHeight()/e),p=[],r=0;e>r;r++)for(a=w.top+r*h,y=r-(e-1)/2,u=0;c>u;u++)l=w.left+u*s,v=u-(c-1)/2,o.clone().appendTo("body").wrap("<div><\/div>").css({position:"absolute",visibility:"visible",left:-u*s,top:-r*h}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:s,height:h,left:l+(f?v*s:0),top:a+(f?y*h:0),opacity:f?0:1}).animate({left:l+(f?0:v*s),top:a+(f?0:y*h),opacity:f?1:0},t.duration||500,t.easing,b)});n.effects.define("fade","toggle",function(t,i){var r="show"===t.mode;n(this).css("opacity",r?0:1).animate({opacity:r?1:0},{queue:!1,duration:t.duration,easing:t.easing,complete:i})});n.effects.define("fold","hide",function(t,i){var u=n(this),l=t.mode,v="show"===l,y="hide"===l,o=t.size||15,a=/([0-9]+)%/.exec(o),p=!!t.horizFirst,f=p?["right","bottom"]:["bottom","right"],s=t.duration/2,h=n.effects.createPlaceholder(u),e=u.cssClip(),c={clip:n.extend({},e)},r={clip:n.extend({},e)},w=[e[f[0]],e[f[1]]],b=u.queue().length;a&&(o=parseInt(a[1],10)/100*w[y?0:1]);c.clip[f[0]]=o;r.clip[f[0]]=o;r.clip[f[1]]=0;v&&(u.cssClip(r.clip),h&&h.css(n.effects.clipToBox(r)),r.clip=e);u.queue(function(i){h&&h.animate(n.effects.clipToBox(c),s,t.easing).animate(n.effects.clipToBox(r),s,t.easing);i()}).animate(c,s,t.easing).animate(r,s,t.easing).queue(i);n.effects.unshift(u,b,4)});n.effects.define("highlight","show",function(t,i){var r=n(this),u={backgroundColor:r.css("backgroundColor")};"hide"===t.mode&&(u.opacity=0);n.effects.saveStyle(r);r.css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:i})});n.effects.define("size",function(t,i){var l,r,p,u=n(this),v=["fontSize"],s=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],w=t.mode,y="effect"!==w,c=t.scale||"both",b=t.origin||["middle","center"],k=u.css("position"),a=u.position(),o=n.effects.scaledDimensions(u),f=t.from||o,e=t.to||n.effects.scaledDimensions(u,0);n.effects.createPlaceholder(u);"show"===w&&(p=f,f=e,e=p);r={from:{y:f.height/o.height,x:f.width/o.width},to:{y:e.height/o.height,x:e.width/o.width}};("box"===c||"both"===c)&&(r.from.y!==r.to.y&&(f=n.effects.setTransition(u,s,r.from.y,f),e=n.effects.setTransition(u,s,r.to.y,e)),r.from.x!==r.to.x&&(f=n.effects.setTransition(u,h,r.from.x,f),e=n.effects.setTransition(u,h,r.to.x,e)));("content"===c||"both"===c)&&r.from.y!==r.to.y&&(f=n.effects.setTransition(u,v,r.from.y,f),e=n.effects.setTransition(u,v,r.to.y,e));b&&(l=n.effects.getBaseline(b,o),f.top=(o.outerHeight-f.outerHeight)*l.y+a.top,f.left=(o.outerWidth-f.outerWidth)*l.x+a.left,e.top=(o.outerHeight-e.outerHeight)*l.y+a.top,e.left=(o.outerWidth-e.outerWidth)*l.x+a.left);u.css(f);("content"===c||"both"===c)&&(s=s.concat(["marginTop","marginBottom"]).concat(v),h=h.concat(["marginLeft","marginRight"]),u.find("*[width]").each(function(){var i=n(this),u=n.effects.scaledDimensions(i),f={height:u.height*r.from.y,width:u.width*r.from.x,outerHeight:u.outerHeight*r.from.y,outerWidth:u.outerWidth*r.from.x},e={height:u.height*r.to.y,width:u.width*r.to.x,outerHeight:u.height*r.to.y,outerWidth:u.width*r.to.x};r.from.y!==r.to.y&&(f=n.effects.setTransition(i,s,r.from.y,f),e=n.effects.setTransition(i,s,r.to.y,e));r.from.x!==r.to.x&&(f=n.effects.setTransition(i,h,r.from.x,f),e=n.effects.setTransition(i,h,r.to.x,e));y&&n.effects.saveStyle(i);i.css(f);i.animate(e,t.duration,t.easing,function(){y&&n.effects.restoreStyle(i)})}));u.animate(e,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){var t=u.offset();0===e.opacity&&u.css("opacity",f.opacity);y||(u.css("position","static"===k?"relative":k).offset(t),n.effects.saveStyle(u));i()}})});n.effects.define("scale",function(t,i){var u=n(this),f=t.mode,e=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"effect"!==f?0:100),r=n.extend(!0,{from:n.effects.scaledDimensions(u),to:n.effects.scaledDimensions(u,e,t.direction||"both"),origin:t.origin||["middle","center"]},t);t.fade&&(r.from.opacity=1,r.to.opacity=0);n.effects.effect.size.call(this,r,i)});n.effects.define("puff","hide",function(t,i){var r=n.extend(!0,{},t,{fade:!0,percent:parseInt(t.percent,10)||150});n.effects.effect.scale.call(this,r,i)});n.effects.define("pulsate","show",function(t,i){var r=n(this),e=t.mode,o="show"===e,c="hide"===e,l=o||c,f=2*(t.times||5)+(l?1:0),s=t.duration/f,u=0,h=1,a=r.queue().length;for((o||!r.is(":visible"))&&(r.css("opacity",0).show(),u=1);f>h;h++)r.animate({opacity:u},s,t.easing),u=1-u;r.animate({opacity:u},s,t.easing);r.queue(i);n.effects.unshift(r,a,f+1)});n.effects.define("shake",function(t,i){var l=1,r=n(this),f=t.direction||"left",e=t.distance||20,a=t.times||3,v=2*a+1,u=Math.round(t.duration/v),o="up"===f||"down"===f?"top":"left",s="up"===f||"left"===f,h={},c={},y={},p=r.queue().length;for(n.effects.createPlaceholder(r),h[o]=(s?"-=":"+=")+e,c[o]=(s?"+=":"-=")+2*e,y[o]=(s?"-=":"+=")+2*e,r.animate(h,u,t.easing);a>l;l++)r.animate(c,u,t.easing).animate(y,u,t.easing);r.animate(c,u,t.easing).animate(h,u/2,t.easing).queue(i);n.effects.unshift(r,p,v+1)});n.effects.define("slide","show",function(t,i){var s,o,u=n(this),h={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},c=t.mode,f=t.direction||"left",e="up"===f||"down"===f?"top":"left",l="up"===f||"left"===f,a=t.distance||u["top"===e?"outerHeight":"outerWidth"](!0),r={};n.effects.createPlaceholder(u);s=u.cssClip();o=u.position()[e];r[e]=(l?-1:1)*a+o;r.clip=u.cssClip();r.clip[h[f][1]]=r.clip[h[f][0]];"show"===c&&(u.cssClip(r.clip),u.css(e,r[e]),r.clip=s,r[e]=o);u.animate(r,{queue:!1,duration:t.duration,easing:t.easing,complete:i})});n.uiBackCompat!==!1&&(p=n.effects.define("transfer",function(t,i){n(this).transfer(t,i)}));n.ui.focusable=function(t,i){var u,f,e,r,o,s=t.nodeName.toLowerCase();return"area"===s?(u=t.parentNode,f=u.name,t.href&&f&&"map"===u.nodeName.toLowerCase()?(e=n("img[usemap='#"+f+"']"),e.length>0&&e.is(":visible")):!1):(/^(input|select|textarea|button|object)$/.test(s)?(r=!t.disabled,r&&(o=n(t).closest("fieldset")[0],o&&(r=!o.disabled))):r="a"===s?t.href||i:i,r&&n(t).is(":visible")&&b(n(t)))};n.extend(n.expr[":"],{focusable:function(t){return n.ui.focusable(t,null!=n.attr(t,"tabindex"))}});n.ui.focusable;n.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):n(this[0].form)};n.ui.formResetMixin={_formResetHandler:function(){var t=n(this);setTimeout(function(){var i=t.data("ui-form-reset-instances");n.each(i,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var n=this.form.data("ui-form-reset-instances")||[];n.length||this.form.on("reset.ui-form-reset",this._formResetHandler);n.push(this);this.form.data("ui-form-reset-instances",n)}},_unbindFormResetHandler:function(){if(this.form.length){var t=this.form.data("ui-form-reset-instances");t.splice(n.inArray(this,t),1);t.length?this.form.data("ui-form-reset-instances",t):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}};"1.7"===n.fn.jquery.substring(0,3)&&(n.each(["Width","Height"],function(t,i){function r(t,i,r,u){return n.each(e,function(){i-=parseFloat(n.css(t,"padding"+this))||0;r&&(i-=parseFloat(n.css(t,"border"+this+"Width"))||0);u&&(i-=parseFloat(n.css(t,"margin"+this))||0)}),i}var e="Width"===i?["Left","Right"]:["Top","Bottom"],u=i.toLowerCase(),f={innerWidth:n.fn.innerWidth,innerHeight:n.fn.innerHeight,outerWidth:n.fn.outerWidth,outerHeight:n.fn.outerHeight};n.fn["inner"+i]=function(t){return void 0===t?f["inner"+i].call(this):this.each(function(){n(this).css(u,r(this,t)+"px")})};n.fn["outer"+i]=function(t,e){return"number"!=typeof t?f["outer"+i].call(this,t):this.each(function(){n(this).css(u,r(this,t,!0,e)+"px")})}}),n.fn.addBack=function(n){return this.add(null==n?this.prevObject:this.prevObject.filter(n))});n.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38};n.ui.escapeSelector=function(){var n=/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g;return function(t){return t.replace(n,"\\$1")}}();n.fn.labels=function(){var t,r,u,i,f;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(i=this.eq(0).parents("label"),u=this.attr("id"),u&&(t=this.eq(0).parents().last(),f=t.add(t.length?t.siblings():this.siblings()),r="label[for='"+n.ui.escapeSelector(u)+"']",i=i.add(f.find(r).addBack(r))),this.pushStack(i))};n.fn.scrollParent=function(t){var i=this.css("position"),u="absolute"===i,f=t?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var t=n(this);return u&&"static"===t.css("position")?!1:f.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&r.length?r:n(this[0].ownerDocument||document)};n.extend(n.expr[":"],{tabbable:function(t){var i=n.attr(t,"tabindex"),r=null!=i;return(!r||i>=0)&&n.ui.focusable(t,r)}});n.fn.extend({uniqueId:function(){var n=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&n(this).removeAttr("id")})}});n.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=n();this._addClass("ui-accordion","ui-widget ui-helper-reset");this.element.attr("role","tablist");t.collapsible||t.active!==!1&&null!=t.active||(t.active=0);this._processPanels();0>t.active&&(t.active+=this.headers.length);this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():n()}},_createIcons:function(){var i,r,t=this.options.icons;t&&(i=n("<span>"),this._addClass(i,"ui-accordion-header-icon","ui-icon "+t.header),i.prependTo(this.headers),r=this.active.children(".ui-accordion-header-icon"),this._removeClass(r,t.header)._addClass(r,null,t.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons");this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var n;this.element.removeAttr("role");this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId();this._destroyIcons();n=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId();"content"!==this.options.heightStyle&&n.css("height","")},_setOption:function(n,t){return"active"===n?(this._activate(t),void 0):("event"===n&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(n,t),"collapsible"!==n||t||this.options.active!==!1||this._activate(0),"icons"===n&&(this._destroyIcons(),t&&this._createIcons()),void 0)},_setOptionDisabled:function(n){this._super(n);this.element.attr("aria-disabled",n);this._toggleClass(null,"ui-state-disabled",!!n);this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!n)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=n.ui.keyCode,u=this.headers.length,f=this.headers.index(t.target),r=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:r=this.headers[(f+1)%u];break;case i.LEFT:case i.UP:r=this.headers[(f-1+u)%u];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:r=this.headers[0];break;case i.END:r=this.headers[u-1]}r&&(n(t.target).attr("tabIndex",-1),n(r).attr("tabIndex",0),n(r).trigger("focus"),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===n.ui.keyCode.UP&&t.ctrlKey&&n(t.currentTarget).prev().trigger("focus")},refresh:function(){var t=this.options;this._processPanels();t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=n()):t.active===!1?this._activate(0):this.active.length&&!n.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=n()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active);this._destroyIcons();this._refresh()},_processPanels:function(){var t=this.headers,n=this.panels;this.headers=this.element.find(this.options.header);this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default");this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide();this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content");n&&(this._off(t.not(this.headers)),this._off(n.not(this.panels)))},_refresh:function(){var t,i=this.options,r=i.heightStyle,u=this.element.parent();this.active=this._findActive(i.active);this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed");this._addClass(this.active.next(),"ui-accordion-content-active");this.active.next().show();this.headers.attr("role","tab").each(function(){var t=n(this),r=t.uniqueId().attr("id"),i=t.next(),u=i.uniqueId().attr("id");t.attr("aria-controls",u);i.attr("aria-labelledby",r)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide();this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0);this._createIcons();this._setupEvents(i.event);"fill"===r?(t=u.height(),this.element.siblings(":visible").each(function(){var i=n(this),r=i.css("position");"absolute"!==r&&"fixed"!==r&&(t-=i.outerHeight(!0))}),this.headers.each(function(){t-=n(this).outerHeight(!0)}),this.headers.next().each(function(){n(this).height(Math.max(0,t-n(this).innerHeight()+n(this).height()))}).css("overflow","auto")):"auto"===r&&(t=0,this.headers.next().each(function(){var i=n(this).is(":visible");i||n(this).show();t=Math.max(t,n(this).css("height","").height());i||n(this).hide()}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:n.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):n()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&n.each(t.split(" "),function(n,t){i[t]="_eventHandler"});this._off(this.headers.add(this.headers.next()));this._on(this.headers,i);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(t){var e,o,i=this.options,u=this.active,r=n(t.currentTarget),f=r[0]===u[0],s=f&&i.collapsible,c=s?n():r.next(),l=u.next(),h={oldHeader:u,oldPanel:l,newHeader:s?n():r,newPanel:c};t.preventDefault();f&&!i.collapsible||this._trigger("beforeActivate",t,h)===!1||(i.active=s?!1:this.headers.index(r),this.active=f?n():r,this._toggle(h),this._removeClass(u,"ui-accordion-header-active","ui-state-active"),i.icons&&(e=u.children(".ui-accordion-header-icon"),this._removeClass(e,null,i.icons.activeHeader)._addClass(e,null,i.icons.header)),f||(this._removeClass(r,"ui-accordion-header-collapsed")._addClass(r,"ui-accordion-header-active","ui-state-active"),i.icons&&(o=r.children(".ui-accordion-header-icon"),this._removeClass(o,null,i.icons.header)._addClass(o,null,i.icons.activeHeader)),this._addClass(r.next(),"ui-accordion-content-active")))},_toggle:function(t){var r=t.newPanel,i=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0);this.prevShow=r;this.prevHide=i;this.options.animate?this._animate(r,i,t):(i.hide(),r.show(),this._toggleComplete(t));i.attr({"aria-hidden":"true"});i.prev().attr({"aria-selected":"false","aria-expanded":"false"});r.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):r.length&&this.headers.filter(function(){return 0===parseInt(n(this).attr("tabIndex"),10)}).attr("tabIndex",-1);r.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(n,t,i){var h,r,u,c=this,o=0,l=n.css("box-sizing"),a=n.length&&(!t.length||n.index()<t.index()),e=this.options.animate||{},f=a&&e.down||e,s=function(){c._toggleComplete(i)};return"number"==typeof f&&(u=f),"string"==typeof f&&(r=f),r=r||f.easing||e.easing,u=u||f.duration||e.duration,t.length?n.length?(h=n.show().outerHeight(),t.animate(this.hideProps,{duration:u,easing:r,step:function(n,t){t.now=Math.round(n)}}),n.hide().animate(this.showProps,{duration:u,easing:r,complete:s,step:function(n,i){i.now=Math.round(n);"height"!==i.prop?"content-box"===l&&(o+=i.now):"content"!==c.options.heightStyle&&(i.now=Math.round(h-t.outerHeight()-o),o=0)}}),void 0):t.animate(this.hideProps,u,r,s):n.animate(this.showProps,u,r,s)},_toggleComplete:function(n){var t=n.oldPanel,i=t.prev();this._removeClass(t,"ui-accordion-content-active");this._removeClass(i,"ui-accordion-header-active")._addClass(i,"ui-accordion-header-collapsed");t.length&&(t.parent()[0].className=t.parent()[0].className);this._trigger("activate",null,n)}});n.ui.safeActiveElement=function(n){var t;try{t=n.activeElement}catch(i){t=n.body}return t||(t=n.body),t.nodeName||(t=n.body),t};n.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().attr({role:this.options.role,tabIndex:0});this._addClass("ui-menu","ui-widget ui-widget-content");this._on({"mousedown .ui-menu-item":function(n){n.preventDefault()},"click .ui-menu-item":function(t){var i=n(t.target),r=n(n.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&r.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var r=n(t.target).closest(".ui-menu-item"),i=n(t.currentTarget);r[0]===i[0]&&(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(t,i))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(n,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(n,i)},blur:function(t){this._delay(function(){var i=!n.contains(this.element[0],n.ui.safeActiveElement(this.document[0]));i&&this.collapseAll(t)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(n){this._closeOnDocumentClick(n)&&this.collapseAll(n);this.mouseHandled=!1}})},_destroy:function(){var t=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),i=t.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show();i.children().each(function(){var t=n(this);t.data("ui-menu-submenu-caret")&&t.remove()})},_keydown:function(t){var i,u,r,f,e=!0;switch(t.keyCode){case n.ui.keyCode.PAGE_UP:this.previousPage(t);break;case n.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case n.ui.keyCode.HOME:this._move("first","first",t);break;case n.ui.keyCode.END:this._move("last","last",t);break;case n.ui.keyCode.UP:this.previous(t);break;case n.ui.keyCode.DOWN:this.next(t);break;case n.ui.keyCode.LEFT:this.collapse(t);break;case n.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case n.ui.keyCode.ENTER:case n.ui.keyCode.SPACE:this._activate(t);break;case n.ui.keyCode.ESCAPE:this.collapse(t);break;default:e=!1;u=this.previousFilter||"";f=!1;r=t.keyCode>=96&&105>=t.keyCode?""+(t.keyCode-96):String.fromCharCode(t.keyCode);clearTimeout(this.filterTimer);r===u?f=!0:r=u+r;i=this._filterMenuItems(r);i=f&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i;i.length||(r=String.fromCharCode(t.keyCode),i=this._filterMenuItems(r));i.length?(this.focus(t,i),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}e&&t.preventDefault()},_activate:function(n){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(n):this.select(n))},refresh:function(){var u,t,f,i,e,r=this,s=this.options.icons.submenu,o=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length);f=o.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=n(this),i=t.prev(),u=n("<span>").data("ui-menu-submenu-caret",!0);r._addClass(u,"ui-menu-icon","ui-icon "+s);i.attr("aria-haspopup","true").prepend(u);t.attr("aria-labelledby",i.attr("id"))});this._addClass(f,"ui-menu","ui-widget ui-widget-content ui-front");u=o.add(this.element);t=u.find(this.options.items);t.not(".ui-menu-item").each(function(){var t=n(this);r._isDivider(t)&&r._addClass(t,"ui-menu-divider","ui-widget-content")});i=t.not(".ui-menu-item, .ui-menu-divider");e=i.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()});this._addClass(i,"ui-menu-item")._addClass(e,"ui-menu-item-wrapper");t.filter(".ui-state-disabled").attr("aria-disabled","true");this.active&&!n.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(n,t){if("icons"===n){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,t.submenu)}this._super(n,t)},_setOptionDisabled:function(n){this._super(n);this.element.attr("aria-disabled",n+"");this._toggleClass(null,"ui-state-disabled",!!n)},focus:function(n,t){var i,r,u;this.blur(n,n&&"focus"===n.type);this._scrollIntoView(t);this.active=t.first();r=this.active.children(".ui-menu-item-wrapper");this._addClass(r,null,"ui-state-active");this.options.role&&this.element.attr("aria-activedescendant",r.attr("id"));u=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper");this._addClass(u,null,"ui-state-active");n&&"keydown"===n.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);i=t.children(".ui-menu");i.length&&n&&/^mouse/.test(n.type)&&this._startOpening(i);this.activeMenu=t.parent();this._trigger("focus",n,{item:t})},_scrollIntoView:function(t){var e,o,i,r,u,f;this._hasScroll()&&(e=parseFloat(n.css(this.activeMenu[0],"borderTopWidth"))||0,o=parseFloat(n.css(this.activeMenu[0],"paddingTop"))||0,i=t.offset().top-this.activeMenu.offset().top-e-o,r=this.activeMenu.scrollTop(),u=this.activeMenu.height(),f=t.outerHeight(),0>i?this.activeMenu.scrollTop(r+i):i+f>u&&this.activeMenu.scrollTop(r+i-u+f))},blur:function(n,t){t||clearTimeout(this.timer);this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",n,{item:this.active}),this.active=null)},_startOpening:function(n){clearTimeout(this.timer);"true"===n.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();this._open(n)},this.delay))},_open:function(t){var i=n.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true");t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(t,i){clearTimeout(this.timer);this.timer=this._delay(function(){var r=i?this.element:n(t&&t.target).closest(this.element.find(".ui-menu"));r.length||(r=this.element);this._close(r);this.blur(t);this._removeClass(r.find(".ui-state-active"),null,"ui-state-active");this.activeMenu=r},this.delay)},_close:function(n){n||(n=this.active?this.active.parent():this.element);n.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(t){return!n(t.target).closest(".ui-menu").length},_isDivider:function(n){return!/[^\-\u2014\u2013\s]/.test(n.text())},collapse:function(n){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(n,t))},expand:function(n){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(n,t)}))},next:function(n){this._move("next","first",n)},previous:function(n){this._move("prev","last",n)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(n,t,i){var r;this.active&&(r="first"===n||"last"===n?this.active["first"===n?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[n+"All"](".ui-menu-item").eq(0));r&&r.length&&this.active||(r=this.activeMenu.find(this.options.items)[t]());this.focus(i,r)},nextPage:function(t){var i,r,u;return this.active?(this.isLastItem()||(this._hasScroll()?(r=this.active.offset().top,u=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=n(this),0>i.offset().top-r-u}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())),void 0):(this.next(t),void 0)},previousPage:function(t){var i,r,u;return this.active?(this.isFirstItem()||(this._hasScroll()?(r=this.active.offset().top,u=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=n(this),i.offset().top-r+u>0}),this.focus(t,i)):this.focus(t,this.activeMenu.find(this.options.items).first())),void 0):(this.next(t),void 0)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||n(t.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0);this._trigger("select",t,i)},_filterMenuItems:function(t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),r=RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return r.test(n.trim(n(this).children(".ui-menu-item-wrapper").text()))})}});n.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,r,u=this.element[0].nodeName.toLowerCase(),f="textarea"===u,e="input"===u;this.isMultiLine=f||!e&&this._isContentEditable(this.element);this.valueMethod=this.element[f||e?"val":"text"];this.isNewMenu=!0;this._addClass("ui-autocomplete-input");this.element.attr("autocomplete","off");this._on(this.element,{keydown:function(u){if(this.element.prop("readOnly"))return t=!0,r=!0,i=!0,void 0;t=!1;r=!1;i=!1;var f=n.ui.keyCode;switch(u.keyCode){case f.PAGE_UP:t=!0;this._move("previousPage",u);break;case f.PAGE_DOWN:t=!0;this._move("nextPage",u);break;case f.UP:t=!0;this._keyEvent("previous",u);break;case f.DOWN:t=!0;this._keyEvent("next",u);break;case f.ENTER:this.menu.active&&(t=!0,u.preventDefault(),this.menu.select(u));break;case f.TAB:this.menu.active&&this.menu.select(u);break;case f.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(u),u.preventDefault());break;default:i=!0;this._searchTimeout(u)}},keypress:function(r){if(t)return t=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&r.preventDefault(),void 0;if(!i){var u=n.ui.keyCode;switch(r.keyCode){case u.PAGE_UP:this._move("previousPage",r);break;case u.PAGE_DOWN:this._move("nextPage",r);break;case u.UP:this._keyEvent("previous",r);break;case u.DOWN:this._keyEvent("next",r)}}},input:function(n){return r?(r=!1,n.preventDefault(),void 0):(this._searchTimeout(n),void 0)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(n){return this.cancelBlur?(delete this.cancelBlur,void 0):(clearTimeout(this.searching),this.close(n),this._change(n),void 0)}});this._initSource();this.menu=n("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance");this._addClass(this.menu.element,"ui-autocomplete","ui-front");this._on(this.menu.element,{mousedown:function(t){t.preventDefault();this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur;this.element[0]!==n.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(t,i){var r,u;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),this.document.one("mousemove",function(){n(t.target).trigger(t.originalEvent)}),void 0):(u=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:u})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(u.value),r=i.item.attr("aria-label")||u.value,r&&n.trim(r).length&&(this.liveRegion.children().hide(),n("<div>").text(r).appendTo(this.liveRegion)),void 0)},menuselect:function(t,i){var r=i.item.data("ui-autocomplete-item"),u=this.previous;this.element[0]!==n.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=u,this._delay(function(){this.previous=u;this.selectedItem=r}));!1!==this._trigger("select",t,{item:r})&&this._value(r.value);this.term=this._value();this.close(t);this.selectedItem=r}});this.liveRegion=n("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(n,t){this._super(n,t);"source"===n&&this._initSource();"appendTo"===n&&this.menu.element.appendTo(this._appendTo());"disabled"===n&&t&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(t){var i=this.menu.element[0];return t.target===this.element[0]||t.target===i||n.contains(i,t.target)},_closeOnClickOutside:function(n){this._isEventTargetInWidget(n)||this.close()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?n(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_initSource:function(){var i,r,t=this;n.isArray(this.options.source)?(i=this.options.source,this.source=function(t,r){r(n.ui.autocomplete.filter(i,t.term))}):"string"==typeof this.options.source?(r=this.options.source,this.source=function(i,u){t.xhr&&t.xhr.abort();t.xhr=n.ajax({url:r,data:i,dataType:"json",success:function(n){u(n)},error:function(){u([])}})}):this.source=this.options.source},_searchTimeout:function(n){clearTimeout(this.searching);this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),r=n.altKey||n.ctrlKey||n.metaKey||n.shiftKey;t&&(!t||i||r)||(this.selectedItem=null,this.search(null,n))},this.options.delay)},search:function(n,t){return n=null!=n?n:this._value(),this.term=this._value(),n.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(n):void 0},_search:function(n){this.pending++;this._addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:n},this._response())},_response:function(){var t=++this.requestIndex;return n.proxy(function(n){t===this.requestIndex&&this.__response(n);this.pending--;this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(n){n&&(n=this._normalize(n));this._trigger("response",null,{content:n});!this.options.disabled&&n&&n.length&&!this.cancelSearch?(this._suggest(n),this._trigger("open")):this._close()},close:function(n){this.cancelSearch=!0;this._close(n)},_close:function(n){this._off(this.document,"mousedown");this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",n))},_change:function(n){this.previous!==this._value()&&this._trigger("change",n,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:n.map(t,function(t){return"string"==typeof t?{label:t,value:t}:n.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t);this.isNewMenu=!0;this.menu.refresh();i.show();this._resizeMenu();i.position(n.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next();this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var n=this.menu.element;n.outerWidth(Math.max(n.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var r=this;n.each(i,function(n,i){r._renderItemData(t,i)})},_renderItemData:function(n,t){return this._renderItem(n,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return n("<li>").append(n("<div>").text(i.label)).appendTo(t)},_move:function(n,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(n)||this.menu.isLastItem()&&/^next/.test(n)?(this.isMultiLine||this._value(this.term),this.menu.blur(),void 0):(this.menu[n](t),void 0):(this.search(null,t),void 0)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(n,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(n,t),t.preventDefault())},_isContentEditable:function(n){if(!n.length)return!1;var t=n.prop("contentEditable");return"inherit"===t?this._isContentEditable(n.parent()):"true"===t}});n.extend(n.ui.autocomplete,{escapeRegex:function(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var r=RegExp(n.ui.autocomplete.escapeRegex(i),"i");return n.grep(t,function(n){return r.test(n.label||n.value||n)})}});n.widget("ui.autocomplete",n.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(n){return n+(n>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var i;this._superApply(arguments);this.options.disabled||this.cancelSearch||(i=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),n("<div>").text(i).appendTo(this.liveRegion))}});n.ui.autocomplete;w=/ui-corner-([a-z]){2,6}/g;n.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar");this.refresh()},_destroy:function(){this._callChildMethod("destroy");this.childWidgets.removeData("ui-controlgroup-data");this.element.removeAttr("role");this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var t=this,i=[];n.each(this.options.items,function(r,u){var f,e={};if(u)return"controlgroupLabel"===r?(f=t.element.find(u),f.each(function(){var t=n(this);t.children(".ui-controlgroup-label-contents").length||t.contents().wrapAll("<span class='ui-controlgroup-label-contents'><\/span>")}),t._addClass(f,null,"ui-widget ui-widget-content ui-state-default"),i=i.concat(f.get()),void 0):(n.fn[r]&&(e=t["_"+r+"Options"]?t["_"+r+"Options"]("middle"):{classes:{}},t.element.find(u).each(function(){var u=n(this),f=u[r]("instance"),o=n.widget.extend({},e),s;"button"===r&&u.parent(".ui-spinner").length||(f||(f=u[r]()[r]("instance")),f&&(o.classes=t._resolveClassesValues(o.classes,f)),u[r](o),s=u[r]("widget"),n.data(s[0],"ui-controlgroup-data",f?f:u[r]("instance")),i.push(s[0]))})),void 0)});this.childWidgets=n(n.unique(i));this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(t){this.childWidgets.each(function(){var r=n(this),i=r.data("ui-controlgroup-data");i&&i[t]&&i[t]()})},_updateCornerClass:function(n,t){var i=this._buildSimpleOptions(t,"label").classes.label;this._removeClass(n,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all");this._addClass(n,null,i)},_buildSimpleOptions:function(n,t){var i="vertical"===this.options.direction,r={classes:{}};return r.classes[t]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[n],r},_spinnerOptions:function(n){var t=this._buildSimpleOptions(n,"ui-spinner");return t.classes["ui-spinner-up"]="",t.classes["ui-spinner-down"]="",t},_buttonOptions:function(n){return this._buildSimpleOptions(n,"ui-button")},_checkboxradioOptions:function(n){return this._buildSimpleOptions(n,"ui-checkboxradio-label")},_selectmenuOptions:function(n){var t="vertical"===this.options.direction;return{width:t?"auto":!1,classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(t?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(t?"top":"left")},last:{"ui-selectmenu-button-open":t?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(t?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[n]}},_resolveClassesValues:function(t,i){var r={};return n.each(t,function(u){var f=i.options.classes[u]||"";f=n.trim(f.replace(w,""));r[u]=(f+" "+t[u]).replace(/\s+/g," ")}),r},_setOption:function(n,t){return"direction"===n&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(n,t),"disabled"===n?(this._callChildMethod(t?"disable":"enable"),void 0):(this.refresh(),void 0)},refresh:function(){var t,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction);"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix");this._initWidgets();t=this.childWidgets;this.options.onlyVisible&&(t=t.filter(":visible"));t.length&&(n.each(["first","last"],function(n,r){var u=t[r]().data("ui-controlgroup-data"),f;u&&i["_"+u.widgetName+"Options"]?(f=i["_"+u.widgetName+"Options"](1===t.length?"only":r),f.classes=i._resolveClassesValues(f.classes,u),u.element[u.widgetName](f)):i._updateCornerClass(t[r](),r)}),this._callChildMethod("refresh"))}});n.widget("ui.checkboxradio",[n.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var t,i,u=this,r=this._super()||{};return this._readType(),i=this.element.labels(),this.label=n(i[i.length-1]),this.label.length||n.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){u.originalLabel+=3===this.nodeType?n(this).text():this.outerHTML}),this.originalLabel&&(r.label=this.originalLabel),t=this.element[0].disabled,null!=t&&(r.disabled=t),r},_create:function(){var n=this.element[0].checked;this._bindFormResetHandler();null==this.options.disabled&&(this.options.disabled=this.element[0].disabled);this._setOption("disabled",this.options.disabled);this._addClass("ui-checkboxradio","ui-helper-hidden-accessible");this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget");"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label");this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel);this._enhance();n&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover"));this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var t=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type;"input"===t&&/radio|checkbox/.test(this.type)||n.error("Can't create checkboxradio on element.nodeName="+t+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var t,i=this.element[0].name,r="input[name='"+n.ui.escapeSelector(i)+"']";return i?(t=this.form.length?n(this.form[0].elements).filter(r):n(r).filter(function(){return 0===n(this).form().length}),t.not(this.element)):n([])},_toggleClasses:function(){var t=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t);this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",t)._toggleClass(this.icon,null,"ui-icon-blank",!t);"radio"===this.type&&this._getRadioGroup().each(function(){var t=n(this).checkboxradio("instance");t&&t._removeClass(t.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler();this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(n,t){if("label"!==n||t)return(this._super(n,t),"disabled"===n?(this._toggleClass(this.label,null,"ui-state-disabled",t),this.element[0].disabled=t,void 0):(this.refresh(),void 0))},_updateIcon:function(t){var i="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=n("<span>"),this.iconSpace=n("<span> <\/span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(i+=t?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,t?"ui-icon-blank":"ui-icon-check")):i+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",i),t||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var n=this.label.contents().not(this.element[0]);this.icon&&(n=n.not(this.icon[0]));this.iconSpace&&(n=n.not(this.iconSpace[0]));n.remove();this.label.append(this.options.label)},refresh:function(){var n=this.element[0].checked,t=this.element[0].disabled;this._updateIcon(n);this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",n);null!==this.options.label&&this._updateLabel();t!==this.options.disabled&&this._setOptions({disabled:t})}}]);n.ui.checkboxradio;n.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var n,t=this._super()||{};return this.isInput=this.element.is("input"),n=this.element[0].disabled,null!=n&&(t.disabled=n),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(t.label=this.originalLabel),t},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0);null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1);this.hasTitle=!!this.element.attr("title");this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label));this._addClass("ui-button","ui-widget");this._setOption("disabled",this.options.disabled);this._enhance();this.element.is("a")&&this._on({keyup:function(t){t.keyCode===n.ui.keyCode.SPACE&&(t.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button");this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title");this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(t,i){var u="iconPosition"!==t,r=u?this.options.iconPosition:i,f="top"===r||"bottom"===r;this.icon?u&&this._removeClass(this.icon,null,this.options.icon):(this.icon=n("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only"));u&&this._addClass(this.icon,null,i);this._attachIcon(r);f?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=n("<span> <\/span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(r))},_destroy:function(){this.element.removeAttr("role");this.icon&&this.icon.remove();this.iconSpace&&this.iconSpace.remove();this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(n){this.icon[/^(?:end|bottom)/.test(n)?"before":"after"](this.iconSpace)},_attachIcon:function(n){this.element[/^(?:end|bottom)/.test(n)?"append":"prepend"](this.icon)},_setOptions:function(n){var t=void 0===n.showLabel?this.options.showLabel:n.showLabel,i=void 0===n.icon?this.options.icon:n.icon;t||i||(n.showLabel=!0);this._super(n)},_setOption:function(n,t){"icon"===n&&(t?this._updateIcon(n,t):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove()));"iconPosition"===n&&this._updateIcon(n,t);"showLabel"===n&&(this._toggleClass("ui-button-icon-only",null,!t),this._updateTooltip());"label"===n&&(this.isInput?this.element.val(t):(this.element.html(t),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition))));this._super(n,t);"disabled"===n&&(this._toggleClass(null,"ui-state-disabled",t),this.element[0].disabled=t,t&&this.element.blur())},refresh:function(){var n=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");n!==this.options.disabled&&this._setOptions({disabled:n});this._updateTooltip()}});n.uiBackCompat!==!1&&(n.widget("ui.button",n.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text);!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel);this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end");this._super()},_setOption:function(n,t){return"text"===n?(this._super("showLabel",t),void 0):("showLabel"===n&&(this.options.text=t),"icon"===n&&(this.options.icons.primary=t),"icons"===n&&(t.primary?(this._super("icon",t.primary),this._super("iconPosition","beginning")):t.secondary&&(this._super("icon",t.secondary),this._super("iconPosition","end"))),this._superApply(arguments),void 0)}}),n.fn.button=function(t){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?t.apply(this,arguments):(n.ui.checkboxradio||n.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(n.fn.button),n.fn.buttonset=function(){return n.ui.controlgroup||n.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))});n.ui.button;n.extend(n.ui,{datepicker:{version:"1.12.1"}});n.extend(c.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(n){return u(this._defaults,n||{}),this},_attachDatepicker:function(t,i){var r,f,u;r=t.nodeName.toLowerCase();f="div"===r||"span"===r;t.id||(this.uuid+=1,t.id="dp"+this.uuid);u=this._newInst(n(t),f);u.settings=n.extend({},i||{});"input"===r?this._connectDatepicker(t,u):f&&this._inlineDatepicker(t,u)},_newInst:function(t,i){var r=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:r,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?l(n("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'><\/div>")):this.dpDiv}},_connectDatepicker:function(t,i){var r=n(t);i.append=n([]);i.trigger=n([]);r.hasClass(this.markerClassName)||(this._attachments(r,i),r.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(i),n.data(t,"datepicker",i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var u,r,f,e=this._get(i,"appendText"),o=this._get(i,"isRTL");i.append&&i.append.remove();e&&(i.append=n("<span class='"+this._appendClass+"'>"+e+"<\/span>"),t[o?"before":"after"](i.append));t.off("focus",this._showDatepicker);i.trigger&&i.trigger.remove();u=this._get(i,"showOn");("focus"===u||"both"===u)&&t.on("focus",this._showDatepicker);("button"===u||"both"===u)&&(r=this._get(i,"buttonText"),f=this._get(i,"buttonImage"),i.trigger=n(this._get(i,"buttonImageOnly")?n("<img/>").addClass(this._triggerClass).attr({src:f,alt:r,title:r}):n("<button type='button'><\/button>").addClass(this._triggerClass).html(f?n("<img/>").attr({src:f,alt:r,title:r}):r)),t[o?"before":"after"](i.trigger),i.trigger.on("click",function(){return n.datepicker._datepickerShowing&&n.datepicker._lastInput===t[0]?n.datepicker._hideDatepicker():n.datepicker._datepickerShowing&&n.datepicker._lastInput!==t[0]?(n.datepicker._hideDatepicker(),n.datepicker._showDatepicker(t[0])):n.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(n){if(this._get(n,"autoSize")&&!n.inline){var r,u,f,t,i=new Date(2009,11,20),e=this._get(n,"dateFormat");e.match(/[DM]/)&&(r=function(n){for(u=0,f=0,t=0;n.length>t;t++)n[t].length>u&&(u=n[t].length,f=t);return f},i.setMonth(r(this._get(n,e.match(/MM/)?"monthNames":"monthNamesShort"))),i.setDate(r(this._get(n,e.match(/DD/)?"dayNames":"dayNamesShort"))+20-i.getDay()));n.input.attr("size",this._formatDate(n,i).length)}},_inlineDatepicker:function(t,i){var r=n(t);r.hasClass(this.markerClassName)||(r.addClass(this.markerClassName).append(i.dpDiv),n.data(t,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,r,f,e){var s,h,c,l,a,o=this._dialogInst;return o||(this.uuid+=1,s="dp"+this.uuid,this._dialogInput=n("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),n("body").append(this._dialogInput),o=this._dialogInst=this._newInst(this._dialogInput,!1),o.settings={},n.data(this._dialogInput[0],"datepicker",o)),u(o.settings,f||{}),i=i&&i.constructor===Date?this._formatDate(o,i):i,this._dialogInput.val(i),this._pos=e?e.length?e:[e.pageX,e.pageY]:null,this._pos||(h=document.documentElement.clientWidth,c=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,a=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+l,c/2-150+a]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),o.settings.onSelect=r,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),n.blockUI&&n.blockUI(this.dpDiv),n.data(this._dialogInput[0],"datepicker",o),this},_destroyDatepicker:function(t){var r,u=n(t),f=n.data(t,"datepicker");u.hasClass(this.markerClassName)&&(r=t.nodeName.toLowerCase(),n.removeData(t,"datepicker"),"input"===r?(f.append.remove(),f.trigger.remove(),u.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):("div"===r||"span"===r)&&u.removeClass(this.markerClassName).empty(),i===f&&(i=null))},_enableDatepicker:function(t){var i,r,u=n(t),f=n.data(t,"datepicker");u.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,f.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(r=u.children("."+this._inlineClass),r.children().removeClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=n.map(this._disabledInputs,function(n){return n===t?null:n}))},_disableDatepicker:function(t){var i,r,u=n(t),f=n.data(t,"datepicker");u.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,f.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(r=u.children("."+this._inlineClass),r.children().addClass("ui-state-disabled"),r.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=n.map(this._disabledInputs,function(n){return n===t?null:n}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(n){if(!n)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===n)return!0;return!1},_getInst:function(t){try{return n.data(t,"datepicker")}catch(i){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(t,i,r){var e,h,o,s,f=this._getInst(t);return 2===arguments.length&&"string"==typeof i?"defaults"===i?n.extend({},n.datepicker._defaults):f?"all"===i?n.extend({},f.settings):this._get(f,i):null:(e=i||{},"string"==typeof i&&(e={},e[i]=r),f&&(this._curInst===f&&this._hideDatepicker(),h=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(f,"min"),s=this._getMinMaxDate(f,"max"),u(f.settings,e),null!==o&&void 0!==e.dateFormat&&void 0===e.minDate&&(f.settings.minDate=this._formatDate(f,o)),null!==s&&void 0!==e.dateFormat&&void 0===e.maxDate&&(f.settings.maxDate=this._formatDate(f,s)),"disabled"in e&&(e.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(n(t),f),this._autoSize(f),this._setDate(f,h),this._updateAlternate(f),this._updateDatepicker(f)),void 0)},_changeDatepicker:function(n,t,i){this._optionDatepicker(n,t,i)},_refreshDatepicker:function(n){var t=this._getInst(n);t&&this._updateDatepicker(t)},_setDateDatepicker:function(n,t){var i=this._getInst(n);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(n,t){var i=this._getInst(n);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var u,e,f,i=n.datepicker._getInst(t.target),r=!0,o=i.dpDiv.is(".ui-datepicker-rtl");if(i._keyEvent=!0,n.datepicker._datepickerShowing)switch(t.keyCode){case 9:n.datepicker._hideDatepicker();r=!1;break;case 13:return f=n("td."+n.datepicker._dayOverClass+":not(."+n.datepicker._currentClass+")",i.dpDiv),f[0]&&n.datepicker._selectDay(t.target,i.selectedMonth,i.selectedYear,f[0]),u=n.datepicker._get(i,"onSelect"),u?(e=n.datepicker._formatDate(i),u.apply(i.input?i.input[0]:null,[e,i])):n.datepicker._hideDatepicker(),!1;case 27:n.datepicker._hideDatepicker();break;case 33:n.datepicker._adjustDate(t.target,t.ctrlKey?-n.datepicker._get(i,"stepBigMonths"):-n.datepicker._get(i,"stepMonths"),"M");break;case 34:n.datepicker._adjustDate(t.target,t.ctrlKey?+n.datepicker._get(i,"stepBigMonths"):+n.datepicker._get(i,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&n.datepicker._clearDate(t.target);r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&n.datepicker._gotoToday(t.target);r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,o?1:-1,"D");r=t.ctrlKey||t.metaKey;t.originalEvent.altKey&&n.datepicker._adjustDate(t.target,t.ctrlKey?-n.datepicker._get(i,"stepBigMonths"):-n.datepicker._get(i,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,-7,"D");r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,o?-1:1,"D");r=t.ctrlKey||t.metaKey;t.originalEvent.altKey&&n.datepicker._adjustDate(t.target,t.ctrlKey?+n.datepicker._get(i,"stepBigMonths"):+n.datepicker._get(i,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&n.datepicker._adjustDate(t.target,7,"D");r=t.ctrlKey||t.metaKey;break;default:r=!1}else 36===t.keyCode&&t.ctrlKey?n.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var i,r,u=n.datepicker._getInst(t.target);if(n.datepicker._get(u,"constrainInput"))return(i=n.datepicker._possibleChars(n.datepicker._get(u,"dateFormat")),r=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">r||!i||i.indexOf(r)>-1)},_doKeyUp:function(t){var r,i=n.datepicker._getInst(t.target);if(i.input.val()!==i.lastVal)try{r=n.datepicker.parseDate(n.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,n.datepicker._getFormatConfig(i));r&&(n.datepicker._setDateFromField(i),n.datepicker._updateAlternate(i),n.datepicker._updateDatepicker(i))}catch(u){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=n("input",t.parentNode)[0]),!n.datepicker._isDisabledDatepicker(t)&&n.datepicker._lastInput!==t){var i,o,s,r,f,e,h;i=n.datepicker._getInst(t);n.datepicker._curInst&&n.datepicker._curInst!==i&&(n.datepicker._curInst.dpDiv.stop(!0,!0),i&&n.datepicker._datepickerShowing&&n.datepicker._hideDatepicker(n.datepicker._curInst.input[0]));o=n.datepicker._get(i,"beforeShow");s=o?o.apply(t,[t,i]):{};s!==!1&&(u(i.settings,s),i.lastVal=null,n.datepicker._lastInput=t,n.datepicker._setDateFromField(i),n.datepicker._inDialog&&(t.value=""),n.datepicker._pos||(n.datepicker._pos=n.datepicker._findPos(t),n.datepicker._pos[1]+=t.offsetHeight),r=!1,n(t).parents().each(function(){return r|="fixed"===n(this).css("position"),!r}),f={left:n.datepicker._pos[0],top:n.datepicker._pos[1]},n.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),n.datepicker._updateDatepicker(i),f=n.datepicker._checkOffset(i,f,r),i.dpDiv.css({position:n.datepicker._inDialog&&n.blockUI?"static":r?"fixed":"absolute",display:"none",left:f.left+"px",top:f.top+"px"}),i.inline||(e=n.datepicker._get(i,"showAnim"),h=n.datepicker._get(i,"duration"),i.dpDiv.css("z-index",k(n(t))+1),n.datepicker._datepickerShowing=!0,n.effects&&n.effects.effect[e]?i.dpDiv.show(e,n.datepicker._get(i,"showOptions"),h):i.dpDiv[e||"show"](e?h:null),n.datepicker._shouldFocusInput(i)&&i.input.trigger("focus"),n.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4;i=t;t.dpDiv.empty().append(this._generateHTML(t));this._attachHandlers(t);var r,u=this._getNumberOfMonths(t),f=u[1],e=t.dpDiv.find("."+this._dayOverClass+" a");e.length>0&&a.apply(e.get(0));t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");f>1&&t.dpDiv.addClass("ui-datepicker-multi-"+f).css("width",17*f+"em");t.dpDiv[(1!==u[0]||1!==u[1]?"add":"remove")+"Class"]("ui-datepicker-multi");t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");t===n.datepicker._curInst&&n.datepicker._datepickerShowing&&n.datepicker._shouldFocusInput(t)&&t.input.trigger("focus");t.yearshtml&&(r=t.yearshtml,setTimeout(function(){r===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml);r=t.yearshtml=null},0))},_shouldFocusInput:function(n){return n.input&&n.input.is(":visible")&&!n.input.is(":disabled")&&!n.input.is(":focus")},_checkOffset:function(t,i,r){var u=t.dpDiv.outerWidth(),f=t.dpDiv.outerHeight(),h=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,e=document.documentElement.clientWidth+(r?0:n(document).scrollLeft()),s=document.documentElement.clientHeight+(r?0:n(document).scrollTop());return i.left-=this._get(t,"isRTL")?u-h:0,i.left-=r&&i.left===t.input.offset().left?n(document).scrollLeft():0,i.top-=r&&i.top===t.input.offset().top+o?n(document).scrollTop():0,i.left-=Math.min(i.left,i.left+u>e&&e>u?Math.abs(i.left+u-e):0),i.top-=Math.min(i.top,i.top+f>s&&s>f?Math.abs(f+o):0),i},_findPos:function(t){for(var i,r=this._getInst(t),u=this._get(r,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||n.expr.filters.hidden(t));)t=t[u?"previousSibling":"nextSibling"];return i=n(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var r,f,u,e,i=this._curInst;!i||t&&i!==n.data(t,"datepicker")||this._datepickerShowing&&(r=this._get(i,"showAnim"),f=this._get(i,"duration"),u=function(){n.datepicker._tidyDialog(i)},n.effects&&(n.effects.effect[r]||n.effects[r])?i.dpDiv.hide(r,n.datepicker._get(i,"showOptions"),f,u):i.dpDiv["slideDown"===r?"slideUp":"fadeIn"===r?"fadeOut":"hide"](r?f:null,u),r||u(),this._datepickerShowing=!1,e=this._get(i,"onClose"),e&&e.apply(i.input?i.input[0]:null,[i.input?i.input.val():"",i]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),n.blockUI&&(n.unblockUI(),n("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(n){n.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(n.datepicker._curInst){var i=n(t.target),r=n.datepicker._getInst(i[0]);(i[0].id===n.datepicker._mainDivId||0!==i.parents("#"+n.datepicker._mainDivId).length||i.hasClass(n.datepicker.markerClassName)||i.closest("."+n.datepicker._triggerClass).length||!n.datepicker._datepickerShowing||n.datepicker._inDialog&&n.blockUI)&&(!i.hasClass(n.datepicker.markerClassName)||n.datepicker._curInst===r)||n.datepicker._hideDatepicker()}},_adjustDate:function(t,i,r){var f=n(t),u=this._getInst(f[0]);this._isDisabledDatepicker(f[0])||(this._adjustInstDate(u,i+("M"===r?this._get(u,"showCurrentAtPos"):0),r),this._updateDatepicker(u))},_gotoToday:function(t){var r,u=n(t),i=this._getInst(u[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(r=new Date,i.selectedDay=r.getDate(),i.drawMonth=i.selectedMonth=r.getMonth(),i.drawYear=i.selectedYear=r.getFullYear());this._notifyChange(i);this._adjustDate(u)},_selectMonthYear:function(t,i,r){var f=n(t),u=this._getInst(f[0]);u["selected"+("M"===r?"Month":"Year")]=u["draw"+("M"===r?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10);this._notifyChange(u);this._adjustDate(f)},_selectDay:function(t,i,r,u){var f,e=n(t);n(u).hasClass(this._unselectableClass)||this._isDisabledDatepicker(e[0])||(f=this._getInst(e[0]),f.selectedDay=f.currentDay=n("a",u).html(),f.selectedMonth=f.currentMonth=i,f.selectedYear=f.currentYear=r,this._selectDate(t,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(t){var i=n(t);this._selectDate(i,"")},_selectDate:function(t,i){var u,f=n(t),r=this._getInst(f[0]);i=null!=i?i:this._formatDate(r);r.input&&r.input.val(i);this._updateAlternate(r);u=this._get(r,"onSelect");u?u.apply(r.input?r.input[0]:null,[i,r]):r.input&&r.input.trigger("change");r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!=typeof r.input[0]&&r.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(t){var i,r,u,f=this._get(t,"altField");f&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),r=this._getDate(t),u=this.formatDate(i,r,this._getFormatConfig(t)),n(f).val(u))},noWeekends:function(n){var t=n.getDay();return[t>0&&6>t,""]},iso8601Week:function(n){var i,t=new Date(n.getTime());return t.setDate(t.getDate()+4-(t.getDay()||7)),i=t.getTime(),t.setMonth(0),t.setDate(1),Math.floor(Math.round((i-t)/864e5)/7)+1},parseDate:function(t,i,r){if(null==t||null==i)throw"Invalid arguments";if(i="object"==typeof i?""+i:i+"",""===i)return null;for(var a,v,u,f=0,y=(r?r.shortYearCutoff:null)||this._defaults.shortYearCutoff,d="string"!=typeof y?y:(new Date).getFullYear()%100+parseInt(y,10),g=(r?r.dayNamesShort:null)||this._defaults.dayNamesShort,nt=(r?r.dayNames:null)||this._defaults.dayNames,tt=(r?r.monthNamesShort:null)||this._defaults.monthNamesShort,it=(r?r.monthNames:null)||this._defaults.monthNames,e=-1,s=-1,h=-1,p=-1,w=!1,l=function(n){var i=t.length>o+1&&t.charAt(o+1)===n;return i&&o++,i},c=function(n){var u=l(n),r="@"===n?14:"!"===n?20:"y"===n&&u?4:"o"===n?3:2,e="y"===n?r:1,o=RegExp("^\\d{"+e+","+r+"}"),t=i.substring(f).match(o);if(!t)throw"Missing number at position "+f;return f+=t[0].length,parseInt(t[0],10)},k=function(t,r,u){var e=-1,o=n.map(l(t)?u:r,function(n,t){return[[t,n]]}).sort(function(n,t){return-(n[1].length-t[1].length)});if(n.each(o,function(n,t){var r=t[1];if(i.substr(f,r.length).toLowerCase()===r.toLowerCase())return(e=t[0],f+=r.length,!1)}),-1!==e)return e+1;throw"Unknown name at position "+f;},b=function(){if(i.charAt(f)!==t.charAt(o))throw"Unexpected literal at position "+f;f++},o=0;t.length>o;o++)if(w)"'"!==t.charAt(o)||l("'")?b():w=!1;else switch(t.charAt(o)){case"d":h=c("d");break;case"D":k("D",g,nt);break;case"o":p=c("o");break;case"m":s=c("m");break;case"M":s=k("M",tt,it);break;case"y":e=c("y");break;case"@":u=new Date(c("@"));e=u.getFullYear();s=u.getMonth()+1;h=u.getDate();break;case"!":u=new Date((c("!")-this._ticksTo1970)/1e4);e=u.getFullYear();s=u.getMonth()+1;h=u.getDate();break;case"'":l("'")?b():w=!0;break;default:b()}if(i.length>f&&(v=i.substr(f),!/^\s+/.test(v)))throw"Extra/unparsed characters found in date: "+v;if(-1===e?e=(new Date).getFullYear():100>e&&(e+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d>=e?0:-100)),p>-1)for(s=1,h=p;;){if(a=this._getDaysInMonth(e,s-1),a>=h)break;s++;h-=a}if(u=this._daylightSavingAdjust(new Date(e,s-1,h)),u.getFullYear()!==e||u.getMonth()+1!==s||u.getDate()!==h)throw"Invalid date";return u},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(n,t,i){if(!t)return"";var u,h=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,c=(i?i.dayNames:null)||this._defaults.dayNames,l=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,f=function(t){var i=n.length>u+1&&n.charAt(u+1)===t;return i&&u++,i},e=function(n,t,i){var r=""+t;if(f(n))for(;i>r.length;)r="0"+r;return r},s=function(n,t,i,r){return f(n)?r[t]:i[t]},r="",o=!1;if(t)for(u=0;n.length>u;u++)if(o)"'"!==n.charAt(u)||f("'")?r+=n.charAt(u):o=!1;else switch(n.charAt(u)){case"d":r+=e("d",t.getDate(),2);break;case"D":r+=s("D",t.getDay(),h,c);break;case"o":r+=e("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":r+=e("m",t.getMonth()+1,2);break;case"M":r+=s("M",t.getMonth(),l,a);break;case"y":r+=f("y")?t.getFullYear():(10>t.getFullYear()%100?"0":"")+t.getFullYear()%100;break;case"@":r+=t.getTime();break;case"!":r+=1e4*t.getTime()+this._ticksTo1970;break;case"'":f("'")?r+="'":o=!0;break;default:r+=n.charAt(u)}return r},_possibleChars:function(n){for(var i="",r=!1,u=function(i){var r=n.length>t+1&&n.charAt(t+1)===i;return r&&t++,r},t=0;n.length>t;t++)if(r)"'"!==n.charAt(t)||u("'")?i+=n.charAt(t):r=!1;else switch(n.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":u("'")?i+="'":r=!0;break;default:i+=n.charAt(t)}return i},_get:function(n,t){return void 0!==n.settings[t]?n.settings[t]:this._defaults[t]},_setDateFromField:function(n,t){if(n.input.val()!==n.lastVal){var f=this._get(n,"dateFormat"),r=n.lastVal=n.input?n.input.val():null,u=this._getDefaultDate(n),i=u,e=this._getFormatConfig(n);try{i=this.parseDate(f,r,e)||u}catch(o){r=t?"":r}n.selectedDay=i.getDate();n.drawMonth=n.selectedMonth=i.getMonth();n.drawYear=n.selectedYear=i.getFullYear();n.currentDay=r?i.getDate():0;n.currentMonth=r?i.getMonth():0;n.currentYear=r?i.getFullYear():0;this._adjustInstDate(n)}},_getDefaultDate:function(n){return this._restrictMinMax(n,this._determineDate(n,this._get(n,"defaultDate"),new Date))},_determineDate:function(t,i,r){var f=function(n){var t=new Date;return t.setDate(t.getDate()+n),t},e=function(i){try{return n.datepicker.parseDate(n.datepicker._get(t,"dateFormat"),i,n.datepicker._getFormatConfig(t))}catch(h){}for(var o=(i.toLowerCase().match(/^c/)?n.datepicker._getDate(t):null)||new Date,f=o.getFullYear(),e=o.getMonth(),r=o.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=s.exec(i);u;){switch(u[2]||"d"){case"d":case"D":r+=parseInt(u[1],10);break;case"w":case"W":r+=7*parseInt(u[1],10);break;case"m":case"M":e+=parseInt(u[1],10);r=Math.min(r,n.datepicker._getDaysInMonth(f,e));break;case"y":case"Y":f+=parseInt(u[1],10);r=Math.min(r,n.datepicker._getDaysInMonth(f,e))}u=s.exec(i)}return new Date(f,e,r)},u=null==i||""===i?r:"string"==typeof i?e(i):"number"==typeof i?isNaN(i)?r:f(i):new Date(i.getTime());return u=u&&"Invalid Date"==""+u?r:u,u&&(u.setHours(0),u.setMinutes(0),u.setSeconds(0),u.setMilliseconds(0)),this._daylightSavingAdjust(u)},_daylightSavingAdjust:function(n){return n?(n.setHours(n.getHours()>12?n.getHours()+2:0),n):null},_setDate:function(n,t,i){var u=!t,f=n.selectedMonth,e=n.selectedYear,r=this._restrictMinMax(n,this._determineDate(n,t,new Date));n.selectedDay=n.currentDay=r.getDate();n.drawMonth=n.selectedMonth=n.currentMonth=r.getMonth();n.drawYear=n.selectedYear=n.currentYear=r.getFullYear();f===n.selectedMonth&&e===n.selectedYear||i||this._notifyChange(n);this._adjustInstDate(n);n.input&&n.input.val(u?"":this._formatDate(n))},_getDate:function(n){return!n.currentYear||n.input&&""===n.input.val()?null:this._daylightSavingAdjust(new Date(n.currentYear,n.currentMonth,n.currentDay))},_attachHandlers:function(t){var r=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){n.datepicker._adjustDate(i,-r,"M")},next:function(){n.datepicker._adjustDate(i,+r,"M")},hide:function(){n.datepicker._hideDatepicker()},today:function(){n.datepicker._gotoToday(i)},selectDay:function(){return n.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return n.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return n.datepicker._selectMonthYear(i,this,"Y"),!1}};n(this).on(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(n){var b,s,rt,h,ut,k,ft,et,ri,c,ot,ui,fi,ei,oi,st,g,si,ht,nt,o,y,ct,p,lt,l,u,at,vt,yt,pt,tt,wt,i,bt,kt,d,a,it,dt=new Date,gt=this._daylightSavingAdjust(new Date(dt.getFullYear(),dt.getMonth(),dt.getDate())),f=this._get(n,"isRTL"),li=this._get(n,"showButtonPanel"),hi=this._get(n,"hideIfNoPrevNext"),ni=this._get(n,"navigationAsDateFormat"),e=this._getNumberOfMonths(n),ai=this._get(n,"showCurrentAtPos"),ci=this._get(n,"stepMonths"),ti=1!==e[0]||1!==e[1],ii=this._daylightSavingAdjust(n.currentDay?new Date(n.currentYear,n.currentMonth,n.currentDay):new Date(9999,9,9)),w=this._getMinMaxDate(n,"min"),v=this._getMinMaxDate(n,"max"),t=n.drawMonth-ai,r=n.drawYear;if(0>t&&(t+=12,r--),v)for(b=this._daylightSavingAdjust(new Date(v.getFullYear(),v.getMonth()-e[0]*e[1]+1,v.getDate())),b=w&&w>b?w:b;this._daylightSavingAdjust(new Date(r,t,1))>b;)t--,0>t&&(t=11,r--);for(n.drawMonth=t,n.drawYear=r,s=this._get(n,"prevText"),s=ni?this.formatDate(s,this._daylightSavingAdjust(new Date(r,t-ci,1)),this._getFormatConfig(n)):s,rt=this._canAdjustMonth(n,-1,r,t)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(f?"e":"w")+"'>"+s+"<\/span><\/a>":hi?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(f?"e":"w")+"'>"+s+"<\/span><\/a>",h=this._get(n,"nextText"),h=ni?this.formatDate(h,this._daylightSavingAdjust(new Date(r,t+ci,1)),this._getFormatConfig(n)):h,ut=this._canAdjustMonth(n,1,r,t)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+h+"'><span class='ui-icon ui-icon-circle-triangle-"+(f?"w":"e")+"'>"+h+"<\/span><\/a>":hi?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+h+"'><span class='ui-icon ui-icon-circle-triangle-"+(f?"w":"e")+"'>"+h+"<\/span><\/a>",k=this._get(n,"currentText"),ft=this._get(n,"gotoCurrent")&&n.currentDay?ii:gt,k=ni?this.formatDate(k,ft,this._getFormatConfig(n)):k,et=n.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(n,"closeText")+"<\/button>",ri=li?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(f?et:"")+(this._isInRange(n,ft)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+k+"<\/button>":"")+(f?"":et)+"<\/div>":"",c=parseInt(this._get(n,"firstDay"),10),c=isNaN(c)?0:c,ot=this._get(n,"showWeek"),ui=this._get(n,"dayNames"),fi=this._get(n,"dayNamesMin"),ei=this._get(n,"monthNames"),oi=this._get(n,"monthNamesShort"),st=this._get(n,"beforeShowDay"),g=this._get(n,"showOtherMonths"),si=this._get(n,"selectOtherMonths"),ht=this._getDefaultDate(n),nt="",y=0;e[0]>y;y++){for(ct="",this.maxRows=4,p=0;e[1]>p;p++){if(lt=this._daylightSavingAdjust(new Date(r,t,n.selectedDay)),l=" ui-corner-all",u="",ti){if(u+="<div class='ui-datepicker-group",e[1]>1)switch(p){case 0:u+=" ui-datepicker-group-first";l=" ui-corner-"+(f?"right":"left");break;case e[1]-1:u+=" ui-datepicker-group-last";l=" ui-corner-"+(f?"left":"right");break;default:u+=" ui-datepicker-group-middle";l=""}u+="'>"}for(u+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+l+"'>"+(/all|left/.test(l)&&0===y?f?ut:rt:"")+(/all|right/.test(l)&&0===y?f?rt:ut:"")+this._generateMonthYearHeader(n,t,r,w,v,y>0||p>0,ei,oi)+"<\/div><table class='ui-datepicker-calendar'><thead><tr>",at=ot?"<th class='ui-datepicker-week-col'>"+this._get(n,"weekHeader")+"<\/th>":"",o=0;7>o;o++)vt=(o+c)%7,at+="<th scope='col'"+((o+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+ui[vt]+"'>"+fi[vt]+"<\/span><\/th>";for(u+=at+"<\/tr><\/thead><tbody>",yt=this._getDaysInMonth(r,t),r===n.selectedYear&&t===n.selectedMonth&&(n.selectedDay=Math.min(n.selectedDay,yt)),pt=(this._getFirstDayOfMonth(r,t)-c+7)%7,tt=Math.ceil((pt+yt)/7),wt=ti?this.maxRows>tt?this.maxRows:tt:tt,this.maxRows=wt,i=this._daylightSavingAdjust(new Date(r,t,1-pt)),bt=0;wt>bt;bt++){for(u+="<tr>",kt=ot?"<td class='ui-datepicker-week-col'>"+this._get(n,"calculateWeek")(i)+"<\/td>":"",o=0;7>o;o++)d=st?st.apply(n.input?n.input[0]:null,[i]):[!0,""],a=i.getMonth()!==t,it=a&&!si||!d[0]||w&&w>i||v&&i>v,kt+="<td class='"+((o+c+6)%7>=5?" ui-datepicker-week-end":"")+(a?" ui-datepicker-other-month":"")+(i.getTime()===lt.getTime()&&t===n.selectedMonth&&n._keyEvent||ht.getTime()===i.getTime()&&ht.getTime()===lt.getTime()?" "+this._dayOverClass:"")+(it?" "+this._unselectableClass+" ui-state-disabled":"")+(a&&!g?"":" "+d[1]+(i.getTime()===ii.getTime()?" "+this._currentClass:"")+(i.getTime()===gt.getTime()?" ui-datepicker-today":""))+"'"+(a&&!g||!d[2]?"":" title='"+d[2].replace(/'/g,"&#39;")+"'")+(it?"":" data-handler='selectDay' data-event='click' data-month='"+i.getMonth()+"' data-year='"+i.getFullYear()+"'")+">"+(a&&!g?"&#xa0;":it?"<span class='ui-state-default'>"+i.getDate()+"<\/span>":"<a class='ui-state-default"+(i.getTime()===gt.getTime()?" ui-state-highlight":"")+(i.getTime()===ii.getTime()?" ui-state-active":"")+(a?" ui-priority-secondary":"")+"' href='#'>"+i.getDate()+"<\/a>")+"<\/td>",i.setDate(i.getDate()+1),i=this._daylightSavingAdjust(i);u+=kt+"<\/tr>"}t++;t>11&&(t=0,r++);u+="<\/tbody><\/table>"+(ti?"<\/div>"+(e[0]>0&&p===e[1]-1?"<div class='ui-datepicker-row-break'><\/div>":""):"");ct+=u}nt+=ct}return nt+=ri,n._keyEvent=!1,nt},_generateMonthYearHeader:function(n,t,i,r,u,f,e,o){var k,d,h,v,y,p,s,a,w=this._get(n,"changeMonth"),b=this._get(n,"changeYear"),g=this._get(n,"showMonthAfterYear"),c="<div class='ui-datepicker-title'>",l="";if(f||!w)l+="<span class='ui-datepicker-month'>"+e[t]+"<\/span>";else{for(k=r&&r.getFullYear()===i,d=u&&u.getFullYear()===i,l+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",h=0;12>h;h++)(!k||h>=r.getMonth())&&(!d||u.getMonth()>=h)&&(l+="<option value='"+h+"'"+(h===t?" selected='selected'":"")+">"+o[h]+"<\/option>");l+="<\/select>"}if(g||(c+=l+(!f&&w&&b?"":"&#xa0;")),!n.yearshtml)if(n.yearshtml="",f||!b)c+="<span class='ui-datepicker-year'>"+i+"<\/span>";else{for(v=this._get(n,"yearRange").split(":"),y=(new Date).getFullYear(),p=function(n){var t=n.match(/c[+\-].*/)?i+parseInt(n.substring(1),10):n.match(/[+\-].*/)?y+parseInt(n,10):parseInt(n,10);return isNaN(t)?y:t},s=p(v[0]),a=Math.max(s,p(v[1]||"")),s=r?Math.max(s,r.getFullYear()):s,a=u?Math.min(a,u.getFullYear()):a,n.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";a>=s;s++)n.yearshtml+="<option value='"+s+"'"+(s===i?" selected='selected'":"")+">"+s+"<\/option>";n.yearshtml+="<\/select>";c+=n.yearshtml;n.yearshtml=null}return c+=this._get(n,"yearSuffix"),g&&(c+=(!f&&w&&b?"":"&#xa0;")+l),c+"<\/div>"},_adjustInstDate:function(n,t,i){var u=n.selectedYear+("Y"===i?t:0),f=n.selectedMonth+("M"===i?t:0),e=Math.min(n.selectedDay,this._getDaysInMonth(u,f))+("D"===i?t:0),r=this._restrictMinMax(n,this._daylightSavingAdjust(new Date(u,f,e)));n.selectedDay=r.getDate();n.drawMonth=n.selectedMonth=r.getMonth();n.drawYear=n.selectedYear=r.getFullYear();("M"===i||"Y"===i)&&this._notifyChange(n)},_restrictMinMax:function(n,t){var i=this._getMinMaxDate(n,"min"),r=this._getMinMaxDate(n,"max"),u=i&&i>t?i:t;return r&&u>r?r:u},_notifyChange:function(n){var t=this._get(n,"onChangeMonthYear");t&&t.apply(n.input?n.input[0]:null,[n.selectedYear,n.selectedMonth+1,n])},_getNumberOfMonths:function(n){var t=this._get(n,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(n,t){return this._determineDate(n,this._get(n,t+"Date"),null)},_getDaysInMonth:function(n,t){return 32-this._daylightSavingAdjust(new Date(n,t,32)).getDate()},_getFirstDayOfMonth:function(n,t){return new Date(n,t,1).getDay()},_canAdjustMonth:function(n,t,i,r){var f=this._getNumberOfMonths(n),u=this._daylightSavingAdjust(new Date(i,r+(0>t?t:f[0]*f[1]),1));return 0>t&&u.setDate(this._getDaysInMonth(u.getFullYear(),u.getMonth())),this._isInRange(n,u)},_isInRange:function(n,t){var i,f,e=this._getMinMaxDate(n,"min"),o=this._getMinMaxDate(n,"max"),r=null,u=null,s=this._get(n,"yearRange");return s&&(i=s.split(":"),f=(new Date).getFullYear(),r=parseInt(i[0],10),u=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(r+=f),i[1].match(/[+\-].*/)&&(u+=f)),(!e||t.getTime()>=e.getTime())&&(!o||t.getTime()<=o.getTime())&&(!r||t.getFullYear()>=r)&&(!u||u>=t.getFullYear())},_getFormatConfig:function(n){var t=this._get(n,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(n,"dayNamesShort"),dayNames:this._get(n,"dayNames"),monthNamesShort:this._get(n,"monthNamesShort"),monthNames:this._get(n,"monthNames")}},_formatDate:function(n,t,i,r){t||(n.currentDay=n.selectedDay,n.currentMonth=n.selectedMonth,n.currentYear=n.selectedYear);var u=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(r,i,t)):this._daylightSavingAdjust(new Date(n.currentYear,n.currentMonth,n.currentDay));return this.formatDate(this._get(n,"dateFormat"),u,this._getFormatConfig(n))}});n.fn.datepicker=function(t){if(!this.length)return this;n.datepicker.initialized||(n(document).on("mousedown",n.datepicker._checkExternalClick),n.datepicker.initialized=!0);0===n("#"+n.datepicker._mainDivId).length&&n("body").append(n.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this].concat(i)):n.datepicker._attachDatepicker(this,t)}):n.datepicker["_"+t+"Datepicker"].apply(n.datepicker,[this[0]].concat(i))};n.datepicker=new c;n.datepicker.initialized=!1;n.datepicker.uuid=(new Date).getTime();n.datepicker.version="1.12.1";n.datepicker;n.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());r=!1;n(document).on("mouseup",function(){r=!1});n.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(n){return t._mouseDown(n)}).on("click."+this.widgetName,function(i){if(!0===n.data(i.target,t.widgetName+".preventClickEvent"))return(n.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1)});this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName);this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!r){this._mouseMoved=!1;this._mouseStarted&&this._mouseUp(t);this._mouseDownEvent=t;var i=this,u=1===t.which,f="string"==typeof this.options.cancel&&t.target.nodeName?n(t.target).closest(this.options.cancel).length:!1;return u&&!f&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===n.data(t.target,this.widgetName+".preventClickEvent")&&n.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(n){return i._mouseMove(n)},this._mouseUpDelegate=function(n){return i._mouseUp(n)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),r=!0,!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(n.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&n.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t));this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer);this.ignoreMissingWhich=!1;r=!1;t.preventDefault()},_mouseDistanceMet:function(n){return Math.max(Math.abs(this._mouseDownEvent.pageX-n.pageX),Math.abs(this._mouseDownEvent.pageY-n.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});n.ui.plugin={add:function(t,i,r){var u,f=n.ui[t].prototype;for(u in r)f.plugins[u]=f.plugins[u]||[],f.plugins[u].push([i,r[u]])},call:function(n,t,i,r){var u,f=n.plugins[t];if(f&&(r||n.element[0].parentNode&&11!==n.element[0].parentNode.nodeType))for(u=0;f.length>u;u++)n.options[f[u][0]]&&f[u][1].apply(n.element,i)}};n.ui.safeBlur=function(t){t&&"body"!==t.nodeName.toLowerCase()&&n(t).trigger("blur")};n.widget("ui.draggable",n.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative();this.options.addClasses&&this._addClass("ui-draggable");this._setHandleClassName();this._mouseInit()},_setOption:function(n,t){this._super(n,t);"handle"===n&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(t){var i=this.options;return this.helper||i.disabled||n(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(this._blurActiveElement(t),this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=n(this);return n("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=n.ui.safeActiveElement(this.document[0]),r=n(t.target);r.closest(i).length||n.ui.safeBlur(i)},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),n.ui.ddmanager&&(n.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===n(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),n.ui.ddmanager&&n.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(n){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()};this.offset.click={left:n.pageX-this.offset.left,top:n.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var r=this._uiHash();if(this._trigger("drag",t,r)===!1)return this._mouseUp(new n.Event("mouseup",t)),!1;this.position=r.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",n.ui.ddmanager&&n.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var r=this,i=!1;return n.ui.ddmanager&&!this.options.dropBehaviour&&(i=n.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||n.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?n(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){r._trigger("stop",t)!==!1&&r._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),n.ui.ddmanager&&n.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),n.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new n.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return this.options.handle?!!n(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element;this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var r=this.options,u=n.isFunction(r.helper),i=u?n(r.helper.apply(this.element[0],[t])):"clone"===r.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===r.appendTo?this.element[0].parentNode:r.appendTo),u&&i[0]===this.element[0]&&this._setPositionRelative(),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" "));n.isArray(t)&&(t={left:+t[0],top:+t[1]||0});"left"in t&&(this.offset.click.left=t.left+this.margins.left);"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left);"top"in t&&(this.offset.click.top=t.top+this.margins.top);"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(n){return/(html|body)/i.test(n.tagName)||n===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&n.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var n=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:n.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:n.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var f,t,i,r=this.options,u=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?(this.containment=[n(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,n(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,n(window).scrollLeft()+n(window).width()-this.helperProportions.width-this.margins.left,n(window).scrollTop()+(n(window).height()||u.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===r.containment?(this.containment=[0,0,n(u).width()-this.helperProportions.width-this.margins.left,(n(u).height()||u.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):r.containment.constructor===Array?(this.containment=r.containment,void 0):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),t=n(r.containment),i=t[0],i&&(f=/(scroll|auto)/.test(t.css("overflow")),this.containment=[(parseInt(t.css("borderLeftWidth"),10)||0)+(parseInt(t.css("paddingLeft"),10)||0),(parseInt(t.css("borderTopWidth"),10)||0)+(parseInt(t.css("paddingTop"),10)||0),(f?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(t.css("borderRightWidth"),10)||0)-(parseInt(t.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(f?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(t.css("borderBottomWidth"),10)||0)-(parseInt(t.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=t),void 0):(this.containment=null,void 0)},_convertPositionTo:function(n,t){t||(t=this.position);var i="absolute"===n?1:-1,r=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)*i}},_generatePosition:function(n,t){var i,s,u,f,r=this.options,h=this._isRootNode(this.scrollParent[0]),e=n.pageX,o=n.pageY;return h&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,n.pageX-this.offset.click.left<i[0]&&(e=i[0]+this.offset.click.left),n.pageY-this.offset.click.top<i[1]&&(o=i[1]+this.offset.click.top),n.pageX-this.offset.click.left>i[2]&&(e=i[2]+this.offset.click.left),n.pageY-this.offset.click.top>i[3]&&(o=i[3]+this.offset.click.top)),r.grid&&(u=r.grid[1]?this.originalPageY+Math.round((o-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,o=i?u-this.offset.click.top>=i[1]||u-this.offset.click.top>i[3]?u:u-this.offset.click.top>=i[1]?u-r.grid[1]:u+r.grid[1]:u,f=r.grid[0]?this.originalPageX+Math.round((e-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,e=i?f-this.offset.click.left>=i[0]||f-this.offset.click.left>i[2]?f:f-this.offset.click.left>=i[0]?f-r.grid[0]:f+r.grid[0]:f),"y"===r.axis&&(e=this.originalPageX),"x"===r.axis&&(o=this.originalPageY)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:h?0:this.offset.scroll.top),left:e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:h?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging");this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove();this.helper=null;this.cancelHelperRemoval=!1;this.destroyOnClear&&this.destroy()},_trigger:function(t,i,r){return r=r||this._uiHash(),n.ui.plugin.call(this,t,[i,r,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),r.offset=this.positionAbs),n.Widget.prototype._trigger.call(this,t,i,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});n.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,r){var u=n.extend({},i,{item:r.element});r.sortables=[];n(r.options.connectToSortable).each(function(){var i=n(this).sortable("instance");i&&!i.options.disabled&&(r.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,u))})},stop:function(t,i,r){var u=n.extend({},i,{item:r.element});r.cancelHelperRemoval=!1;n.each(r.sortables,function(){var n=this;n.isOver?(n.isOver=0,r.cancelHelperRemoval=!0,n.cancelHelperRemoval=!1,n._storedCSS={position:n.placeholder.css("position"),top:n.placeholder.css("top"),left:n.placeholder.css("left")},n._mouseStop(t),n.options.helper=n.options._helper):(n.cancelHelperRemoval=!0,n._trigger("deactivate",t,u))})},drag:function(t,i,r){n.each(r.sortables,function(){var f=!1,u=this;u.positionAbs=r.positionAbs;u.helperProportions=r.helperProportions;u.offset.click=r.offset.click;u._intersectsWith(u.containerCache)&&(f=!0,n.each(r.sortables,function(){return this.positionAbs=r.positionAbs,this.helperProportions=r.helperProportions,this.offset.click=r.offset.click,this!==u&&this._intersectsWith(this.containerCache)&&n.contains(u.element[0],this.element[0])&&(f=!1),f}));f?(u.isOver||(u.isOver=1,r._parent=i.helper.parent(),u.currentItem=i.helper.appendTo(u.element).data("ui-sortable-item",!0),u.options._helper=u.options.helper,u.options.helper=function(){return i.helper[0]},t.target=u.currentItem[0],u._mouseCapture(t,!0),u._mouseStart(t,!0,!0),u.offset.click.top=r.offset.click.top,u.offset.click.left=r.offset.click.left,u.offset.parent.left-=r.offset.parent.left-u.offset.parent.left,u.offset.parent.top-=r.offset.parent.top-u.offset.parent.top,r._trigger("toSortable",t),r.dropped=u.element,n.each(r.sortables,function(){this.refreshPositions()}),r.currentItem=r.element,u.fromOutside=r),u.currentItem&&(u._mouseDrag(t),i.position=u.position)):u.isOver&&(u.isOver=0,u.cancelHelperRemoval=!0,u.options._revert=u.options.revert,u.options.revert=!1,u._trigger("out",t,u._uiHash(u)),u._mouseStop(t,!0),u.options.revert=u.options._revert,u.options.helper=u.options._helper,u.placeholder&&u.placeholder.remove(),i.helper.appendTo(r._parent),r._refreshOffsets(t),i.position=r._generatePosition(t,!0),r._trigger("fromSortable",t),r.dropped=!1,n.each(r.sortables,function(){this.refreshPositions()}))})}});n.ui.plugin.add("draggable","cursor",{start:function(t,i,r){var u=n("body"),f=r.options;u.css("cursor")&&(f._cursor=u.css("cursor"));u.css("cursor",f.cursor)},stop:function(t,i,r){var u=r.options;u._cursor&&n("body").css("cursor",u._cursor)}});n.ui.plugin.add("draggable","opacity",{start:function(t,i,r){var u=n(i.helper),f=r.options;u.css("opacity")&&(f._opacity=u.css("opacity"));u.css("opacity",f.opacity)},stop:function(t,i,r){var u=r.options;u._opacity&&n(i.helper).css("opacity",u._opacity)}});n.ui.plugin.add("draggable","scroll",{start:function(n,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1));i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,r){var u=r.options,o=!1,e=r.scrollParentNotHidden[0],f=r.document[0];e!==f&&"HTML"!==e.tagName?(u.axis&&"x"===u.axis||(r.overflowOffset.top+e.offsetHeight-t.pageY<u.scrollSensitivity?e.scrollTop=o=e.scrollTop+u.scrollSpeed:t.pageY-r.overflowOffset.top<u.scrollSensitivity&&(e.scrollTop=o=e.scrollTop-u.scrollSpeed)),u.axis&&"y"===u.axis||(r.overflowOffset.left+e.offsetWidth-t.pageX<u.scrollSensitivity?e.scrollLeft=o=e.scrollLeft+u.scrollSpeed:t.pageX-r.overflowOffset.left<u.scrollSensitivity&&(e.scrollLeft=o=e.scrollLeft-u.scrollSpeed))):(u.axis&&"x"===u.axis||(t.pageY-n(f).scrollTop()<u.scrollSensitivity?o=n(f).scrollTop(n(f).scrollTop()-u.scrollSpeed):n(window).height()-(t.pageY-n(f).scrollTop())<u.scrollSensitivity&&(o=n(f).scrollTop(n(f).scrollTop()+u.scrollSpeed))),u.axis&&"y"===u.axis||(t.pageX-n(f).scrollLeft()<u.scrollSensitivity?o=n(f).scrollLeft(n(f).scrollLeft()-u.scrollSpeed):n(window).width()-(t.pageX-n(f).scrollLeft())<u.scrollSensitivity&&(o=n(f).scrollLeft(n(f).scrollLeft()+u.scrollSpeed))));o!==!1&&n.ui.ddmanager&&!u.dropBehaviour&&n.ui.ddmanager.prepareOffsets(r,t)}});n.ui.plugin.add("draggable","snap",{start:function(t,i,r){var u=r.options;r.snapElements=[];n(u.snap.constructor!==String?u.snap.items||":data(ui-draggable)":u.snap).each(function(){var t=n(this),i=t.offset();this!==r.element[0]&&r.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,r){for(var e,o,s,h,c,a,l,v,w,b=r.options,f=b.snapTolerance,y=i.offset.left,k=y+r.helperProportions.width,p=i.offset.top,d=p+r.helperProportions.height,u=r.snapElements.length-1;u>=0;u--)c=r.snapElements[u].left-r.margins.left,a=c+r.snapElements[u].width,l=r.snapElements[u].top-r.margins.top,v=l+r.snapElements[u].height,c-f>k||y>a+f||l-f>d||p>v+f||!n.contains(r.snapElements[u].item.ownerDocument,r.snapElements[u].item)?(r.snapElements[u].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,n.extend(r._uiHash(),{snapItem:r.snapElements[u].item})),r.snapElements[u].snapping=!1):("inner"!==b.snapMode&&(e=f>=Math.abs(l-d),o=f>=Math.abs(v-p),s=f>=Math.abs(c-k),h=f>=Math.abs(a-y),e&&(i.position.top=r._convertPositionTo("relative",{top:l-r.helperProportions.height,left:0}).top),o&&(i.position.top=r._convertPositionTo("relative",{top:v,left:0}).top),s&&(i.position.left=r._convertPositionTo("relative",{top:0,left:c-r.helperProportions.width}).left),h&&(i.position.left=r._convertPositionTo("relative",{top:0,left:a}).left)),w=e||o||s||h,"outer"!==b.snapMode&&(e=f>=Math.abs(l-p),o=f>=Math.abs(v-d),s=f>=Math.abs(c-y),h=f>=Math.abs(a-k),e&&(i.position.top=r._convertPositionTo("relative",{top:l,left:0}).top),o&&(i.position.top=r._convertPositionTo("relative",{top:v-r.helperProportions.height,left:0}).top),s&&(i.position.left=r._convertPositionTo("relative",{top:0,left:c}).left),h&&(i.position.left=r._convertPositionTo("relative",{top:0,left:a-r.helperProportions.width}).left)),!r.snapElements[u].snapping&&(e||o||s||h||w)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,n.extend(r._uiHash(),{snapItem:r.snapElements[u].item})),r.snapElements[u].snapping=e||o||s||h||w)}});n.ui.plugin.add("draggable","stack",{start:function(t,i,r){var f,e=r.options,u=n.makeArray(n(e.stack)).sort(function(t,i){return(parseInt(n(t).css("zIndex"),10)||0)-(parseInt(n(i).css("zIndex"),10)||0)});u.length&&(f=parseInt(n(u[0]).css("zIndex"),10)||0,n(u).each(function(t){n(this).css("zIndex",f+t)}),this.css("zIndex",f+u.length))}});n.ui.plugin.add("draggable","zIndex",{start:function(t,i,r){var u=n(i.helper),f=r.options;u.css("zIndex")&&(f._zIndex=u.css("zIndex"));u.css("zIndex",f.zIndex)},stop:function(t,i,r){var u=r.options;u._zIndex&&n(i.helper).css("zIndex",u._zIndex)}});n.ui.draggable;n.widget("ui.resizable",n.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(n){return parseFloat(n)||0},_isNumber:function(n){return!isNaN(parseFloat(n))},_hasScroll:function(t,i){if("hidden"===n(t).css("overflow"))return!1;var r=i&&"left"===i?"scrollLeft":"scrollTop",u=!1;return t[r]>0?!0:(t[r]=1,u=t[r]>0,t[r]=0,u)},_create:function(){var r,t=this.options,i=this;this._addClass("ui-resizable");n.extend(this,{_aspectRatio:!!t.aspectRatio,aspectRatio:t.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:t.helper||t.ghost||t.animate?t.helper||"ui-resizable-helper":null});this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(n("<div class='ui-wrapper' style='overflow: hidden;'><\/div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,r={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(r),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(r),this._proportionallyResize());this._setupHandles();t.autoHide&&n(this.element).on("mouseenter",function(){t.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())}).on("mouseleave",function(){t.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())});this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){n(t).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(n,t){switch(this._super(n,t),n){case"handles":this._removeHandles();this._setupHandles()}},_setupHandles:function(){var i,r,u,o,t,f=this.options,e=this;if(this.handles=f.handles||(n(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=n(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),u=this.handles.split(","),this.handles={},r=0;u.length>r;r++)i=n.trim(u[r]),o="ui-resizable-"+i,t=n("<div>"),this._addClass(t,"ui-resizable-handle "+o),t.css({zIndex:f.zIndex}),this.handles[i]=".ui-resizable-"+i,this.element.append(t);this._renderAxis=function(t){var i,r,u,f;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=n(this.handles[i]),this._on(this.handles[i],{mousedown:e._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(r=n(this.handles[i],this.element),f=/sw|ne|nw|se|n|s/.test(i)?r.outerHeight():r.outerWidth(),u=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(u,f),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])};this._renderAxis(this.element);this._handles=this._handles.add(this.element.find(".ui-resizable-handle"));this._handles.disableSelection();this._handles.on("mouseover",function(){e.resizing||(this.className&&(t=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),e.axis=t&&t[1]?t[1]:"se")});f.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(t){var r,i,u=!1;for(r in this.handles)i=n(this.handles[r])[0],(i===t.target||n.contains(i,t.target))&&(u=!0);return!this.options.disabled&&u},_mouseStart:function(t){var u,f,e,r=this.options,i=this.element;return this.resizing=!0,this._renderProxy(),u=this._num(this.helper.css("left")),f=this._num(this.helper.css("top")),r.containment&&(u+=n(r.containment).scrollLeft()||0,f+=n(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:u,top:f},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:i.width(),height:i.height()},this.originalSize=this._helper?{width:i.outerWidth(),height:i.outerHeight()}:{width:i.width(),height:i.height()},this.sizeDiff={width:i.outerWidth()-i.width(),height:i.outerHeight()-i.height()},this.originalPosition={left:u,top:f},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,e=n(".ui-resizable-"+this.axis).css("cursor"),n("body").css("cursor","auto"===e?this.axis+"-resize":e),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,r,u=this.originalMousePosition,e=this.axis,o=t.pageX-u.left||0,s=t.pageY-u.top||0,f=this._change[e];return this._updatePrevProperties(),f?(i=f.apply(this,[t,o,s]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),r=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),n.isEmptyObject(r)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(t){this.resizing=!1;var r,u,f,e,o,s,h,c=this.options,i=this;return this._helper&&(r=this._proportionallyResizeElements,u=r.length&&/textarea/i.test(r[0].nodeName),f=u&&this._hasScroll(r[0],"left")?0:i.sizeDiff.height,e=u?0:i.sizeDiff.width,o={width:i.helper.width()-e,height:i.helper.height()-f},s=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,h=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null,c.animate||this.element.css(n.extend(o,{top:h,left:s})),i.helper.height(i.size.height),i.helper.width(i.size.width),this._helper&&!c.animate&&this._proportionallyResize()),n("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left};this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var n={};return this.position.top!==this.prevPosition.top&&(n.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(n.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(n.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(n.height=this.size.height+"px"),this.helper.css(n),n},_updateVirtualBoundaries:function(n){var r,u,f,e,t,i=this.options;t={minWidth:this._isNumber(i.minWidth)?i.minWidth:0,maxWidth:this._isNumber(i.maxWidth)?i.maxWidth:1/0,minHeight:this._isNumber(i.minHeight)?i.minHeight:0,maxHeight:this._isNumber(i.maxHeight)?i.maxHeight:1/0};(this._aspectRatio||n)&&(r=t.minHeight*this.aspectRatio,f=t.minWidth/this.aspectRatio,u=t.maxHeight*this.aspectRatio,e=t.maxWidth/this.aspectRatio,r>t.minWidth&&(t.minWidth=r),f>t.minHeight&&(t.minHeight=f),t.maxWidth>u&&(t.maxWidth=u),t.maxHeight>e&&(t.maxHeight=e));this._vBoundaries=t},_updateCache:function(n){this.offset=this.helper.offset();this._isNumber(n.left)&&(this.position.left=n.left);this._isNumber(n.top)&&(this.position.top=n.top);this._isNumber(n.height)&&(this.size.height=n.height);this._isNumber(n.width)&&(this.size.width=n.width)},_updateRatio:function(n){var t=this.position,i=this.size,r=this.axis;return this._isNumber(n.height)?n.width=n.height*this.aspectRatio:this._isNumber(n.width)&&(n.height=n.width/this.aspectRatio),"sw"===r&&(n.left=t.left+(i.width-n.width),n.top=null),"nw"===r&&(n.top=t.top+(i.height-n.height),n.left=t.left+(i.width-n.width)),n},_respectSize:function(n){var t=this._vBoundaries,i=this.axis,r=this._isNumber(n.width)&&t.maxWidth&&t.maxWidth<n.width,u=this._isNumber(n.height)&&t.maxHeight&&t.maxHeight<n.height,f=this._isNumber(n.width)&&t.minWidth&&t.minWidth>n.width,e=this._isNumber(n.height)&&t.minHeight&&t.minHeight>n.height,o=this.originalPosition.left+this.originalSize.width,s=this.originalPosition.top+this.originalSize.height,h=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return f&&(n.width=t.minWidth),e&&(n.height=t.minHeight),r&&(n.width=t.maxWidth),u&&(n.height=t.maxHeight),f&&h&&(n.left=o-t.minWidth),r&&h&&(n.left=o-t.maxWidth),e&&c&&(n.top=s-t.minHeight),u&&c&&(n.top=s-t.maxHeight),n.width||n.height||n.left||!n.top?n.width||n.height||n.top||!n.left||(n.left=null):n.top=null,n},_getPaddingPlusBorderDimensions:function(n){for(var t=0,i=[],r=[n.css("borderTopWidth"),n.css("borderRightWidth"),n.css("borderBottomWidth"),n.css("borderLeftWidth")],u=[n.css("paddingTop"),n.css("paddingRight"),n.css("paddingBottom"),n.css("paddingLeft")];4>t;t++)i[t]=parseFloat(r[t])||0,i[t]+=parseFloat(u[t])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var n,t=0,i=this.helper||this.element;this._proportionallyResizeElements.length>t;t++)n=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(n)),n.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset();this._helper?(this.helper=this.helper||n("<div style='overflow:hidden;'><\/div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(n,t){return{width:this.originalSize.width+t}},w:function(n,t){var i=this.originalSize,r=this.originalPosition;return{left:r.left+t,width:i.width-t}},n:function(n,t,i){var r=this.originalSize,u=this.originalPosition;return{top:u.top+i,height:r.height-i}},s:function(n,t,i){return{height:this.originalSize.height+i}},se:function(t,i,r){return n.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},sw:function(t,i,r){return n.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,r]))},ne:function(t,i,r){return n.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,r]))},nw:function(t,i,r){return n.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,r]))}},_propagate:function(t,i){n.ui.plugin.call(this,t,[i,this.ui()]);"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});n.ui.plugin.add("resizable","animate",{stop:function(t){var i=n(this).resizable("instance"),u=i.options,r=i._proportionallyResizeElements,f=r.length&&/textarea/i.test(r[0].nodeName),s=f&&i._hasScroll(r[0],"left")?0:i.sizeDiff.height,h=f?0:i.sizeDiff.width,c={width:i.size.width-h,height:i.size.height-s},e=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,o=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(n.extend(c,o&&e?{top:o,left:e}:{}),{duration:u.animateDuration,easing:u.animateEasing,step:function(){var u={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};r&&r.length&&n(r[0]).css({width:u.width,height:u.height});i._updateCache(u);i._propagate("resize",t)}})}});n.ui.plugin.add("resizable","containment",{start:function(){var r,f,e,o,s,h,c,t=n(this).resizable("instance"),l=t.options,a=t.element,u=l.containment,i=u instanceof n?u.get(0):/parent/.test(u)?a.parent().get(0):u;i&&(t.containerElement=n(i),/document/.test(u)||u===document?(t.containerOffset={left:0,top:0},t.containerPosition={left:0,top:0},t.parentData={element:n(document),left:0,top:0,width:n(document).width(),height:n(document).height()||document.body.parentNode.scrollHeight}):(r=n(i),f=[],n(["Top","Right","Left","Bottom"]).each(function(n,i){f[n]=t._num(r.css("padding"+i))}),t.containerOffset=r.offset(),t.containerPosition=r.position(),t.containerSize={height:r.innerHeight()-f[3],width:r.innerWidth()-f[1]},e=t.containerOffset,o=t.containerSize.height,s=t.containerSize.width,h=t._hasScroll(i,"left")?i.scrollWidth:s,c=t._hasScroll(i)?i.scrollHeight:o,t.parentData={element:i,left:e.left,top:e.top,width:h,height:c}))},resize:function(t){var o,s,h,c,i=n(this).resizable("instance"),v=i.options,r=i.containerOffset,l=i.position,f=i._aspectRatio||t.shiftKey,e={top:0,left:0},a=i.containerElement,u=!0;a[0]!==document&&/static/.test(a.css("position"))&&(e=r);l.left<(i._helper?r.left:0)&&(i.size.width=i.size.width+(i._helper?i.position.left-r.left:i.position.left-e.left),f&&(i.size.height=i.size.width/i.aspectRatio,u=!1),i.position.left=v.helper?r.left:0);l.top<(i._helper?r.top:0)&&(i.size.height=i.size.height+(i._helper?i.position.top-r.top:i.position.top),f&&(i.size.width=i.size.height*i.aspectRatio,u=!1),i.position.top=i._helper?r.top:0);h=i.containerElement.get(0)===i.element.parent().get(0);c=/relative|absolute/.test(i.containerElement.css("position"));h&&c?(i.offset.left=i.parentData.left+i.position.left,i.offset.top=i.parentData.top+i.position.top):(i.offset.left=i.element.offset().left,i.offset.top=i.element.offset().top);o=Math.abs(i.sizeDiff.width+(i._helper?i.offset.left-e.left:i.offset.left-r.left));s=Math.abs(i.sizeDiff.height+(i._helper?i.offset.top-e.top:i.offset.top-r.top));o+i.size.width>=i.parentData.width&&(i.size.width=i.parentData.width-o,f&&(i.size.height=i.size.width/i.aspectRatio,u=!1));s+i.size.height>=i.parentData.height&&(i.size.height=i.parentData.height-s,f&&(i.size.width=i.size.height*i.aspectRatio,u=!1));u||(i.position.left=i.prevPosition.left,i.position.top=i.prevPosition.top,i.size.width=i.prevSize.width,i.size.height=i.prevSize.height)},stop:function(){var t=n(this).resizable("instance"),r=t.options,u=t.containerOffset,f=t.containerPosition,e=t.containerElement,i=n(t.helper),o=i.offset(),s=i.outerWidth()-t.sizeDiff.width,h=i.outerHeight()-t.sizeDiff.height;t._helper&&!r.animate&&/relative/.test(e.css("position"))&&n(this).css({left:o.left-f.left-u.left,width:s,height:h});t._helper&&!r.animate&&/static/.test(e.css("position"))&&n(this).css({left:o.left-f.left-u.left,width:s,height:h})}});n.ui.plugin.add("resizable","alsoResize",{start:function(){var t=n(this).resizable("instance"),i=t.options;n(i.alsoResize).each(function(){var t=n(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})})},resize:function(t,i){var r=n(this).resizable("instance"),e=r.options,u=r.originalSize,f=r.originalPosition,o={height:r.size.height-u.height||0,width:r.size.width-u.width||0,top:r.position.top-f.top||0,left:r.position.left-f.left||0};n(e.alsoResize).each(function(){var t=n(this),u=n(this).data("ui-resizable-alsoresize"),r={},f=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];n.each(f,function(n,t){var i=(u[t]||0)+(o[t]||0);i&&i>=0&&(r[t]=i||null)});t.css(r)})},stop:function(){n(this).removeData("ui-resizable-alsoresize")}});n.ui.plugin.add("resizable","ghost",{start:function(){var t=n(this).resizable("instance"),i=t.size;t.ghost=t.originalElement.clone();t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0});t._addClass(t.ghost,"ui-resizable-ghost");n.uiBackCompat!==!1&&"string"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost);t.ghost.appendTo(t.helper)},resize:function(){var t=n(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=n(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}});n.ui.plugin.add("resizable","grid",{resize:function(){var h,t=n(this).resizable("instance"),i=t.options,y=t.size,o=t.originalSize,s=t.originalPosition,c=t.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,f=l[0]||1,e=l[1]||1,a=Math.round((y.width-o.width)/f)*f,v=Math.round((y.height-o.height)/e)*e,r=o.width+a,u=o.height+v,p=i.maxWidth&&r>i.maxWidth,w=i.maxHeight&&u>i.maxHeight,b=i.minWidth&&i.minWidth>r,k=i.minHeight&&i.minHeight>u;i.grid=l;b&&(r+=f);k&&(u+=e);p&&(r-=f);w&&(u-=e);/^(se|s|e)$/.test(c)?(t.size.width=r,t.size.height=u):/^(ne)$/.test(c)?(t.size.width=r,t.size.height=u,t.position.top=s.top-v):/^(sw)$/.test(c)?(t.size.width=r,t.size.height=u,t.position.left=s.left-a):((0>=u-e||0>=r-f)&&(h=t._getPaddingPlusBorderDimensions(this)),u-e>0?(t.size.height=u,t.position.top=s.top-v):(u=e-h.height,t.size.height=u,t.position.top=s.top+o.height-u),r-f>0?(t.size.width=r,t.position.left=s.left-a):(r=f-h.width,t.size.width=r,t.position.left=s.left+o.width-r))}});n.ui.resizable;n.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=n(this).css(t).offset().top;0>i&&n(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height};this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.originalTitle=this.element.attr("title");null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle);this.options.disabled&&(this.options.disabled=!1);this._createWrapper();this.element.show().removeAttr("title").appendTo(this.uiDialog);this._addClass("ui-dialog-content","ui-widget-content");this._createTitlebar();this._createButtonPane();this.options.draggable&&n.fn.draggable&&this._makeDraggable();this.options.resizable&&n.fn.resizable&&this._makeResizable();this._isOpen=!1;this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?n(t):this.document.find(t||"body").eq(0)},_destroy:function(){var n,t=this.originalPosition;this._untrackInstance();this._destroyOverlay();this.element.removeUniqueId().css(this.originalCss).detach();this.uiDialog.remove();this.originalTitle&&this.element.attr("title",this.originalTitle);n=t.parent.children().eq(t.index);n.length&&n[0]!==this.element[0]?n.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:n.noop,enable:n.noop,close:function(t){var i=this;this._isOpen&&this._trigger("beforeClose",t)!==!1&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||n.ui.safeBlur(n.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,i){var r=!1,f=this.uiDialog.siblings(".ui-front:visible").map(function(){return+n(this).css("z-index")}).get(),u=Math.max.apply(null,f);return u>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",u+1),r=!0),r&&!i&&this._trigger("focus",t),r},open:function(){var t=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),void 0):(this._isOpen=!0,this.opener=n(n.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable();t._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"),void 0)},_focusTabbable:function(){var n=this._focusedElement;n||(n=this.element.find("[autofocus]"));n.length||(n=this.element.find(":tabbable"));n.length||(n=this.uiDialogButtonPane.find(":tabbable"));n.length||(n=this.uiDialogTitlebarClose.filter(":tabbable"));n.length||(n=this.uiDialog);n.eq(0).trigger("focus")},_keepFocus:function(t){function i(){var t=n.ui.safeActiveElement(this.document[0]),i=this.uiDialog[0]===t||n.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault();i.call(this);this._delay(i)},_createWrapper:function(){this.uiDialog=n("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo());this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front");this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===n.ui.keyCode.ESCAPE)return t.preventDefault(),this.close(t),void 0;if(t.keyCode===n.ui.keyCode.TAB&&!t.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),r=i.filter(":first"),u=i.filter(":last");t.target!==u[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==r[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){u.trigger("focus")}),t.preventDefault()):(this._delay(function(){r.trigger("focus")}),t.preventDefault())}},mousedown:function(n){this._moveToTop(n)&&this._focusTabbable()}});this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=n("<div>");this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix");this._on(this.uiDialogTitlebar,{mousedown:function(t){n(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}});this.uiDialogTitlebarClose=n("<button type='button'><\/button>").button({label:n("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar);this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close");this._on(this.uiDialogTitlebarClose,{click:function(n){n.preventDefault();this.close(n)}});t=n("<span>").uniqueId().prependTo(this.uiDialogTitlebar);this._addClass(t,"ui-dialog-title");this._title(t);this.uiDialogTitlebar.prependTo(this.uiDialog);this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(n){this.options.title?n.text(this.options.title):n.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=n("<div>");this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix");this.uiButtonSet=n("<div>").appendTo(this.uiDialogButtonPane);this._addClass(this.uiButtonSet,"ui-dialog-buttonset");this._createButtons()},_createButtons:function(){var i=this,t=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),n.isEmptyObject(t)||n.isArray(t)&&!t.length?(this._removeClass(this.uiDialog,"ui-dialog-buttons"),void 0):(n.each(t,function(t,r){var u,f;r=n.isFunction(r)?{click:r,text:t}:r;r=n.extend({type:"button"},r);u=r.click;f={icon:r.icon,iconPosition:r.iconPosition,showLabel:r.showLabel,icons:r.icons,text:r.text};delete r.click;delete r.icon;delete r.iconPosition;delete r.showLabel;delete r.icons;"boolean"==typeof r.text&&delete r.text;n("<button><\/button>",r).button(f).appendTo(i.uiButtonSet).on("click",function(){u.apply(i.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),void 0)},_makeDraggable:function(){function i(n){return{position:n.position,offset:n.offset}}var t=this,r=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(r,u){t._addClass(n(this),"ui-dialog-dragging");t._blockFrames();t._trigger("dragStart",r,i(u))},drag:function(n,r){t._trigger("drag",n,i(r))},stop:function(u,f){var e=f.offset.left-t.document.scrollLeft(),o=f.offset.top-t.document.scrollTop();r.position={my:"left top",at:"left"+(e>=0?"+":"")+e+" top"+(o>=0?"+":"")+o,of:t.window};t._removeClass(n(this),"ui-dialog-dragging");t._unblockFrames();t._trigger("dragStop",u,i(f))}})},_makeResizable:function(){function r(n){return{originalPosition:n.originalPosition,originalSize:n.originalSize,position:n.position,size:n.size}}var t=this,i=this.options,u=i.resizable,f=this.uiDialog.css("position"),e="string"==typeof u?u:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:e,start:function(i,u){t._addClass(n(this),"ui-dialog-resizing");t._blockFrames();t._trigger("resizeStart",i,r(u))},resize:function(n,i){t._trigger("resize",n,r(i))},stop:function(u,f){var e=t.uiDialog.offset(),o=e.left-t.document.scrollLeft(),s=e.top-t.document.scrollTop();i.height=t.uiDialog.height();i.width=t.uiDialog.width();i.position={my:"left top",at:"left"+(o>=0?"+":"")+o+" top"+(s>=0?"+":"")+s,of:t.window};t._removeClass(n(this),"ui-dialog-resizing");t._unblockFrames();t._trigger("resizeStop",u,r(f))}}).css("position",f)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget();this._focusedElement=n(t.target)}})},_makeFocusTarget:function(){this._untrackInstance();this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),i=n.inArray(this,t);-1!==i&&t.splice(i,1)},_trackingInstances:function(){var n=this.document.data("ui-dialog-instances");return n||(n=[],this.document.data("ui-dialog-instances",n)),n},_minHeight:function(){var n=this.options;return"auto"===n.height?n.minHeight:Math.min(n.minHeight,n.height)},_position:function(){var n=this.uiDialog.is(":visible");n||this.uiDialog.show();this.uiDialog.position(this.options.position);n||this.uiDialog.hide()},_setOptions:function(t){var i=this,r=!1,u={};n.each(t,function(n,t){i._setOption(n,t);n in i.sizeRelatedOptions&&(r=!0);n in i.resizableRelatedOptions&&(u[n]=t)});r&&(this._size(),this._position());this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",u)},_setOption:function(t,i){var f,u,r=this.uiDialog;"disabled"!==t&&(this._super(t,i),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:n("<a>").text(""+this.options.closeText).html()}),"draggable"===t&&(f=r.is(":data(ui-draggable)"),f&&!i&&r.draggable("destroy"),!f&&i&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&(u=r.is(":data(ui-resizable)"),u&&!i&&r.resizable("destroy"),u&&"string"==typeof i&&r.resizable("option","handles",i),u||i===!1||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,i,r,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0});n.minWidth>n.width&&(n.width=n.minWidth);t=this.uiDialog.css({height:"auto",width:n.width}).outerHeight();i=Math.max(0,n.minHeight-t);r="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-t):"none";"auto"===n.height?this.element.css({minHeight:i,maxHeight:r,height:"auto"}):this.element.height(Math.max(0,n.height-t));this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=n(this);return n("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return n(t.target).closest(".ui-dialog").length?!0:!!n(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1});this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(n){t||this._allowInteraction(n)||(n.preventDefault(),this._trackingInstances()[0]._focusTabbable())}});this.overlay=n("<div>").appendTo(this._appendTo());this._addClass(this.overlay,null,"ui-widget-overlay ui-front");this._on(this.overlay,{mousedown:"_keepFocus"});this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var n=this.document.data("ui-dialog-overlays")-1;n?this.document.data("ui-dialog-overlays",n):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays"));this.overlay.remove();this.overlay=null}}});n.uiBackCompat!==!1&&n.widget("ui.dialog",n.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super();this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(n,t){"dialogClass"===n&&this.uiDialog.removeClass(this.options.dialogClass).addClass(t);this._superApply(arguments)}});n.ui.dialog;n.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,r=i.accept;this.isover=!1;this.isout=!0;this.accept=n.isFunction(r)?r:function(n){return n.is(r)};this.proportions=function(){return arguments.length?(t=arguments[0],void 0):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}};this._addToManager(i.scope);i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(t){n.ui.ddmanager.droppables[t]=n.ui.ddmanager.droppables[t]||[];n.ui.ddmanager.droppables[t].push(this)},_splice:function(n){for(var t=0;n.length>t;t++)n[t]===this&&n.splice(t,1)},_destroy:function(){var t=n.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,i){if("accept"===t)this.accept=n.isFunction(i)?i:function(n){return n.is(i)};else if("scope"===t){var r=n.ui.ddmanager.droppables[this.options.scope];this._splice(r);this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=n.ui.ddmanager.current;this._addActiveClass();i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=n.ui.ddmanager.current;this._removeActiveClass();i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=n.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=n.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var r=i||n.ui.ddmanager.current,u=!1;return r&&(r.currentItem||r.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=n(this).droppable("instance");if(i.options.greedy&&!i.options.disabled&&i.options.scope===r.options.scope&&i.accept.call(i.element[0],r.currentItem||r.element)&&e(r,n.extend(i,{offset:i.element.offset()}),i.options.tolerance,t))return(u=!0,!1)}),u?!1:this.accept.call(this.element[0],r.currentItem||r.element)?(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",t,this.ui(r)),this.element):!1):!1},ui:function(n){return{draggable:n.currentItem||n.element,helper:n.helper,position:n.position,offset:n.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});e=n.ui.intersect=function(){function n(n,t,i){return n>=t&&t+i>n}return function(t,i,r,u){if(!i.offset)return!1;var o=(t.positionAbs||t.position.absolute).left+t.margins.left,s=(t.positionAbs||t.position.absolute).top+t.margins.top,h=o+t.helperProportions.width,c=s+t.helperProportions.height,f=i.offset.left,e=i.offset.top,l=f+i.proportions().width,a=e+i.proportions().height;switch(r){case"fit":return o>=f&&l>=h&&s>=e&&a>=c;case"intersect":return o+t.helperProportions.width/2>f&&l>h-t.helperProportions.width/2&&s+t.helperProportions.height/2>e&&a>c-t.helperProportions.height/2;case"pointer":return n(u.pageY,e,i.proportions().height)&&n(u.pageX,f,i.proportions().width);case"touch":return(s>=e&&a>=s||c>=e&&a>=c||e>s&&c>a)&&(o>=f&&l>=o||h>=f&&l>=h||f>o&&h>l);default:return!1}}}();n.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var r,f,u=n.ui.ddmanager.droppables[t.options.scope]||[],o=i?i.type:null,e=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();n:for(r=0;u.length>r;r++)if(!(u[r].options.disabled||t&&!u[r].accept.call(u[r].element[0],t.currentItem||t.element))){for(f=0;e.length>f;f++)if(e[f]===u[r].element[0]){u[r].proportions().height=0;continue n}u[r].visible="none"!==u[r].element.css("display");u[r].visible&&("mousedown"===o&&u[r]._activate.call(u[r],i),u[r].offset=u[r].element.offset(),u[r].proportions({width:u[r].element[0].offsetWidth,height:u[r].element[0].offsetHeight}))}},drop:function(t,i){var r=!1;return n.each((n.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e(t,this,this.options.tolerance,i)&&(r=this._drop.call(this,i)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),r},dragStart:function(t,i){t.element.parentsUntil("body").on("scroll.droppable",function(){t.options.refreshPositions||n.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&n.ui.ddmanager.prepareOffsets(t,i);n.each(n.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var r,o,f,s=e(t,this,this.options.tolerance,i),u=!s&&this.isover?"isout":s&&!this.isover?"isover":null;u&&(this.options.greedy&&(o=this.options.scope,f=this.element.parents(":data(ui-droppable)").filter(function(){return n(this).droppable("instance").options.scope===o}),f.length&&(r=n(f[0]).droppable("instance"),r.greedyChild="isover"===u)),r&&"isover"===u&&(r.isover=!1,r.isout=!0,r._out.call(r,i)),this[u]=!0,this["isout"===u?"isover":"isout"]=!1,this["isover"===u?"_over":"_out"].call(this,i),r&&"isout"===u&&(r.isout=!1,r.isover=!0,r._over.call(r,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").off("scroll.droppable");t.options.refreshPositions||n.ui.ddmanager.prepareOffsets(t,i)}};n.uiBackCompat!==!1&&n.widget("ui.droppable",n.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super();this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super();this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super();this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super();this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});n.ui.droppable;n.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue();this.element.attr({role:"progressbar","aria-valuemin":this.min});this._addClass("ui-progressbar","ui-widget ui-widget-content");this.valueDiv=n("<div>").appendTo(this.element);this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header");this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow");this.valueDiv.remove()},value:function(n){return void 0===n?this.options.value:(this.options.value=this._constrainedValue(n),this._refreshValue(),void 0)},_constrainedValue:function(n){return void 0===n&&(n=this.options.value),this.indeterminate=n===!1,"number"!=typeof n&&(n=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,n))},_setOptions:function(n){var t=n.value;delete n.value;this._super(n);this.options.value=this._constrainedValue(t);this._refreshValue()},_setOption:function(n,t){"max"===n&&(t=Math.max(this.min,t));this._super(n,t)},_setOptionDisabled:function(n){this._super(n);this.element.attr("aria-disabled",n);this._toggleClass(null,"ui-state-disabled",!!n)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).width(i.toFixed(0)+"%");this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,t===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate);this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=n("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null));this.oldValue!==t&&(this.oldValue=t,this._trigger("change"));t===this.options.max&&this._trigger("complete")}});n.widget("ui.selectable",n.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t=this;this._addClass("ui-selectable");this.dragged=!1;this.refresh=function(){t.elementPos=n(t.element[0]).offset();t.selectees=n(t.options.filter,t.element[0]);t._addClass(t.selectees,"ui-selectee");t.selectees.each(function(){var i=n(this),u=i.offset(),r={left:u.left-t.elementPos.left,top:u.top-t.elementPos.top};n.data(this,"selectable-item",{element:this,$element:i,left:r.left,top:r.top,right:r.left+i.outerWidth(),bottom:r.top+i.outerHeight(),startselected:!1,selected:i.hasClass("ui-selected"),selecting:i.hasClass("ui-selecting"),unselecting:i.hasClass("ui-unselecting")})})};this.refresh();this._mouseInit();this.helper=n("<div>");this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item");this._mouseDestroy()},_mouseStart:function(t){var i=this,r=this.options;this.opos=[t.pageX,t.pageY];this.elementPos=n(this.element[0]).offset();this.options.disabled||(this.selectees=n(r.filter,this.element[0]),this._trigger("start",t),n(r.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),r.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var r=n.data(this,"selectable-item");r.startselected=!0;t.metaKey||t.ctrlKey||(i._removeClass(r.$element,"ui-selected"),r.selected=!1,i._addClass(r.$element,"ui-unselecting"),r.unselecting=!0,i._trigger("unselecting",t,{unselecting:r.element}))}),n(t.target).parents().addBack().each(function(){var u,r=n.data(this,"selectable-item");if(r)return(u=!t.metaKey&&!t.ctrlKey||!r.$element.hasClass("ui-selected"),i._removeClass(r.$element,u?"ui-unselecting":"ui-selected")._addClass(r.$element,u?"ui-selecting":"ui-unselecting"),r.unselecting=!u,r.selecting=u,r.selected=u,u?i._trigger("selecting",t,{selecting:r.element}):i._trigger("unselecting",t,{unselecting:r.element}),!1)}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var o,i=this,s=this.options,r=this.opos[0],u=this.opos[1],f=t.pageX,e=t.pageY;return r>f&&(o=f,f=r,r=o),u>e&&(o=e,e=u,u=o),this.helper.css({left:r,top:u,width:f-r,height:e-u}),this.selectees.each(function(){var o=n.data(this,"selectable-item"),c=!1,h={};o&&o.element!==i.element[0]&&(h.left=o.left+i.elementPos.left,h.right=o.right+i.elementPos.left,h.top=o.top+i.elementPos.top,h.bottom=o.bottom+i.elementPos.top,"touch"===s.tolerance?c=!(h.left>f||r>h.right||h.top>e||u>h.bottom):"fit"===s.tolerance&&(c=h.left>r&&f>h.right&&h.top>u&&e>h.bottom),c?(o.selected&&(i._removeClass(o.$element,"ui-selected"),o.selected=!1),o.unselecting&&(i._removeClass(o.$element,"ui-unselecting"),o.unselecting=!1),o.selecting||(i._addClass(o.$element,"ui-selecting"),o.selecting=!0,i._trigger("selecting",t,{selecting:o.element}))):(o.selecting&&((t.metaKey||t.ctrlKey)&&o.startselected?(i._removeClass(o.$element,"ui-selecting"),o.selecting=!1,i._addClass(o.$element,"ui-selected"),o.selected=!0):(i._removeClass(o.$element,"ui-selecting"),o.selecting=!1,o.startselected&&(i._addClass(o.$element,"ui-unselecting"),o.unselecting=!0),i._trigger("unselecting",t,{unselecting:o.element}))),o.selected&&(t.metaKey||t.ctrlKey||o.startselected||(i._removeClass(o.$element,"ui-selected"),o.selected=!1,i._addClass(o.$element,"ui-unselecting"),o.unselecting=!0,i._trigger("unselecting",t,{unselecting:o.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,n(".ui-unselecting",this.element[0]).each(function(){var r=n.data(this,"selectable-item");i._removeClass(r.$element,"ui-unselecting");r.unselecting=!1;r.startselected=!1;i._trigger("unselected",t,{unselected:r.element})}),n(".ui-selecting",this.element[0]).each(function(){var r=n.data(this,"selectable-item");i._removeClass(r.$element,"ui-selecting")._addClass(r.$element,"ui-selected");r.selecting=!1;r.selected=!0;r.startselected=!0;i._trigger("selected",t,{selected:r.element})}),this._trigger("stop",t),this.helper.remove(),!1}});n.widget("ui.selectmenu",[n.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr("id");this.ids={element:t,button:t+"-button",menu:t+"-menu"};this._drawButton();this._drawMenu();this._bindFormResetHandler();this._rendered=!1;this.menuItems=n()},_drawButton:function(){var t,i=this,r=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button);this._on(this.labels,{click:function(n){this.button.focus();n.preventDefault()}});this.element.hide();this.button=n("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element);this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget");t=n("<span>").appendTo(this.button);this._addClass(t,"ui-selectmenu-icon","ui-icon "+this.options.icons.button);this.buttonItem=this._renderButtonItem(r).appendTo(this.button);this.options.width!==!1&&this._resizeButton();this._on(this.button,this._buttonEvents);this.button.one("focusin",function(){i._rendered||i._refreshMenu()})},_drawMenu:function(){var t=this;this.menu=n("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu});this.menuWrap=n("<div>").append(this.menu);this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front");this.menuWrap.appendTo(this._appendTo());this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(n,i){n.preventDefault();t._setSelection();t._select(i.item.data("ui-selectmenu-item"),n)},focus:function(n,i){var r=i.item.data("ui-selectmenu-item");null!=t.focusIndex&&r.index!==t.focusIndex&&(t._trigger("focus",n,{item:r}),t.isOpen||t._select(r,n));t.focusIndex=r.index;t.button.attr("aria-activedescendant",t.menuItems.eq(r.index).attr("id"))}}).menu("instance");this.menuInstance._off(this.menu,"mouseleave");this.menuInstance._closeOnDocumentClick=function(){return!1};this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu();this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{}));null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var n,t=this.element.find("option");this.menu.empty();this._parseOptions(t);this._renderMenu(this.menu,this.items);this.menuInstance.refresh();this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper");this._rendered=!0;t.length&&(n=this._getSelectedItem(),this.menuInstance.focus(null,n),this._setAria(n.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(n){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",n)))},_position:function(){this.menuWrap.position(n.extend({of:this.button},this.options.position))},close:function(n){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",n))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(t){var i=n("<span>");return this._setText(i,t.label),this._addClass(i,"ui-selectmenu-text"),i},_renderMenu:function(t,i){var r=this,u="";n.each(i,function(i,f){var e;f.optgroup!==u&&(e=n("<li>",{text:f.optgroup}),r._addClass(e,"ui-selectmenu-optgroup","ui-menu-divider"+(f.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),e.appendTo(t),u=f.optgroup);r._renderItemData(t,f)})},_renderItemData:function(n,t){return this._renderItem(n,t).data("ui-selectmenu-item",t)},_renderItem:function(t,i){var r=n("<li>"),u=n("<div>",{title:i.element.attr("title")});return i.disabled&&this._addClass(r,null,"ui-state-disabled"),this._setText(u,i.label),r.append(u).appendTo(t)},_setText:function(n,t){t?n.text(t):n.html("&#160;")},_move:function(n,t){var i,r,u=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex).parent("li"):(i=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),u+=":not(.ui-state-disabled)");r="first"===n||"last"===n?i["first"===n?"prevAll":"nextAll"](u).eq(-1):i[n+"All"](u).eq(0);r.length&&this.menuInstance.focus(t,r)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(n){this[this.isOpen?"close":"open"](n)},_setSelection:function(){var n;this.range&&(window.getSelection?(n=window.getSelection(),n.removeAllRanges(),n.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(n(t.target).closest(".ui-selectmenu-menu, #"+n.ui.escapeSelector(this.ids.button)).length||this.close(t))}},_buttonEvents:{mousedown:function(){var n;window.getSelection?(n=window.getSelection(),n.rangeCount&&(this.range=n.getRangeAt(0))):this.range=document.selection.createRange()},click:function(n){this._setSelection();this._toggle(n)},keydown:function(t){var i=!0;switch(t.keyCode){case n.ui.keyCode.TAB:case n.ui.keyCode.ESCAPE:this.close(t);i=!1;break;case n.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case n.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case n.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case n.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case n.ui.keyCode.LEFT:this._move("prev",t);break;case n.ui.keyCode.RIGHT:this._move("next",t);break;case n.ui.keyCode.HOME:case n.ui.keyCode.PAGE_UP:this._move("first",t);break;case n.ui.keyCode.END:case n.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t);i=!1}i&&t.preventDefault()}},_selectFocusedItem:function(n){var t=this.menuItems.eq(this.focusIndex).parent("li");t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),n)},_select:function(n,t){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=n.index;this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(n));this._setAria(n);this._trigger("select",t,{item:n});n.index!==i&&this._trigger("change",t,{item:n});this.close(t)},_setAria:function(n){var t=this.menuItems.eq(n.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t});this.menu.attr("aria-activedescendant",t)},_setOption:function(n,t){if("icons"===n){var i=this.button.find("span.ui-icon");this._removeClass(i,null,this.options.icons.button)._addClass(i,null,t.button)}this._super(n,t);"appendTo"===n&&this.menuWrap.appendTo(this._appendTo());"width"===n&&this._resizeButton()},_setOptionDisabled:function(n){this._super(n);this.menuInstance.option("disabled",n);this.button.attr("aria-disabled",n);this._toggleClass(this.button,null,"ui-state-disabled",n);this.element.prop("disabled",n);n?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?n(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front, dialog")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen);this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen);this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var n=this.options.width;return n===!1?(this.button.css("width",""),void 0):(null===n&&(n=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(n),void 0)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var n=this._super();return n.disabled=this.element.prop("disabled"),n},_parseOptions:function(t){var r=this,i=[];t.each(function(t,u){i.push(r._parseOption(n(u),t))});this.items=i},_parseOption:function(n,t){var i=n.parent("optgroup");return{element:n,index:t,value:n.val(),label:n.text(),optgroup:i.attr("label")||"",disabled:i.prop("disabled")||n.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler();this.menuWrap.remove();this.button.remove();this.element.show();this.element.removeUniqueId();this.labels.attr("for",this.ids.element)}}]);n.widget("ui.slider",n.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1;this._mouseSliding=!1;this._animateOff=!0;this._handleIndex=null;this._detectOrientation();this._mouseInit();this._calculateNewMax();this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content");this._refresh();this._animateOff=!1},_refresh:function(){this._createRange();this._createHandles();this._setupEvents();this._refreshValue()},_createHandles:function(){var r,i,u=this.options,t=this.element.find(".ui-slider-handle"),f=[];for(i=u.values&&u.values.length||1,t.length>i&&(t.slice(i).remove(),t=t.slice(0,i)),r=t.length;i>r;r++)f.push("<span tabindex='0'><\/span>");this.handles=t.add(n(f.join("")).appendTo(this.element));this._addClass(this.handles,"ui-slider-handle","ui-state-default");this.handle=this.handles.eq(0);this.handles.each(function(t){n(this).data("ui-slider-handle-index",t).attr("tabIndex",0)})},_createRange:function(){var t=this.options;t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:n.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=n("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),("min"===t.range||"max"===t.range)&&this._addClass(this.range,"ui-slider-range-"+t.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles);this._on(this.handles,this._handleEvents);this._hoverable(this.handles);this._focusable(this.handles)},_destroy:function(){this.handles.remove();this.range&&this.range.remove();this._mouseDestroy()},_mouseCapture:function(t){var s,f,r,i,u,h,e,c,o=this,l=this.options;return l.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),s={x:t.pageX,y:t.pageY},f=this._normValueFromMouse(s),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var e=Math.abs(f-o.values(t));(r>e||r===e&&(t===o._lastChangedValue||o.values(t)===l.min))&&(r=e,i=n(this),u=t)}),h=this._start(t,u),h===!1?!1:(this._mouseSliding=!0,this._handleIndex=u,this._addClass(i,null,"ui-state-active"),i.trigger("focus"),e=i.offset(),c=!n(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:t.pageX-e.left-i.width()/2,top:t.pageY-e.top-i.height()/2-(parseInt(i.css("borderTopWidth"),10)||0)-(parseInt(i.css("borderBottomWidth"),10)||0)+(parseInt(i.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,u,f),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(n){var t={x:n.pageX,y:n.pageY},i=this._normValueFromMouse(t);return this._slide(n,this._handleIndex,i),!1},_mouseStop:function(n){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(n,this._handleIndex),this._change(n,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(n){var i,r,t,u,f;return"horizontal"===this.orientation?(i=this.elementSize.width,r=n.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(i=this.elementSize.height,r=n.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),t=r/i,t>1&&(t=1),0>t&&(t=0),"vertical"===this.orientation&&(t=1-t),u=this._valueMax()-this._valueMin(),f=this._valueMin()+t*u,this._trimAlignValue(f)},_uiHash:function(n,t,i){var r={handle:this.handles[n],handleIndex:n,value:void 0!==t?t:this.value()};return this._hasMultipleValues()&&(r.value=void 0!==t?t:this.values(n),r.values=i||this.values()),r},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(n,t){return this._trigger("start",n,this._uiHash(t))},_slide:function(n,t,i){var u,r,f=this.value(),e=this.values();this._hasMultipleValues()&&(r=this.values(t?0:1),f=this.values(t),2===this.options.values.length&&this.options.range===!0&&(i=0===t?Math.min(r,i):Math.max(r,i)),e[t]=i);i!==f&&(u=this._trigger("slide",n,this._uiHash(t,i,e)),u!==!1&&(this._hasMultipleValues()?this.values(t,i):this.value(i)))},_stop:function(n,t){this._trigger("stop",n,this._uiHash(t))},_change:function(n,t){this._keySliding||this._mouseSliding||(this._lastChangedValue=t,this._trigger("change",n,this._uiHash(t)))},value:function(n){return arguments.length?(this.options.value=this._trimAlignValue(n),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(t,i){var u,f,r;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),this._change(null,t),void 0;if(!arguments.length)return this._values();if(!n.isArray(arguments[0]))return this._hasMultipleValues()?this._values(t):this.value();for(u=this.options.values,f=arguments[0],r=0;u.length>r;r+=1)u[r]=this._trimAlignValue(f[r]),this._change(null,r);this._refreshValue()},_setOption:function(t,i){var r,u=0;switch("range"===t&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),n.isArray(this.options.values)&&(u=this.options.values.length),this._super(t,i),t){case"orientation":this._detectOrientation();this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation);this._refreshValue();this.options.range&&this._refreshRange(i);this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0;this._refreshValue();this._change(null,0);this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),r=u-1;r>=0;r--)this._change(null,r);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0;this._calculateNewMax();this._refreshValue();this._animateOff=!1;break;case"range":this._animateOff=!0;this._refresh();this._animateOff=!1}},_setOptionDisabled:function(n){this._super(n);this._toggleClass(null,"ui-state-disabled",!!n)},_value:function(){var n=this.options.value;return this._trimAlignValue(n)},_values:function(n){var r,t,i;if(arguments.length)return r=this.options.values[n],r=this._trimAlignValue(r);if(this._hasMultipleValues()){for(t=this.options.values.slice(),i=0;t.length>i;i+=1)t[i]=this._trimAlignValue(t[i]);return t}return[]},_trimAlignValue:function(n){if(this._valueMin()>=n)return this._valueMin();if(n>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(n-this._valueMin())%t,r=n-i;return 2*Math.abs(i)>=t&&(r+=i>0?t:-t),parseFloat(r.toFixed(5))},_calculateNewMax:function(){var n=this.options.max,i=this._valueMin(),t=this.options.step,r=Math.round((n-i)/t)*t;n=r+i;n>this.options.max&&(n-=t);this.max=parseFloat(n.toFixed(this._precision()))},_precision:function(){var n=this._precisionOf(this.options.step);return null!==this.options.min&&(n=Math.max(n,this._precisionOf(this.options.min))),n},_precisionOf:function(n){var t=""+n,i=t.indexOf(".");return-1===i?0:t.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(n){"vertical"===n&&this.range.css({width:"",left:""});"horizontal"===n&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var s,t,c,f,h,e=this.options.range,i=this.options,r=this,u=this._animateOff?!1:i.animate,o={};this._hasMultipleValues()?this.handles.each(function(f){t=100*((r.values(f)-r._valueMin())/(r._valueMax()-r._valueMin()));o["horizontal"===r.orientation?"left":"bottom"]=t+"%";n(this).stop(1,1)[u?"animate":"css"](o,i.animate);r.options.range===!0&&("horizontal"===r.orientation?(0===f&&r.range.stop(1,1)[u?"animate":"css"]({left:t+"%"},i.animate),1===f&&r.range[u?"animate":"css"]({width:t-s+"%"},{queue:!1,duration:i.animate})):(0===f&&r.range.stop(1,1)[u?"animate":"css"]({bottom:t+"%"},i.animate),1===f&&r.range[u?"animate":"css"]({height:t-s+"%"},{queue:!1,duration:i.animate})));s=t}):(c=this.value(),f=this._valueMin(),h=this._valueMax(),t=h!==f?100*((c-f)/(h-f)):0,o["horizontal"===this.orientation?"left":"bottom"]=t+"%",this.handle.stop(1,1)[u?"animate":"css"](o,i.animate),"min"===e&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:t+"%"},i.animate),"max"===e&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:100-t+"%"},i.animate),"min"===e&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:t+"%"},i.animate),"max"===e&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:100-t+"%"},i.animate))},_handleEvents:{keydown:function(t){var e,r,i,u,f=n(t.target).data("ui-slider-handle-index");switch(t.keyCode){case n.ui.keyCode.HOME:case n.ui.keyCode.END:case n.ui.keyCode.PAGE_UP:case n.ui.keyCode.PAGE_DOWN:case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(n(t.target),null,"ui-state-active"),e=this._start(t,f),e===!1))return}switch(u=this.options.step,r=i=this._hasMultipleValues()?this.values(f):this.value(),t.keyCode){case n.ui.keyCode.HOME:i=this._valueMin();break;case n.ui.keyCode.END:i=this._valueMax();break;case n.ui.keyCode.PAGE_UP:i=this._trimAlignValue(r+(this._valueMax()-this._valueMin())/this.numPages);break;case n.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(r-(this._valueMax()-this._valueMin())/this.numPages);break;case n.ui.keyCode.UP:case n.ui.keyCode.RIGHT:if(r===this._valueMax())return;i=this._trimAlignValue(r+u);break;case n.ui.keyCode.DOWN:case n.ui.keyCode.LEFT:if(r===this._valueMin())return;i=this._trimAlignValue(r-u)}this._slide(t,f,i)},keyup:function(t){var i=n(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),this._removeClass(n(t.target),null,"ui-state-active"))}}});n.widget("ui.sortable",n.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(n,t,i){return n>=t&&t+i>n},_isFloating:function(n){return/left|right/.test(n.css("float"))||/inline|table-cell/.test(n.css("display"))},_create:function(){this.containerCache={};this._addClass("ui-sortable");this.refresh();this.offset=this.element.offset();this._mouseInit();this._setHandleClassName();this.ready=!0},_setOption:function(n,t){this._super(n,t);"handle"===n&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle");n.each(this.items,function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var n=this.items.length-1;n>=0;n--)this.items[n].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var r=null,f=!1,u=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),n(t.target).parents().each(function(){if(n.data(this,u.widgetName+"-item")===u)return(r=n(this),!1)}),n.data(t.target,u.widgetName+"-item")===u&&(r=n(t.target)),r?!this.options.handle||i||(n(this.options.handle,r).find("*").addBack().each(function(){this===t.target&&(f=!0)}),f)?(this.currentItem=r,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(t,i,r){var f,e,u=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},n.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,u.cursorAt&&this._adjustOffsetFromHelper(u.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),u.containment&&this._setContainment(),u.cursor&&"auto"!==u.cursor&&(e=this.document.find("body"),this.storedCursor=e.css("cursor"),e.css("cursor",u.cursor),this.storedStylesheet=n("<style>*{ cursor: "+u.cursor+" !important; }<\/style>").appendTo(e)),u.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",u.opacity)),u.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",u.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(f=this.containers.length-1;f>=0;f--)this.containers[f]._trigger("activate",t,this._uiHash(this));return n.ui.ddmanager&&(n.ui.ddmanager.current=this),n.ui.ddmanager&&!u.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var e,u,f,o,i=this.options,r=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-this.overflowOffset.top<i.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-i.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-this.overflowOffset.left<i.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-i.scrollSpeed)):(t.pageY-this.document.scrollTop()<i.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-i.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<i.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+i.scrollSpeed)),t.pageX-this.document.scrollLeft()<i.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-i.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<i.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+i.scrollSpeed))),r!==!1&&n.ui.ddmanager&&!i.dropBehaviour&&n.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e=this.items.length-1;e>=0;e--)if(u=this.items[e],f=u.item[0],o=this._intersectsWithPointer(u),o&&u.instance===this.currentContainer&&f!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==f&&!n.contains(this.placeholder[0],f)&&("semi-dynamic"===this.options.type?!n.contains(this.element[0],f):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(u))break;this._rearrange(t,u);this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),n.ui.ddmanager&&n.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(n.ui.ddmanager&&!this.options.dropBehaviour&&n.ui.ddmanager.drop(this,t),this.options.revert){var e=this,f=this.placeholder.offset(),r=this.options.axis,u={};r&&"x"!==r||(u.left=f.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft));r&&"y"!==r||(u.top=f.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop));this.reverting=!0;n(this.helper).animate(u,parseInt(this.options.revert,10)||500,function(){e._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new n.Event("mouseup",{target:null}));"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),n.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?n(this.domPosition.prev).after(this.currentItem):n(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var r=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n(r).each(function(){var r=(n(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);r&&i.push((t.key||r[1]+"[]")+"="+(t.key&&t.expression?r[1]:r[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var r=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},r.each(function(){i.push(n(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(n){var t=this.positionAbs.left,h=t+this.helperProportions.width,i=this.positionAbs.top,c=i+this.helperProportions.height,r=n.left,f=r+n.width,u=n.top,e=u+n.height,o=this.offset.click.top,s=this.offset.click.left,l="x"===this.options.axis||i+o>u&&e>i+o,a="y"===this.options.axis||t+s>r&&f>t+s,v=l&&a;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>n[this.floating?"width":"height"]?v:t+this.helperProportions.width/2>r&&f>h-this.helperProportions.width/2&&i+this.helperProportions.height/2>u&&e>c-this.helperProportions.height/2},_intersectsWithPointer:function(n){var t,i,r="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,n.top,n.height),u="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,n.left,n.width),f=r&&u;return f?(t=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===t?2:1:t&&("down"===t?2:1)):!1},_intersectsWithSides:function(n){var r=this._isOverAxis(this.positionAbs.top+this.offset.click.top,n.top+n.height/2,n.height),u=this._isOverAxis(this.positionAbs.left+this.offset.click.left,n.left+n.width/2,n.width),t=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection();return this.floating&&i?"right"===i&&u||"left"===i&&!u:t&&("down"===t&&r||"up"===t&&!r)},_getDragVerticalDirection:function(){var n=this.positionAbs.top-this.lastPositionAbs.top;return 0!==n&&(n>0?"down":"up")},_getDragHorizontalDirection:function(){var n=this.positionAbs.left-this.lastPositionAbs.left;return 0!==n&&(n>0?"right":"left")},refresh:function(n){return this._refreshItems(n),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var n=this.options;return n.connectWith.constructor===String?[n.connectWith]:n.connectWith},_getItemsAsjQuery:function(t){function h(){s.push(this)}var r,u,e,i,s=[],f=[],o=this._connectWith();if(o&&t)for(r=o.length-1;r>=0;r--)for(e=n(o[r],this.document[0]),u=e.length-1;u>=0;u--)i=n.data(e[u],this.widgetFullName),i&&i!==this&&!i.options.disabled&&f.push([n.isFunction(i.options.items)?i.options.items.call(i.element):n(i.options.items,i.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),i]);for(f.push([n.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):n(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),r=f.length-1;r>=0;r--)f[r][0].each(h);return n(s)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=n.grep(this.items,function(n){for(var i=0;t.length>i;i++)if(t[i]===n.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[];this.containers=[this];var r,u,e,i,o,s,h,l,a=this.items,f=[[n.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):n(this.options.items,this.element),this]],c=this._connectWith();if(c&&this.ready)for(r=c.length-1;r>=0;r--)for(e=n(c[r],this.document[0]),u=e.length-1;u>=0;u--)i=n.data(e[u],this.widgetFullName),i&&i!==this&&!i.options.disabled&&(f.push([n.isFunction(i.options.items)?i.options.items.call(i.element[0],t,{item:this.currentItem}):n(i.options.items,i.element),i]),this.containers.push(i));for(r=f.length-1;r>=0;r--)for(o=f[r][1],s=f[r][0],u=0,l=s.length;l>u;u++)h=n(s[u]),h.data(this.widgetName+"-item",o),a.push({item:h,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1;this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var r,f,u,i=this.items.length-1;i>=0;i--)r=this.items[i],r.instance!==this.currentContainer&&this.currentContainer&&r.item[0]!==this.currentItem[0]||(f=this.options.toleranceElement?n(this.options.toleranceElement,r.item):r.item,t||(r.width=f.outerWidth(),r.height=f.outerHeight()),u=f.offset(),r.left=u.left,r.top=u.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)u=this.containers[i].element.offset(),this.containers[i].containerCache.left=u.left,this.containers[i].containerCache.top=u.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var r,i=t.options;i.placeholder&&i.placeholder.constructor!==String||(r=i.placeholder,i.placeholder={element:function(){var u=t.currentItem[0].nodeName.toLowerCase(),i=n("<"+u+">",t.document[0]);return t._addClass(i,"ui-sortable-placeholder",r||t.currentItem[0].className)._removeClass(i,"ui-sortable-helper"),"tbody"===u?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),n("<tr>",t.document[0]).appendTo(i)):"tr"===u?t._createTrPlaceholder(t.currentItem,i):"img"===u&&i.attr("src",t.currentItem.attr("src")),r||i.css("visibility","hidden"),i},update:function(n,u){(!r||i.forcePlaceholderSize)&&(u.height()||u.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),u.width()||u.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}});t.placeholder=n(i.placeholder.element.call(t.element,t.currentItem));t.currentItem.after(t.placeholder);i.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var r=this;t.children().each(function(){n("<td>&#160;<\/td>",r.document[0]).attr("colspan",n(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(t){for(var u,c,f,a,v,o,l,s,h,e=null,i=null,r=this.containers.length-1;r>=0;r--)if(!n.contains(this.currentItem[0],this.containers[r].element[0]))if(this._intersectsWith(this.containers[r].containerCache)){if(e&&n.contains(this.containers[r].element[0],e.element[0]))continue;e=this.containers[r];i=r}else this.containers[r].containerCache.over&&(this.containers[r]._trigger("out",t,this._uiHash(this)),this.containers[r].containerCache.over=0);if(e)if(1===this.containers.length)this.containers[i].containerCache.over||(this.containers[i]._trigger("over",t,this._uiHash(this)),this.containers[i].containerCache.over=1);else{for(c=1e4,f=null,s=e.floating||this._isFloating(this.currentItem),a=s?"left":"top",v=s?"width":"height",h=s?"pageX":"pageY",u=this.items.length-1;u>=0;u--)n.contains(this.containers[i].element[0],this.items[u].item[0])&&this.items[u].item[0]!==this.currentItem[0]&&(o=this.items[u].item.offset()[a],l=!1,t[h]-o>this.items[u][v]/2&&(l=!0),c>Math.abs(t[h]-o)&&(c=Math.abs(t[h]-o),f=this.items[u],this.direction=l?"up":"down"));if(!f&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[i])return this.currentContainer.containerCache.over||(this.containers[i]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;f?this._rearrange(t,f,null,!0):this._rearrange(t,null,this.containers[i].element,!0);this._trigger("change",t,this._uiHash());this.containers[i]._trigger("change",t,this._uiHash(this));this.currentContainer=this.containers[i];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[i]._trigger("over",t,this._uiHash(this));this.containers[i].containerCache.over=1}},_createHelper:function(t){var r=this.options,i=n.isFunction(r.helper)?n(r.helper.apply(this.element[0],[t,this.currentItem])):"clone"===r.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||n("parent"!==r.appendTo?r.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||r.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||r.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" "));n.isArray(t)&&(t={left:+t[0],top:+t[1]||0});"left"in t&&(this.offset.click.left=t.left+this.margins.left);"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left);"top"in t&&(this.offset.click.top=t.top+this.margins.top);"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&n.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&n.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var n=this.currentItem.position();return{top:n.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:n.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,r,u,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode);("document"===i.containment||"window"===i.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===i.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===i.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]);/^(document|window|parent)$/.test(i.containment)||(t=n(i.containment)[0],r=n(i.containment).offset(),u="hidden"!==n(t).css("overflow"),this.containment=[r.left+(parseInt(n(t).css("borderLeftWidth"),10)||0)+(parseInt(n(t).css("paddingLeft"),10)||0)-this.margins.left,r.top+(parseInt(n(t).css("borderTopWidth"),10)||0)+(parseInt(n(t).css("paddingTop"),10)||0)-this.margins.top,r.left+(u?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(n(t).css("borderLeftWidth"),10)||0)-(parseInt(n(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,r.top+(u?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(n(t).css("borderTopWidth"),10)||0)-(parseInt(n(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var r="absolute"===t?1:-1,u="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(u[0].tagName);return{top:i.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():f?0:u.scrollTop())*r,left:i.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():f?0:u.scrollLeft())*r}},_generatePosition:function(t){var r,u,i=this.options,f=t.pageX,e=t.pageY,o="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&n.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(o[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(e=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(e=this.containment[3]+this.offset.click.top)),i.grid&&(r=this.originalPageY+Math.round((e-this.originalPageY)/i.grid[1])*i.grid[1],e=this.containment?r-this.offset.click.top>=this.containment[1]&&r-this.offset.click.top<=this.containment[3]?r:r-this.offset.click.top>=this.containment[1]?r-i.grid[1]:r+i.grid[1]:r,u=this.originalPageX+Math.round((f-this.originalPageX)/i.grid[0])*i.grid[0],f=this.containment?u-this.offset.click.left>=this.containment[0]&&u-this.offset.click.left<=this.containment[2]?u:u-this.offset.click.left>=this.containment[0]?u-i.grid[0]:u+i.grid[0]:u)),{top:e-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:o.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:o.scrollLeft())}},_rearrange:function(n,t,i,r){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var u=this.counter;this._delay(function(){u===this.counter&&this.refreshPositions(!r)})},_clear:function(n,t){function u(n,t,i){return function(r){i._trigger(n,r,t._uiHash(t))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS);this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&r.push(function(n){this._trigger("receive",n,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||r.push(function(n){this._trigger("update",n,this._uiHash())}),this!==this.currentContainer&&(t||(r.push(function(n){this._trigger("remove",n,this._uiHash())}),r.push(function(n){return function(t){n._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(n){return function(t){n._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||r.push(u("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(u("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",n,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(i=0;r.length>i;i++)r[i].call(this,n);this._trigger("stop",n,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){n.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||n([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}});n.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);this._setOption("min",this.options.min);this._setOption("step",this.options.step);""!==this.value()&&this._value(this.element.val(),!0);this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t=this._super(),i=this.element;return n.each(["min","max","step"],function(n,r){var u=i.attr(r);null!=u&&u.length&&(t[r]=u)}),t},_events:{keydown:function(n){this._start(n)&&this._keydown(n)&&n.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(n){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",n),void 0)},mousewheel:function(n,t){if(t){if(!this.spinning&&!this._start(n))return!1;this._spin((t>0?1:-1)*this.options.step,n);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(n)},100);n.preventDefault()}},"mousedown .ui-spinner-button":function(t){function r(){var t=this.element[0]===n.ui.safeActiveElement(this.document[0]);t||(this.element.trigger("focus"),this.previous=i,this._delay(function(){this.previous=i}))}var i;i=this.element[0]===n.ui.safeActiveElement(this.document[0])?this.previous:this.element.val();t.preventDefault();r.call(this);this.cancelBlur=!0;this._delay(function(){delete this.cancelBlur;r.call(this)});this._start(t)!==!1&&this._repeat(null,n(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){if(n(t.currentTarget).hasClass("ui-state-active"))return this._start(t)===!1?!1:(this._repeat(null,n(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t),void 0)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a><\/a><a><\/a>")},_draw:function(){this._enhance();this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content");this._addClass("ui-spinner-input");this.element.attr("role","spinbutton");this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}});this._removeClass(this.buttons,"ui-corner-all");this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up");this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down");this.buttons.first().button({icon:this.options.icons.up,showLabel:!1});this.buttons.last().button({icon:this.options.icons.down,showLabel:!1});this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(t){var r=this.options,i=n.ui.keyCode;switch(t.keyCode){case i.UP:return this._repeat(null,1,t),!0;case i.DOWN:return this._repeat(null,-1,t),!0;case i.PAGE_UP:return this._repeat(null,r.page,t),!0;case i.PAGE_DOWN:return this._repeat(null,-r.page,t),!0}return!1},_start:function(n){return this.spinning||this._trigger("start",n)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(n,t,i){n=n||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,t,i)},n);this._spin(t*this.options.step,i)},_spin:function(n,t){var i=this.value()||0;this.counter||(this.counter=1);i=this._adjustValue(i+n*this._increment(this.counter));this.spinning&&this._trigger("spin",t,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(t){var i=this.options.incremental;return i?n.isFunction(i)?i(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var n=this._precisionOf(this.options.step);return null!==this.options.min&&(n=Math.max(n,this._precisionOf(this.options.min))),n},_precisionOf:function(n){var t=""+n,i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(n){var r,i,t=this.options;return r=null!==t.min?t.min:0,i=n-r,i=Math.round(i/t.step)*t.step,n=r+i,n=parseFloat(n.toFixed(this._precision())),null!==t.max&&n>t.max?t.max:null!==t.min&&t.min>n?t.min:n},_stop:function(n){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",n))},_setOption:function(n,t){var u,i,r;return"culture"===n||"numberFormat"===n?(u=this._parse(this.element.val()),this.options[n]=t,this.element.val(this._format(u)),void 0):(("max"===n||"min"===n||"step"===n)&&"string"==typeof t&&(t=this._parse(t)),"icons"===n&&(i=this.buttons.first().find(".ui-icon"),this._removeClass(i,null,this.options.icons.up),this._addClass(i,null,t.up),r=this.buttons.last().find(".ui-icon"),this._removeClass(r,null,this.options.icons.down),this._addClass(r,null,t.down)),this._super(n,t),void 0)},_setOptionDisabled:function(n){this._super(n);this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!n);this.element.prop("disabled",!!n);this.buttons.button(n?"disable":"enable")},_setOptions:t(function(n){this._super(n)}),_parse:function(n){return"string"==typeof n&&""!==n&&(n=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(n,10,this.options.culture):+n),""===n||isNaN(n)?null:n},_format:function(n){return""===n?"":window.Globalize&&this.options.numberFormat?Globalize.format(n,this.options.numberFormat,this.options.culture):n},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var n=this.value();return null===n?!1:n===this._adjustValue(n)},_value:function(n,t){var i;""!==n&&(i=this._parse(n),null!==i&&(t||(i=this._adjustValue(i)),n=this._format(i)));this.element.val(n);this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:t(function(n){this._stepUp(n)}),_stepUp:function(n){this._start()&&(this._spin((n||1)*this.options.step),this._stop())},stepDown:t(function(n){this._stepDown(n)}),_stepDown:function(n){this._start()&&(this._spin((n||1)*-this.options.step),this._stop())},pageUp:t(function(n){this._stepUp((n||1)*this.options.page)}),pageDown:t(function(n){this._stepDown((n||1)*this.options.page)}),value:function(n){return arguments.length?(t(this._value).call(this,n),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}});n.uiBackCompat!==!1&&n.widget("ui.spinner",n.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a><\/a><a><\/a>"}});n.ui.spinner;n.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var n=/#.*$/;return function(t){var i,r;i=t.href.replace(n,"");r=location.href.replace(n,"");try{i=decodeURIComponent(i)}catch(u){}try{r=decodeURIComponent(r)}catch(u){}return t.hash.length>1&&i===r}}(),_create:function(){var i=this,t=this.options;this.running=!1;this._addClass("ui-tabs","ui-widget ui-widget-content");this._toggleClass("ui-tabs-collapsible",null,t.collapsible);this._processTabs();t.active=this._initialActive();n.isArray(t.disabled)&&(t.disabled=n.unique(t.disabled.concat(n.map(this.tabs.filter(".ui-state-disabled"),function(n){return i.tabs.index(n)}))).sort());this.active=this.options.active!==!1&&this.anchors.length?this._findActive(t.active):n();this._refresh();this.active.length&&this.load(t.active)},_initialActive:function(){var t=this.options.active,i=this.options.collapsible,r=location.hash.substring(1);return null===t&&(r&&this.tabs.each(function(i,u){if(n(u).attr("aria-controls")===r)return(t=i,!1)}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===t||-1===t)&&(t=this.tabs.length?0:!1)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),-1===t&&(t=i?!1:0)),!i&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):n()}},_tabKeydown:function(t){var r=n(n.ui.safeActiveElement(this.document[0])).closest("li"),i=this.tabs.index(r),u=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case n.ui.keyCode.RIGHT:case n.ui.keyCode.DOWN:i++;break;case n.ui.keyCode.UP:case n.ui.keyCode.LEFT:u=!1;i--;break;case n.ui.keyCode.END:i=this.anchors.length-1;break;case n.ui.keyCode.HOME:i=0;break;case n.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),this._activate(i),void 0;case n.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),this._activate(i===this.options.active?!1:i),void 0;default:return}t.preventDefault();clearTimeout(this.activating);i=this._focusNextTab(i,u);t.ctrlKey||t.metaKey||(r.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===n.ui.keyCode.UP&&(t.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(t){return t.altKey&&t.keyCode===n.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===n.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,i){function u(){return t>r&&(t=0),0>t&&(t=r),t}for(var r=this.tabs.length-1;-1!==n.inArray(u(),this.options.disabled);)t=i?t+1:t-1;return t},_focusNextTab:function(n,t){return n=this._findNextTab(n,t),this.tabs.eq(n).trigger("focus"),n},_setOption:function(n,t){return"active"===n?(this._activate(t),void 0):(this._super(n,t),"collapsible"===n&&(this._toggleClass("ui-tabs-collapsible",null,t),t||this.options.active!==!1||this._activate(0)),"event"===n&&this._setupEvents(t),"heightStyle"===n&&this._setupHeightStyle(t),void 0)},_sanitizeSelector:function(n){return n?n.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,i=this.tablist.children(":has(a[href])");t.disabled=n.map(i.filter(".ui-state-disabled"),function(n){return i.index(n)});this._processTabs();t.active!==!1&&this.anchors.length?this.active.length&&!n.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=n()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=n());this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"});this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,i=this.tabs,r=this.anchors,u=this.panels;this.tablist=this._getList().attr("role","tablist");this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header");this.tablist.on("mousedown"+this.eventNamespace,"> li",function(t){n(this).is(".ui-state-disabled")&&t.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){n(this).closest("li").is(".ui-state-disabled")&&this.blur()});this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1});this._addClass(this.tabs,"ui-tabs-tab","ui-state-default");this.anchors=this.tabs.map(function(){return n("a",this)[0]}).attr({role:"presentation",tabIndex:-1});this._addClass(this.anchors,"ui-tabs-anchor");this.panels=n();this.anchors.each(function(i,r){var f,u,e,s=n(r).uniqueId().attr("id"),o=n(r).closest("li"),h=o.attr("aria-controls");t._isLocal(r)?(f=r.hash,e=f.substring(1),u=t.element.find(t._sanitizeSelector(f))):(e=o.attr("aria-controls")||n({}).uniqueId()[0].id,f="#"+e,u=t.element.find(f),u.length||(u=t._createPanel(e),u.insertAfter(t.panels[i-1]||t.tablist)),u.attr("aria-live","polite"));u.length&&(t.panels=t.panels.add(u));h&&o.data("ui-tabs-aria-controls",h);o.attr({"aria-controls":e,"aria-labelledby":s});u.attr("aria-labelledby",s)});this.panels.attr("role","tabpanel");this._addClass(this.panels,"ui-tabs-panel","ui-widget-content");i&&(this._off(i.not(this.tabs)),this._off(r.not(this.anchors)),this._off(u.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(t){return n("<div>").attr("id",t).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(t){var i,u,r;for(n.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1),r=0;u=this.tabs[r];r++)i=n(u),t===!0||-1!==n.inArray(r,t)?(i.attr("aria-disabled","true"),this._addClass(i,null,"ui-state-disabled")):(i.removeAttr("aria-disabled"),this._removeClass(i,null,"ui-state-disabled"));this.options.disabled=t;this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,t===!0)},_setupEvents:function(t){var i={};t&&n.each(t.split(" "),function(n,t){i[t]="_eventHandler"});this._off(this.anchors.add(this.tabs).add(this.panels));this._on(!0,this.anchors,{click:function(n){n.preventDefault()}});this._on(this.anchors,i);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(t){var i,r=this.element.parent();"fill"===t?(i=r.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=n(this),r=t.css("position");"absolute"!==r&&"fixed"!==r&&(i-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=n(this).outerHeight(!0)}),this.panels.each(function(){n(this).height(Math.max(0,i-n(this).innerHeight()+n(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.panels.each(function(){i=Math.max(i,n(this).height("").height())}).height(i))},_eventHandler:function(t){var u=this.options,r=this.active,c=n(t.currentTarget),i=c.closest("li"),f=i[0]===r[0],e=f&&u.collapsible,o=e?n():this._getPanelForTab(i),s=r.length?this._getPanelForTab(r):n(),h={oldTab:r,oldPanel:s,newTab:e?n():i,newPanel:o};t.preventDefault();i.hasClass("ui-state-disabled")||i.hasClass("ui-tabs-loading")||this.running||f&&!u.collapsible||this._trigger("beforeActivate",t,h)===!1||(u.active=e?!1:this.tabs.index(i),this.active=f?n():i,this.xhr&&this.xhr.abort(),s.length||o.length||n.error("jQuery UI Tabs: Mismatching fragment identifier."),o.length&&this.load(this.tabs.index(i),t),this._toggle(t,h))},_toggle:function(t,i){function e(){r.running=!1;r._trigger("activate",t,i)}function o(){r._addClass(i.newTab.closest("li"),"ui-tabs-active","ui-state-active");u.length&&r.options.show?r._show(u,r.options.show,e):(u.show(),e())}var r=this,u=i.newPanel,f=i.oldPanel;this.running=!0;f.length&&this.options.hide?this._hide(f,this.options.hide,function(){r._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active");o()}):(this._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),f.hide(),o());f.attr("aria-hidden","true");i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"});u.length&&f.length?i.oldTab.attr("tabIndex",-1):u.length&&this.tabs.filter(function(){return 0===n(this).attr("tabIndex")}).attr("tabIndex",-1);u.attr("aria-hidden","false");i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var r,i=this._findActive(t);i[0]!==this.active[0]&&(i.length||(i=this.active),r=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:r,currentTarget:r,preventDefault:n.noop}))},_findActive:function(t){return t===!1?n():this.tabs.eq(t)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+n.ui.escapeSelector(t)+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort();this.tablist.removeAttr("role").off(this.eventNamespace);this.anchors.removeAttr("role tabIndex").removeUniqueId();this.tabs.add(this.panels).each(function(){n.data(this,"ui-tabs-destroy")?n(this).remove():n(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")});this.tabs.each(function(){var t=n(this),i=t.data("ui-tabs-aria-controls");i?t.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")});this.panels.show();"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var i=this.options.disabled;i!==!1&&(void 0===t?i=!1:(t=this._getIndex(t),i=n.isArray(i)?n.map(i,function(n){return n!==t?n:null}):n.map(this.tabs,function(n,i){return i!==t?i:null})),this._setOptionDisabled(i))},disable:function(t){var i=this.options.disabled;if(i!==!0){if(void 0===t)i=!0;else{if(t=this._getIndex(t),-1!==n.inArray(t,i))return;i=n.isArray(i)?n.merge([t],i).sort():[t]}this._setOptionDisabled(i)}},load:function(t,i){t=this._getIndex(t);var r=this,u=this.tabs.eq(t),e=u.find(".ui-tabs-anchor"),f=this._getPanelForTab(u),o={tab:u,panel:f},s=function(n,t){"abort"===t&&r.panels.stop(!1,!0);r._removeClass(u,"ui-tabs-loading");f.removeAttr("aria-busy");n===r.xhr&&delete r.xhr};this._isLocal(e[0])||(this.xhr=n.ajax(this._ajaxSettings(e,i,o)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(u,"ui-tabs-loading"),f.attr("aria-busy","true"),this.xhr.done(function(n,t,u){setTimeout(function(){f.html(n);r._trigger("load",i,o);s(u,t)},1)}).fail(function(n,t){setTimeout(function(){s(n,t)},1)})))},_ajaxSettings:function(t,i,r){var u=this;return{url:t.attr("href").replace(/#.*$/,""),beforeSend:function(t,f){return u._trigger("beforeLoad",i,n.extend({jqXHR:t,ajaxSettings:f},r))}}},_getPanelForTab:function(t){var i=n(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}});n.uiBackCompat!==!1&&n.widget("ui.tabs",n.ui.tabs,{_processTabs:function(){this._superApply(arguments);this._addClass(this.tabs,"ui-tab")}});n.ui.tabs;n.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var t=n(this).attr("title")||"";return n("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(t,i){var r=(t.attr("aria-describedby")||"").split(/\s+/);r.push(i);t.data("ui-tooltip-id",i).attr("aria-describedby",n.trim(r.join(" ")))},_removeDescribedBy:function(t){var u=t.data("ui-tooltip-id"),i=(t.attr("aria-describedby")||"").split(/\s+/),r=n.inArray(u,i);-1!==r&&i.splice(r,1);t.removeData("ui-tooltip-id");i=n.trim(i.join(" "));i?t.attr("aria-describedby",i):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};this.liveRegion=n("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body);this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible");this.disabledTitles=n([])},_setOption:function(t,i){var r=this;this._super(t,i);"content"===t&&n.each(this.tooltips,function(n,t){r._updateContent(t.element)})},_setOptionDisabled:function(n){this[n?"_disable":"_enable"]()},_disable:function(){var t=this;n.each(this.tooltips,function(i,r){var u=n.Event("blur");u.target=u.currentTarget=r.element[0];t.close(u,!0)});this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var t=n(this);if(t.is("[title]"))return t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var t=n(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))});this.disabledTitles=n([])},open:function(t){var r=this,i=n(t?t.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&i.parents().each(function(){var i,t=n(this);t.data("ui-tooltip-open")&&(i=n.Event("blur"),i.target=i.currentTarget=this,r.close(i,!0));t.attr("title")&&(t.uniqueId(),r.parents[this.id]={element:this,title:t.attr("title")},t.attr("title",""))}),this._registerCloseHandlers(t,i),this._updateContent(i,t))},_updateContent:function(n,t){var r,i=this.options.content,u=this,f=t?t.type:null;return"string"==typeof i||i.nodeType||i.jquery?this._open(t,n,i):(r=i.call(n[0],function(i){u._delay(function(){n.data("ui-tooltip-open")&&(t&&(t.type=f),this._open(t,n,i))})}),r&&this._open(t,n,r),void 0)},_open:function(t,i,r){function o(n){s.of=n;u.is(":hidden")||u.position(s)}var f,u,h,e,s=n.extend({},this.options.position);if(r){if(f=this._find(i))return f.tooltip.find(".ui-tooltip-content").html(r),void 0;i.is("[title]")&&(t&&"mouseover"===t.type?i.attr("title",""):i.removeAttr("title"));f=this._tooltip(i);u=f.tooltip;this._addDescribedBy(i,u.attr("id"));u.find(".ui-tooltip-content").html(r);this.liveRegion.children().hide();e=n("<div>").html(u.find(".ui-tooltip-content").html());e.removeAttr("name").find("[name]").removeAttr("name");e.removeAttr("id").find("[id]").removeAttr("id");e.appendTo(this.liveRegion);this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:o}),o(t)):u.position(n.extend({of:i},this.options.position));u.hide();this._show(u,this.options.show);this.options.track&&this.options.show&&this.options.show.delay&&(h=this.delayedShow=setInterval(function(){u.is(":visible")&&(o(s.of),clearInterval(h))},n.fx.interval));this._trigger("open",t,{tooltip:u})}},_registerCloseHandlers:function(t,i){var r={keyup:function(t){if(t.keyCode===n.ui.keyCode.ESCAPE){var r=n.Event(t);r.currentTarget=i[0];this.close(r,!0)}}};i[0]!==this.element[0]&&(r.remove=function(){this._removeTooltip(this._find(i).tooltip)});t&&"mouseover"!==t.type||(r.mouseleave="close");t&&"focusin"!==t.type||(r.focusout="close");this._on(!0,i,r)},close:function(t){var u,f=this,i=n(t?t.currentTarget:this.element),r=this._find(i);return r?(u=r.tooltip,r.closing||(clearInterval(this.delayedShow),i.data("ui-tooltip-title")&&!i.attr("title")&&i.attr("title",i.data("ui-tooltip-title")),this._removeDescribedBy(i),r.hiding=!0,u.stop(!0),this._hide(u,this.options.hide,function(){f._removeTooltip(n(this))}),i.removeData("ui-tooltip-open"),this._off(i,"mouseleave focusout keyup"),i[0]!==this.element[0]&&this._off(i,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&n.each(this.parents,function(t,i){n(i.element).attr("title",i.title);delete f.parents[t]}),r.closing=!0,this._trigger("close",t,{tooltip:u}),r.hiding||(r.closing=!1)),void 0):(i.removeData("ui-tooltip-open"),void 0)},_tooltip:function(t){var i=n("<div>").attr("role","tooltip"),r=n("<div>").appendTo(i),u=i.uniqueId().attr("id");return this._addClass(r,"ui-tooltip-content"),this._addClass(i,"ui-tooltip","ui-widget ui-widget-content"),i.appendTo(this._appendTo(t)),this.tooltips[u]={element:t,tooltip:i}},_find:function(n){var t=n.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(n){n.remove();delete this.tooltips[n.attr("id")]},_appendTo:function(n){var t=n.closest(".ui-front, dialog");return t.length||(t=this.document[0].body),t},_destroy:function(){var t=this;n.each(this.tooltips,function(i,r){var f=n.Event("blur"),u=r.element;f.target=f.currentTarget=u[0];t.close(f,!0);n("#"+i).remove();u.data("ui-tooltip-title")&&(u.attr("title")||u.attr("title",u.data("ui-tooltip-title")),u.removeData("ui-tooltip-title"))});this.liveRegion.remove()}});n.uiBackCompat!==!1&&n.widget("ui.tooltip",n.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var n=this._superApply(arguments);return this.options.tooltipClass&&n.tooltip.addClass(this.options.tooltipClass),n}});n.ui.tooltip}),function(n){n.jgrid=n.jgrid||{};n.extend(n.jgrid,{defaults:{recordtext:"View {0} - {1} of {2}",emptyrecords:"No records to view",loadtext:"Loading...",pgtext:"Page {0} of {1}"},search:{caption:"Search...",Find:"Find",Reset:"Reset",odata:["equal","not equal","less","less or equal","greater","greater or equal","begins with","does not begin with","is in","is not in","ends with","does not end with","contains","does not contain"],groupOps:[{op:"AND",text:"all"},{op:"OR",text:"any"}],matchText:" match",rulesText:" rules"},edit:{addCaption:"Add Record",editCaption:"Edit Record",bSubmit:"Submit",bCancel:"Cancel",bClose:"Close",saveData:"Data has been changed! Save changes?",bYes:"Yes",bNo:"No",bExit:"Cancel",msg:{required:"Field is required",number:"Please, enter valid number",minValue:"value must be greater than or equal to ",maxValue:"value must be less than or equal to",email:"is not a valid e-mail",integer:"Please, enter valid integer value",date:"Please, enter valid date value",url:"is not a valid URL. Prefix required ('http://' or 'https://')",nodefined:" is not defined!",novalue:" return value is required!",customarray:"Custom function should return array!",customfcheck:"Custom function should be present in case of custom checking!"}},view:{caption:"View Record",bClose:"Close"},del:{caption:"Delete",msg:"Delete selected record(s)?",bSubmit:"Delete",bCancel:"Cancel"},nav:{edittext:"",edittitle:"Edit selected row",addtext:"",addtitle:"Add new row",deltext:"",deltitle:"Delete selected row",searchtext:"",searchtitle:"Find records",refreshtext:"",refreshtitle:"Reload Grid",alertcap:"Warning",alerttext:"Please, select row",viewtext:"",viewtitle:"View selected row"},col:{caption:"Select columns",bSubmit:"Ok",bCancel:"Cancel"},errors:{errcap:"Error",nourl:"No url is set",norecords:"No records to process",model:"Length of colNames <> colModel!"},formatter:{integer:{thousandsSeparator:",",defaultValue:"0"},number:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,defaultValue:"0.00"},currency:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,prefix:"",suffix:"",defaultValue:"0.00"},date:{dayNames:["Sun","Mon","Tue","Wed","Thr","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],AmPm:["am","pm","AM","PM"],S:function(n){return n<11||n>13?["st","nd","rd","th"][Math.min((n-1)%10,3)]:"th"},srcformat:"Y-m-d",newformat:"n/j/Y",masks:{ISO8601Long:"Y-m-d H:i:s",ISO8601Short:"Y-m-d",ShortDate:"n/j/Y",LongDate:"l, F d, Y",FullDateTime:"l, F d, Y g:i:s A",MonthDay:"F d",ShortTime:"g:i A",LongTime:"g:i:s A",SortableDateTime:"Y-m-d\\TH:i:s",UniversalSortableDateTime:"Y-m-d H:i:sO",YearMonth:"F, Y"},reformatAfterEdit:!1},baseLinkUrl:"",showAction:"",target:"",checkbox:{disabled:!0},idName:"id"}})}(jQuery),function(n){n.jgrid=n.jgrid||{};n.extend(n.jgrid,{version:"4.4.4",htmlDecode:function(n){return n&&("&nbsp;"==n||"&#160;"==n||1===n.length&&160===n.charCodeAt(0))?"":n?(""+n).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):n},htmlEncode:function(n){return n?(""+n).replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):n},format:function(t){var i=n.makeArray(arguments).slice(1);return null==t&&(t=""),t.replace(/\{(\d+)\}/g,function(n,t){return i[t]})},msie:"Microsoft Internet Explorer"==navigator.appName,msiever:function(){var n=-1;return null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent)&&(n=parseFloat(RegExp.$1)),n},getCellIndex:function(t){return(t=n(t),t.is("tr"))?-1:(t=(!t.is("td")&&!t.is("th")?t.closest("td,th"):t)[0],n.jgrid.msie?n.inArray(t,t.parentNode.cells):t.cellIndex)},stripHtml:function(n){var n=""+n;return n?(n=n.replace(/<("[^"]*"|'[^']*'|[^'">])*>/gi,""))&&"&nbsp;"!==n&&"&#160;"!==n?n.replace(/\"/g,"'"):"":n},stripPref:function(t,i){var r=n.type(t);return("string"==r||"number"==r)&&(t=""+t,i=""!==t?(""+i).replace(""+t,""):i),i},stringToDoc:function(n){var t;if("string"!=typeof n)return n;try{t=(new DOMParser).parseFromString(n,"text/xml")}catch(i){t=new ActiveXObject("Microsoft.XMLDOM");t.async=!1;t.loadXML(n)}return t&&t.documentElement&&"parsererror"!=t.documentElement.tagName?t:null},parse:function(t){return"while(1);"==t.substr(0,9)&&(t=t.substr(9)),"/*"==t.substr(0,2)&&(t=t.substr(2,t.length-4)),t||(t="{}"),!0===n.jgrid.useJSON&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(t):eval("("+t+")")},parseDate:function(t,i){var u={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},r,o,f;if(r=/[\\\/:_;.,\t\T\s-]/,i&&null!=i){i=n.trim(i);i=i.split(r);void 0!==n.jgrid.formatter.date.masks[t]&&(t=n.jgrid.formatter.date.masks[t]);var t=t.split(r),s=n.jgrid.formatter.date.monthNames,e=n.jgrid.formatter.date.AmPm,h=function(n,t){return 0===n?12===t&&(t=0):12!==t&&(t+=12),t};for(r=0,o=t.length;r<o;r++)"M"==t[r]&&(f=n.inArray(i[r],s),-1!==f&&12>f&&(i[r]=f+1,u.m=i[r])),"F"==t[r]&&(f=n.inArray(i[r],s),-1!==f&&11<f&&(i[r]=f+1-12,u.m=i[r])),"a"==t[r]&&(f=n.inArray(i[r],e),-1!==f&&2>f&&i[r]==e[f]&&(i[r]=f,u.h=h(i[r],u.h))),"A"==t[r]&&(f=n.inArray(i[r],e),-1!==f&&1<f&&i[r]==e[f]&&(i[r]=f-2,u.h=h(i[r],u.h))),"g"===t[r]&&(u.h=parseInt(i[r],10)),void 0!==i[r]&&(u[t[r].toLowerCase()]=parseInt(i[r],10));u.m=parseInt(u.m,10)-1;r=u.y;70<=r&&99>=r?u.y=1900+u.y:0<=r&&69>=r&&(u.y=2e3+u.y);void 0!==u.j&&(u.d=u.j);void 0!==u.n&&(u.m=parseInt(u.n,10)-1)}return new Date(u.y,u.m,u.d,u.h,u.i,u.s,u.u)},jqID:function(n){return(""+n).replace(/[!"#$%&'()*+,.\/:; <=>?@\[\\\]\^`{|}~]/g,"\\$&")},guid:1,uidPref:"jqg",randId:function(t){return(t||n.jgrid.uidPref)+n.jgrid.guid++},getAccessor:function(n,t){var i,u,r=[],f;if("function"==typeof t)return t(n);if(i=n[t],void 0===i)try{if("string"==typeof t&&(r=t.split(".")),f=r.length)for(i=n;i&&f--;)u=r.shift(),i=i[u]}catch(e){}return i},getXmlData:function(t,i,r){var u="string"==typeof i?i.match(/^(.*)\[(\w+)\]$/):null;return"function"==typeof i?i(t):u&&u[2]?u[1]?n(u[1],t).attr(u[2]):n(t).attr(u[2]):(t=n(i,t),r?t:0<t.length?n(t).text():void 0)},cellWidth:function(){var t=n("<div class='ui-jqgrid' style='left:10000px'><table class='ui-jqgrid-btable' style='width:5px;'><tr class='jqgrow'><td style='width:5px;'><\/td><\/tr><\/table><\/div>"),i=t.appendTo("body").find("td").width();return t.remove(),5!==i},cell_width:!0,ajaxOptions:{},from:function(t){return new function(t,i){"string"==typeof t&&(t=n.data(t));var r=this,u=t,h=!0,o=!1,f=i,v=/[\$,%]/g,l=null,y=null,p=0,e=!1,a="",s=[],c=!0;if("object"==typeof t&&t.push)0<t.length&&(c="object"!=typeof t[0]?!1:!0);else throw"data provides is not an array";return this._hasData=function(){return null===u?!1:0===u.length?!1:!0},this._getStr=function(n){var t=[];return o&&t.push("jQuery.trim("),t.push("String("+n+")"),o&&t.push(")"),h||t.push(".toLowerCase()"),t.join("")},this._strComp=function(n){return"string"==typeof n?".toString()":""},this._group=function(n,t){return{field:n.toString(),unique:t,items:[]}},this._toStr=function(t){return o&&(t=n.trim(t)),t=t.toString().replace(/\\/g,"\\\\").replace(/\"/g,'\\"'),h?t:t.toLowerCase()},this._funcLoop=function(t){var i=[];return n.each(u,function(n,r){i.push(t(r))}),i},this._append=function(n){var t;for(f=null===f?"":f+(""===a?" && ":a),t=0;t<p;t++)f+="(";e&&(f+="!");f+="("+n+")";e=!1;a="";p=0},this._setCommand=function(n,t){l=n;y=t},this._resetNegate=function(){e=!1},this._repeatCommand=function(n,t){return null===l?r:null!==n&&null!==t?l(n,t):null===y||!c?l(n):l(y,n)},this._equals=function(n,t){return 0===r._compare(n,t,1)},this._compare=function(n,t,i){var r=Object.prototype.toString;return(void 0===i&&(i=1),void 0===n&&(n=null),void 0===t&&(t=null),null===n&&null===t)?0:null===n&&null!==t?1:null!==n&&null===t?-1:"[object Date]"===r.call(n)&&"[object Date]"===r.call(t)?n<t?-i:n>t?i:0:(h||"number"==typeof n||"number"==typeof t||(n=""+n,t=""+t),n<t?-i:n>t?i:0)},this._performSort=function(){0!==s.length&&(u=r._doSort(u,0))},this._doSort=function(n,t){var f=s[t].by,e=s[t].dir,u=s[t].type,i=s[t].datefmt;if(t==s.length-1)return r._getOrder(n,f,e,u,i);t++;for(var f=r._getGroup(n,f,e,u,i),e=[],o,u=0;u<f.length;u++)for(o=r._doSort(f[u].items,t),i=0;i<o.length;i++)e.push(o[i]);return e},this._getOrder=function(t,i,u,f,e){var c=[],s=[],y="a"==u?1:-1,o,l,f,a;for(void 0===f&&(f="text"),l="float"==f||"number"==f||"currency"==f||"numeric"==f?function(n){return n=parseFloat((""+n).replace(v,"")),isNaN(n)?0:n}:"int"==f||"integer"==f?function(n){return n?parseFloat((""+n).replace(v,"")):0}:"date"==f||"datetime"==f?function(t){return n.jgrid.parseDate(e,t).getTime()}:n.isFunction(f)?f:function(t){return t=t?n.trim(""+t):"",h?t:t.toLowerCase()},n.each(t,function(t,r){o=""!==i?n.jgrid.getAccessor(r,i):r;void 0===o&&(o="");o=l(o,r);s.push({vSort:o,index:t})}),s.sort(function(n,t){return n=n.vSort,t=t.vSort,r._compare(n,t,y)}),f=0,a=t.length;f<a;)u=s[f].index,c.push(t[u]),f++;return c},this._getGroup=function(t,i,u,f,e){var h=[],o=null,c=null,s;return n.each(r._getOrder(t,i,u,f,e),function(t,u){s=n.jgrid.getAccessor(u,i);null==s&&(s="");r._equals(c,s)||(c=s,null!==o&&h.push(o),o=r._group(i,s));o.items.push(u)}),null!==o&&h.push(o),h},this.ignoreCase=function(){return h=!1,r},this.useCase=function(){return h=!0,r},this.trim=function(){return o=!0,r},this.noTrim=function(){return o=!1,r},this.execute=function(){var t=f,i=[];return null===t?r:(n.each(u,function(){eval(t)&&i.push(this)}),u=i,r)},this.data=function(){return u},this.select=function(t){if(r._performSort(),!r._hasData())return[];if(r.execute(),n.isFunction(t)){var i=[];return n.each(u,function(n,r){i.push(t(r))}),i}return u},this.hasMatch=function(){return r._hasData()?(r.execute(),0<u.length):!1},this.andNot=function(n,t,i){return e=!e,r.and(n,t,i)},this.orNot=function(n,t,i){return e=!e,r.or(n,t,i)},this.not=function(n,t,i){return r.andNot(n,t,i)},this.and=function(n,t,i){return a=" && ",void 0===n?r:r._repeatCommand(n,t,i)},this.or=function(n,t,i){return a=" || ",void 0===n?r:r._repeatCommand(n,t,i)},this.orBegin=function(){return p++,r},this.orEnd=function(){return null!==f&&(f+=")"),r},this.isNot=function(n){return e=!e,r.is(n)},this.is=function(n){return r._append("this."+n),r._resetNegate(),r},this._compareValues=function(t,i,u,f,e){var s,o,h;if(s=c?"jQuery.jgrid.getAccessor(this,'"+i+"')":"this",void 0===u&&(u=null),o=u,h=void 0===e.stype?"text":e.stype,null!==u)switch(h){case"int":case"integer":o=isNaN(Number(o))||""===o?"0":o;s="parseInt("+s+",10)";o="parseInt("+o+",10)";break;case"float":case"number":case"numeric":o=(""+o).replace(v,"");o=isNaN(Number(o))||""===o?"0":o;s="parseFloat("+s+")";o="parseFloat("+o+")";break;case"date":case"datetime":o=""+n.jgrid.parseDate(e.newfmt||"Y-m-d",o).getTime();s='jQuery.jgrid.parseDate("'+e.srcfmt+'",'+s+").getTime()";break;default:s=r._getStr(s);o=r._getStr('"'+r._toStr(o)+'"')}return r._append(s+" "+f+" "+o),r._setCommand(t,i),r._resetNegate(),r},this.equals=function(n,t,i){return r._compareValues(r.equals,n,t,"==",i)},this.notEquals=function(n,t,i){return r._compareValues(r.equals,n,t,"!==",i)},this.isNull=function(n,t,i){return r._compareValues(r.equals,n,null,"===",i)},this.greater=function(n,t,i){return r._compareValues(r.greater,n,t,">",i)},this.less=function(n,t,i){return r._compareValues(r.less,n,t,"<",i)},this.greaterOrEquals=function(n,t,i){return r._compareValues(r.greaterOrEquals,n,t,">=",i)},this.lessOrEquals=function(n,t,i){return r._compareValues(r.lessOrEquals,n,t,"<=",i)},this.startsWith=function(t,i){var u=null==i?t:i,u=o?n.trim(u.toString()).length:u.toString().length;return c?r._append(r._getStr("jQuery.jgrid.getAccessor(this,'"+t+"')")+".substr(0,"+u+") == "+r._getStr('"'+r._toStr(i)+'"')):(u=o?n.trim(i.toString()).length:i.toString().length,r._append(r._getStr("this")+".substr(0,"+u+") == "+r._getStr('"'+r._toStr(t)+'"'))),r._setCommand(r.startsWith,t),r._resetNegate(),r},this.endsWith=function(t,i){var u=null==i?t:i,u=o?n.trim(u.toString()).length:u.toString().length;return c?r._append(r._getStr("jQuery.jgrid.getAccessor(this,'"+t+"')")+".substr("+r._getStr("jQuery.jgrid.getAccessor(this,'"+t+"')")+".length-"+u+","+u+') == "'+r._toStr(i)+'"'):r._append(r._getStr("this")+".substr("+r._getStr("this")+'.length-"'+r._toStr(t)+'".length,"'+r._toStr(t)+'".length) == "'+r._toStr(t)+'"'),r._setCommand(r.endsWith,t),r._resetNegate(),r},this.contains=function(n,t){return c?r._append(r._getStr("jQuery.jgrid.getAccessor(this,'"+n+"')")+'.indexOf("'+r._toStr(t)+'",0) > -1'):r._append(r._getStr("this")+'.indexOf("'+r._toStr(n)+'",0) > -1'),r._setCommand(r.contains,n),r._resetNegate(),r},this.groupBy=function(n,t,i,f){return r._hasData()?r._getGroup(u,n,t,i,f):null},this.orderBy=function(t,i,u,f){return i=null==i?"a":n.trim(i.toString().toLowerCase()),null==u&&(u="text"),null==f&&(f="Y-m-d"),("desc"==i||"descending"==i)&&(i="d"),("asc"==i||"ascending"==i)&&(i="a"),s.push({by:t,dir:i,type:u,datefmt:f}),r},r}(t,null)},getMethod:function(t){return this.getAccessor(n.fn.jqGrid,t)},extend:function(t){n.extend(n.fn.jqGrid,t);this.no_legacy_api||n.fn.extend(t)}});n.fn.jqGrid=function(t){var i,r;if("string"==typeof t){if(i=n.jgrid.getMethod(t),!i)throw"jqGrid - No such method: "+t;return r=n.makeArray(arguments).slice(1),i.apply(this,r)}return this.each(function(){var f,o,ft,b,ei,w,ct,lt,at,s,e,d,rt,g,l,nt,c,ut,h,v,kt,vt,oi;if(!this.grid){var u=n.extend(!0,{url:"",height:150,page:1,rowNum:20,rowTotal:null,records:0,pager:"",pgbuttons:!0,pginput:!0,colModel:[],rowList:[],colNames:[],sortorder:"asc",sortname:"",datatype:"xml",mtype:"GET",altRows:!1,selarrrow:[],savedRow:[],shrinkToFit:!0,xmlReader:{},jsonReader:{},subGrid:!1,subGridModel:[],reccount:0,lastpage:0,lastsort:0,selrow:null,beforeSelectRow:null,onSelectRow:null,onSortCol:null,ondblClickRow:null,onRightClickRow:null,onPaging:null,onSelectAll:null,onInitGrid:null,loadComplete:null,gridComplete:null,loadError:null,loadBeforeSend:null,afterInsertRow:null,beforeRequest:null,beforeProcessing:null,onHeaderClick:null,viewrecords:!1,loadonce:!1,multiselect:!1,multikey:!1,editurl:null,search:!1,caption:"",hidegrid:!0,hiddengrid:!1,postData:{},userData:{},treeGrid:!1,treeGridModel:"nested",treeReader:{},treeANode:-1,ExpandColumn:null,tree_root_level:0,prmNames:{page:"page",rows:"rows",sort:"sidx",order:"sord",search:"_search",nd:"nd",id:"id",oper:"oper",editoper:"edit",addoper:"add",deloper:"del",subgridid:"id",npage:null,totalrows:"totalrows"},forceFit:!1,gridstate:"visible",cellEdit:!1,cellsubmit:"remote",nv:0,loadui:"enable",toolbar:[!1,""],scroll:!1,multiboxonly:!1,deselectAfterSort:!0,scrollrows:!1,autowidth:!1,scrollOffset:18,cellLayout:5,subGridWidth:20,multiselectWidth:20,gridview:!1,rownumWidth:25,rownumbers:!1,pagerpos:"center",recordpos:"right",footerrow:!1,userDataOnFooter:!1,hoverrows:!0,altclass:"ui-priority-secondary",viewsortcols:[!1,"vertical",!0],resizeclass:"",autoencode:!1,remapColumns:[],ajaxGridOptions:{},direction:"ltr",toppager:!1,headertitles:!1,scrollTimeout:40,data:[],_index:{},grouping:!1,groupingView:{groupField:[],groupOrder:[],groupText:[],groupColumnShow:[],groupSummary:[],showSummaryOnHide:!1,sortitems:[],sortnames:[],summary:[],summaryval:[],plusicon:"ui-icon-circlesmall-plus",minusicon:"ui-icon-circlesmall-minus",displayField:[]},ignoreCase:!1,cmTemplate:{},idPrefix:""},n.jgrid.defaults,t||{}),i=this,r={headers:[],cols:[],footers:[],dragStart:function(t,r,f){this.resizing={idx:t,startX:r.clientX,sOL:f[0]};this.hDiv.style.cursor="col-resize";this.curGbox=n("#rs_m"+n.jgrid.jqID(u.id),"#gbox_"+n.jgrid.jqID(u.id));this.curGbox.css({display:"block",left:f[0],top:f[1],height:f[2]});n(i).triggerHandler("jqGridResizeStart",[r,t]);n.isFunction(u.resizeStart)&&u.resizeStart.call(this,r,t);document.onselectstart=function(){return!1}},dragMove:function(n){if(this.resizing){var t=n.clientX-this.resizing.startX,n=this.headers[this.resizing.idx],r="ltr"===u.direction?n.width+t:n.width-t,i;33<r&&(this.curGbox.css({left:this.resizing.sOL+t}),!0===u.forceFit?(i=this.headers[this.resizing.idx+u.nv],t="ltr"===u.direction?i.width-t:i.width+t,33<t&&(n.newWidth=r,i.newWidth=t)):(this.newWidth="ltr"===u.direction?u.tblwidth+t:u.tblwidth-t,n.newWidth=r))}},dragEnd:function(){if(this.hDiv.style.cursor="default",this.resizing){var t=this.resizing.idx,r=this.headers[t].newWidth||this.headers[t].width,r=parseInt(r,10);this.resizing=!1;n("#rs_m"+n.jgrid.jqID(u.id)).css("display","none");u.colModel[t].width=r;this.headers[t].width=r;this.headers[t].el.style.width=r+"px";this.cols[t].style.width=r+"px";0<this.footers.length&&(this.footers[t].style.width=r+"px");!0===u.forceFit?(r=this.headers[t+u.nv].newWidth||this.headers[t+u.nv].width,this.headers[t+u.nv].width=r,this.headers[t+u.nv].el.style.width=r+"px",this.cols[t+u.nv].style.width=r+"px",0<this.footers.length&&(this.footers[t+u.nv].style.width=r+"px"),u.colModel[t+u.nv].width=r):(u.tblwidth=this.newWidth||u.tblwidth,n("table:first",this.bDiv).css("width",u.tblwidth+"px"),n("table:first",this.hDiv).css("width",u.tblwidth+"px"),this.hDiv.scrollLeft=this.bDiv.scrollLeft,u.footerrow&&(n("table:first",this.sDiv).css("width",u.tblwidth+"px"),this.sDiv.scrollLeft=this.bDiv.scrollLeft));n(i).triggerHandler("jqGridResizeStop",[r,t]);n.isFunction(u.resizeStop)&&u.resizeStop.call(this,r,t)}this.curGbox=null;document.onselectstart=function(){return!0}},populateVisible:function(){var h,f,i,t,l,o,s,e,c,a;if(r.timer&&clearTimeout(r.timer),r.timer=null,h=n(r.bDiv).height(),h){if(f=n("table:first",r.bDiv),f[0].rows.length)try{t=(i=f[0].rows[1])?n(i).outerHeight()||r.prevRowHeight:r.prevRowHeight}catch(v){t=r.prevRowHeight}t&&(r.prevRowHeight=t,l=u.rowNum,i=r.scrollTop=r.bDiv.scrollTop,o=Math.round(f.position().top)-i,s=o+f.height(),t*=l,s<h&&0>=o&&(void 0===u.lastpage||parseInt((s+i+t-1)/t,10)<=u.lastpage)&&(c=parseInt((h-s+t-1)/t,10),0<=s||2>c||!0===u.scroll?(e=Math.round((s+i)/t)+1,o=-1):o=1),0<o&&(e=parseInt(i/t,10)+1,c=parseInt((i+h)/t,10)+2-e,a=!0),!c||u.lastpage&&(e>u.lastpage||1==u.lastpage||e===u.page&&e===u.lastpage)||(r.hDiv.loading?r.timer=setTimeout(r.populateVisible,u.scrollTimeout):(u.page=e,a&&(r.selectionPreserver(f[0]),r.emptyRows.call(f[0],!1,!1)),r.populate(c))))}},scrollGrid:function(n){if(u.scroll){var t=r.bDiv.scrollTop;void 0===r.scrollTop&&(r.scrollTop=0);t!=r.scrollTop&&(r.scrollTop=t,r.timer&&clearTimeout(r.timer),r.timer=setTimeout(r.populateVisible,u.scrollTimeout))}r.hDiv.scrollLeft=r.bDiv.scrollLeft;u.footerrow&&(r.sDiv.scrollLeft=r.bDiv.scrollLeft);n&&n.stopPropagation()},selectionPreserver:function(t){var i=t.p,u=i.selrow,r=i.selarrrow?n.makeArray(i.selarrrow):null,e=t.grid.bDiv.scrollLeft,f=function(){var o;if(i.selrow=null,i.selarrrow=[],i.multiselect&&r&&0<r.length)for(o=0;o<r.length;o++)r[o]!=u&&n(t).jqGrid("setSelection",r[o],!1,null);u&&n(t).jqGrid("setSelection",u,!1,null);t.grid.bDiv.scrollLeft=e;n(t).unbind(".selectionPreserver",f)};n(t).bind("jqGridGridComplete.selectionPreserver",f)}};if("TABLE"!=this.tagName.toUpperCase())alert("Element is not a table");else if(void 0!==document.documentMode&&5>=document.documentMode)alert("Grid can not be used in this ('quirks') mode!");else{if(n(this).empty().attr("tabindex","0"),this.p=u,this.p.useProp=!!n.fn.prop,0===this.p.colNames.length)for(f=0;f<this.p.colModel.length;f++)this.p.colNames[f]=this.p.colModel[f].label||this.p.colModel[f].name;if(this.p.colNames.length!==this.p.colModel.length)alert(n.jgrid.errors.model);else{c=n("<div class='ui-jqgrid-view'><\/div>");ft=n.jgrid.msie;i.p.direction=n.trim(i.p.direction.toLowerCase());-1==n.inArray(i.p.direction,["ltr","rtl"])&&(i.p.direction="ltr");o=i.p.direction;n(c).insertBefore(this);n(this).removeClass("scroll").appendTo(c);b=n("<div class='ui-jqgrid ui-widget ui-widget-content ui-corner-all'><\/div>");n(b).attr({id:"gbox_"+this.id,dir:o}).insertBefore(c);n(c).attr("id","gview_"+this.id).appendTo(b);n("<div class='ui-widget-overlay jqgrid-overlay' id='lui_"+this.id+"'><\/div>").insertBefore(c);n("<div class='loading ui-state-default ui-state-active' id='load_"+this.id+"'>"+this.p.loadtext+"<\/div>").insertBefore(c);n(this).attr({cellspacing:"0",cellpadding:"0",border:"0",role:"grid","aria-multiselectable":!!this.p.multiselect,"aria-labelledby":"gbox_"+this.id});var p=function(n,t){return n=parseInt(n,10),isNaN(n)?t||0:n},tt=function(t,u,f,e,o,s){var l=i.p.colModel[t],v=l.align,h='style="',a=l.classes,y=l.name,c=[];return v&&(h=h+("text-align:"+v+";")),l.hidden===!0&&(h=h+"display:none;"),u===0?h=h+("width: "+r.headers[t].width+"px;"):l.cellattr&&n.isFunction(l.cellattr)&&(t=l.cellattr.call(i,o,f,e,l,s))&&typeof t=="string"&&(t=t.replace(/style/i,"style").replace(/title/i,"title"),t.indexOf("title")>-1&&(l.title=!1),t.indexOf("class")>-1&&(a=void 0),c=t.split("style"),c.length===2?(c[1]=n.trim(c[1].replace("=","")),(c[1].indexOf("'")===0||c[1].indexOf('"')===0)&&(c[1]=c[1].substring(1)),h=h+c[1].replace(/'/gi,'"')):h=h+'"'),c.length||(c[0]="",h=h+'"'),h=h+((a!==void 0?' class="'+a+'"':"")+(l.title&&f?' title="'+n.jgrid.stripHtml(f)+'"':"")),h=h+(' aria-describedby="'+i.p.id+"_"+y+'"'),h+c[0]},dt=function(t){return t==null||t===""?"&#160;":i.p.autoencode?n.jgrid.htmlEncode(t):""+t},gt=function(t,r,u,f,e){var o=i.p.colModel[u];return o.formatter!==void 0?(t=""+i.p.idPrefix!=""?n.jgrid.stripPref(i.p.idPrefix,t):t,t={rowId:t,colModel:o,gid:i.p.id,pos:u},r=n.isFunction(o.formatter)?o.formatter.call(i,r,t,f,e):n.fmatter?n.fn.fmatter.call(i,o.formatter,r,t,f,e):dt(r)):r=dt(r),r},yt=function(n,t,i,r,u,f){return t=gt(n,t,i,u,"add"),'<td role="gridcell" '+tt(i,r,t,u,n,f)+">"+t+"<\/td>"},ni=function(n,t,r,u){return u='<input role="checkbox" type="checkbox" id="jqg_'+i.p.id+"_"+n+'" class="cbox" name="jqg_'+i.p.id+"_"+n+'"'+(u?'checked="checked"':"")+"/>",'<td role="gridcell" '+tt(t,r,"",null,n,!0)+">"+u+"<\/td>"},ti=function(n,t,i,r){return i=(parseInt(i,10)-1)*parseInt(r,10)+1+t,'<td role="gridcell" class="ui-state-default jqgrid-rownum" '+tt(n,t,i,null,t,!0)+">"+i+"<\/td>"},ii=function(n){for(var t,u=[],f=0,r=0;r<i.p.colModel.length;r++)t=i.p.colModel[r],t.name!=="cb"&&t.name!=="subgrid"&&t.name!=="rn"&&(u[f]=n=="local"?t.name:n=="xml"||n==="xmlstring"?t.xmlmap||t.name:t.jsonmap||t.name,f++);return u},et=function(t){var r=i.p.remapColumns;return r&&r.length||(r=n.map(i.p.colModel,function(n,t){return t})),t&&(r=n.map(r,function(n){return n<t?null:n-t})),r},it=function(t,i){var r;this.p.deepempty?n(this.rows).slice(1).remove():(r=this.rows.length>0?this.rows[0]:null,n(this.firstChild).empty().append(r));t&&this.p.scroll&&(n(this.grid.bDiv.firstChild).css({height:"auto"}),n(this.grid.bDiv.firstChild.firstChild).css({height:0,display:"none"}),this.grid.bDiv.scrollTop!==0&&(this.grid.bDiv.scrollTop=0));i===!0&&this.p.treeGrid&&(this.p.data=[],this.p._index={})},pt=function(){var f=i.p.data.length,u,t,r;for(u=i.p.rownumbers===!0?1:0,t=i.p.multiselect===!0?1:0,r=i.p.subGrid===!0?1:0,u=i.p.keyIndex===!1||i.p.loadonce===!0?i.p.localReader.id:i.p.colModel[i.p.keyIndex+t+r+u].name,t=0;t<f;t++)r=n.jgrid.getAccessor(i.p.data[t],u),r===void 0&&(r=""+(t+1)),i.p._index[r]=t},wt=function(t,r,u,f,e,o){var c="-1",h="",s,r=r?"display:none;":"",u="ui-widget-content jqgrow ui-row-"+i.p.direction+u+(o?" ui-state-highlight":""),f=n.isFunction(i.p.rowattr)?i.p.rowattr.call(i,f,e):{};if(!n.isEmptyObject(f)){f.hasOwnProperty("id")&&(t=f.id,delete f.id);f.hasOwnProperty("tabindex")&&(c=f.tabindex,delete f.tabindex);f.hasOwnProperty("style")&&(r=r+f.style,delete f.style);f.hasOwnProperty("class")&&(u=u+(" "+f["class"]),delete f["class"]);try{delete f.role}catch(l){}for(s in f)f.hasOwnProperty(s)&&(h=h+(" "+s+"="+f[s]))}return'<tr role="row" id="'+t+'" tabindex="'+c+'" class="'+u+'"'+(r===""?"":' style="'+r+'"')+h+">"},bt=function(t,r,u,f,e){var gt=new Date,ft=i.p.datatype!="local"&&i.p.loadonce||i.p.datatype=="xmlstring",o=i.p.xmlReader,ot=i.p.datatype=="local"?"local":"xml",e,ct,pt,bt,kt,dt;if(ft&&(i.p.data=[],i.p._index={},i.p.localReader.id="_id_"),i.p.reccount=0,n.isXMLDoc(t)){i.p.treeANode!==-1||i.p.scroll?u=u>1?u:1:(it.call(i,!1,!0),u=1);var nt=n(i),l,ut,d=0,w,y=i.p.multiselect===!0?1:0,b=0,lt,v=i.p.rownumbers===!0?1:0,k,g=[],rt,s={},a,h,c=[],ri=i.p.altRows===!0?" "+i.p.altclass:"",at;i.p.subGrid===!0&&(b=1,lt=n.jgrid.getMethod("addSubGridCell"));o.repeatitems||(g=ii(ot));k=i.p.keyIndex===!1?n.isFunction(o.id)?o.id.call(i,t):o.id:i.p.keyIndex;g.length>0&&!isNaN(k)&&(i.p.remapColumns&&i.p.remapColumns.length&&(k=n.inArray(k,i.p.remapColumns)),k=g[k]);ot=(""+k).indexOf("[")===-1?g.length?function(t,i){return n(k,t).text()||i}:function(t,i){return n(o.cell,t).eq(k).text()||i}:function(n,t){return n.getAttribute(k.replace(/[\[\]]/g,""))||t};i.p.userData={};i.p.page=n.jgrid.getXmlData(t,o.page)||i.p.page||0;i.p.lastpage=n.jgrid.getXmlData(t,o.total);i.p.lastpage===void 0&&(i.p.lastpage=1);i.p.records=n.jgrid.getXmlData(t,o.records)||0;n.isFunction(o.userdata)?i.p.userData=o.userdata.call(i,t)||{}:n.jgrid.getXmlData(t,o.userdata,!0).each(function(){i.p.userData[this.getAttribute("name")]=n(this).text()});t=n.jgrid.getXmlData(t,o.root,!0);(t=n.jgrid.getXmlData(t,o.row,!0))||(t=[]);var tt=t.length,p=0,st=[],ht=parseInt(i.p.rowNum,10),vt=i.p.scroll?n.jgrid.randId():1;if(tt>0&&i.p.page<=0&&(i.p.page=1),t&&tt)for(e&&(ht=ht*(e+1)),e=n.isFunction(i.p.afterInsertRow),ct=!1,i.p.grouping&&(ct=i.p.groupingView.groupCollapse===!0,pt=n.jgrid.getMethod("groupingPrepare"));p<tt;){if(a=t[p],h=ot(a,vt+p),h=i.p.idPrefix+h,l=u===0?0:u+1,at=(l+p)%2==1?ri:"",bt=c.length,c.push(""),v&&c.push(ti(0,p,i.p.page,i.p.rowNum)),y&&c.push(ni(h,v,p,!1)),b&&c.push(lt.call(nt,y+v,p+u)),o.repeatitems)rt||(rt=et(y+b+v)),kt=n.jgrid.getXmlData(a,o.cell,!0),n.each(rt,function(n){var t=kt[this];if(!t)return!1;w=t.textContent||t.text;s[i.p.colModel[n+y+b+v].name]=w;c.push(yt(h,w,n+y+b+v,p+u,a,s))});else for(l=0;l<g.length;l++)w=n.jgrid.getXmlData(a,g[l]),s[i.p.colModel[l+y+b+v].name]=w,c.push(yt(h,w,l+y+b+v,p+u,a,s));if(c[bt]=wt(h,ct,at,s,a,!1),c.push("<\/tr>"),i.p.grouping&&(st=pt.call(nt,c,st,s,p),c=[]),(ft||i.p.treeGrid===!0)&&(s._id_=h,i.p.data.push(s),i.p._index[h]=i.p.data.length-1),i.p.gridview===!1&&(n("tbody:first",r).append(c.join("")),nt.triggerHandler("jqGridAfterInsertRow",[h,s,a]),e&&i.p.afterInsertRow.call(i,h,s,a),c=[]),s={},d++,p++,d==ht)break}if(i.p.gridview===!0&&(ut=i.p.treeANode>-1?i.p.treeANode:0,i.p.grouping?(nt.jqGrid("groupingRender",st,i.p.colModel.length),st=null):i.p.treeGrid===!0&&ut>0?n(i.rows[ut]).after(c.join("")):n("tbody:first",r).append(c.join(""))),i.p.subGrid===!0)try{nt.jqGrid("addSubGrid",y+v)}catch(ui){}if(i.p.totaltime=new Date-gt,d>0&&i.p.records===0&&(i.p.records=tt),c=null,i.p.treeGrid===!0)try{nt.jqGrid("setTreeNode",ut+1,d+ut+1)}catch(fi){}if(i.p.treeGrid||i.p.scroll||(i.grid.bDiv.scrollTop=0),i.p.reccount=d,i.p.treeANode=-1,i.p.userDataOnFooter&&nt.jqGrid("footerData","set",i.p.userData,!0),ft&&(i.p.records=tt,i.p.lastpage=Math.ceil(tt/ht)),f||i.updatepager(!1,!0),ft)for(;d<tt;){if(a=t[d],h=ot(a,d+vt),h=i.p.idPrefix+h,o.repeatitems)rt||(rt=et(y+b+v)),dt=n.jgrid.getXmlData(a,o.cell,!0),n.each(rt,function(n){var t=dt[this];if(!t)return!1;w=t.textContent||t.text;s[i.p.colModel[n+y+b+v].name]=w});else for(l=0;l<g.length;l++)w=n.jgrid.getXmlData(a,g[l]),s[i.p.colModel[l+y+b+v].name]=w;s._id_=h;i.p.data.push(s);i.p._index[h]=i.p.data.length-1;s={};d++}}},ot=function(t,r,u,f,e){var s,c,tt,bt;if(r=new Date,t){i.p.treeANode!==-1||i.p.scroll?u=u>1?u:1:(it.call(i,!1,!0),u=1);tt=i.p.datatype!="local"&&i.p.loadonce||i.p.datatype=="jsonstring";tt&&(i.p.data=[],i.p._index={},i.p.localReader.id="_id_");i.p.reccount=0;i.p.datatype=="local"?(s=i.p.localReader,c="local"):(s=i.p.jsonReader,c="json");var d=n(i),v=0,y,a,rt=[],w,k=i.p.multiselect?1:0,g=0,ht,b=i.p.rownumbers===!0?1:0,p,nt,l={},ut,o,h=[],kt=i.p.altRows===!0?" "+i.p.altclass:"",ct;i.p.page=n.jgrid.getAccessor(t,s.page)||i.p.page||0;p=n.jgrid.getAccessor(t,s.total);i.p.subGrid===!0&&(g=1,ht=n.jgrid.getMethod("addSubGridCell"));i.p.lastpage=p===void 0?1:p;i.p.records=n.jgrid.getAccessor(t,s.records)||0;i.p.userData=n.jgrid.getAccessor(t,s.userdata)||{};s.repeatitems||(w=rt=ii(c));c=i.p.keyIndex===!1?n.isFunction(s.id)?s.id.call(i,t):s.id:i.p.keyIndex;rt.length>0&&!isNaN(c)&&(i.p.remapColumns&&i.p.remapColumns.length&&(c=n.inArray(c,i.p.remapColumns)),c=rt[c]);(nt=n.jgrid.getAccessor(t,s.root))||(nt=[]);p=nt.length;t=0;p>0&&i.p.page<=0&&(i.p.page=1);var ft=parseInt(i.p.rowNum,10),lt=i.p.scroll?n.jgrid.randId():1,at=!1,ot;e&&(ft=ft*(e+1));i.p.datatype!=="local"||i.p.deselectAfterSort||(at=!0);var dt=n.isFunction(i.p.afterInsertRow),st=[],vt=!1,pt;for(i.p.grouping&&(vt=i.p.groupingView.groupCollapse===!0,pt=n.jgrid.getMethod("groupingPrepare"));t<p;){for(e=nt[t],o=n.jgrid.getAccessor(e,c),o===void 0&&(o=lt+t,rt.length===0&&s.cell&&(y=n.jgrid.getAccessor(e,s.cell),o=y!==void 0?y[c]||o:o)),o=i.p.idPrefix+o,y=u===1?0:u,ct=(y+t)%2==1?kt:"",at&&(ot=i.p.multiselect?n.inArray(o,i.p.selarrrow)!==-1:o===i.p.selrow),bt=h.length,h.push(""),b&&h.push(ti(0,t,i.p.page,i.p.rowNum)),k&&h.push(ni(o,b,t,ot)),g&&h.push(ht.call(d,k+b,t+u)),s.repeatitems&&(s.cell&&(e=n.jgrid.getAccessor(e,s.cell)),w||(w=et(k+g+b))),a=0;a<w.length;a++)y=n.jgrid.getAccessor(e,w[a]),l[i.p.colModel[a+k+g+b].name]=y,h.push(yt(o,y,a+k+g+b,t+u,e,l));if(h[bt]=wt(o,vt,ct,l,e,ot),h.push("<\/tr>"),i.p.grouping&&(st=pt.call(d,h,st,l,t),h=[]),(tt||i.p.treeGrid===!0)&&(l._id_=o,i.p.data.push(l),i.p._index[o]=i.p.data.length-1),i.p.gridview===!1&&(n("#"+n.jgrid.jqID(i.p.id)+" tbody:first").append(h.join("")),d.triggerHandler("jqGridAfterInsertRow",[o,l,e]),dt&&i.p.afterInsertRow.call(i,o,l,e),h=[]),l={},v++,t++,v==ft)break}if(i.p.gridview===!0&&(ut=i.p.treeANode>-1?i.p.treeANode:0,i.p.grouping?d.jqGrid("groupingRender",st,i.p.colModel.length):i.p.treeGrid===!0&&ut>0?n(i.rows[ut]).after(h.join("")):n("#"+n.jgrid.jqID(i.p.id)+" tbody:first").append(h.join(""))),i.p.subGrid===!0)try{d.jqGrid("addSubGrid",k+b)}catch(gt){}if(i.p.totaltime=new Date-r,v>0&&i.p.records===0&&(i.p.records=p),i.p.treeGrid===!0)try{d.jqGrid("setTreeNode",ut+1,v+ut+1)}catch(ri){}if(i.p.treeGrid||i.p.scroll||(i.grid.bDiv.scrollTop=0),i.p.reccount=v,i.p.treeANode=-1,i.p.userDataOnFooter&&d.jqGrid("footerData","set",i.p.userData,!0),tt&&(i.p.records=p,i.p.lastpage=Math.ceil(p/ft)),f||i.updatepager(!1,!0),tt)for(;v<p&&nt[v];){if(e=nt[v],o=n.jgrid.getAccessor(e,c),o===void 0&&(o=lt+v,rt.length===0&&s.cell&&(o=n.jgrid.getAccessor(e,s.cell)[c]||o)),e){for(o=i.p.idPrefix+o,s.repeatitems&&(s.cell&&(e=n.jgrid.getAccessor(e,s.cell)),w||(w=et(k+g+b))),a=0;a<w.length;a++)y=n.jgrid.getAccessor(e,w[a]),l[i.p.colModel[a+k+g+b].name]=y;l._id_=o;i.p.data.push(l);i.p._index[o]=i.p.data.length-1;l={}}v++}}},si=function(){function k(n){var f=0,i,o,s,e,r;if(n.groups!=null){for((o=n.groups.length&&n.groupOp.toString().toUpperCase()==="OR")&&t.orBegin(),i=0;i<n.groups.length;i++){f>0&&o&&t.or();try{k(n.groups[i])}catch(h){alert(h)}f++}o&&t.orEnd()}if(n.rules!=null)try{for((s=n.rules.length&&n.groupOp.toString().toUpperCase()==="OR")&&t.orBegin(),i=0;i<n.rules.length;i++)r=n.rules[i],e=n.groupOp.toString().toUpperCase(),c[r.op]&&r.field&&(f>0&&e&&e==="OR"&&(t=t.or()),t=c[r.op](t,e)(r.field,r.data,u[r.field])),f++;s&&t.orEnd()}catch(l){alert(l)}}var e,l=!1,u={},a=[],d=[],v,s,y,h,p,r,c,t,f;if(n.isArray(i.p.data))if(h=i.p.grouping?i.p.groupingView:!1,n.each(i.p.colModel,function(){if(s=this.sorttype||"text",s=="date"||s=="datetime"?(this.formatter&&typeof this.formatter=="string"&&this.formatter=="date"?(v=this.formatoptions&&this.formatoptions.srcformat?this.formatoptions.srcformat:n.jgrid.formatter.date.srcformat,y=this.formatoptions&&this.formatoptions.newformat?this.formatoptions.newformat:n.jgrid.formatter.date.newformat):v=y=this.datefmt||"Y-m-d",u[this.name]={stype:s,srcfmt:v,newfmt:y}):u[this.name]={stype:s,srcfmt:"",newfmt:""},i.p.grouping)for(r=0,p=h.groupField.length;r<p;r++)if(this.name==h.groupField[r]){var t=this.name;this.index&&(t=this.index);a[r]=u[t];d[r]=t}l||this.index!=i.p.sortname&&this.name!=i.p.sortname||(e=this.name,l=!0)}),i.p.treeGrid)n(i).jqGrid("SortTree",e,i.p.sortorder,u[e].stype,u[e].srcfmt);else{if(c={eq:function(n){return n.equals},ne:function(n){return n.notEquals},lt:function(n){return n.less},le:function(n){return n.lessOrEquals},gt:function(n){return n.greater},ge:function(n){return n.greaterOrEquals},cn:function(n){return n.contains},nc:function(n,t){return t==="OR"?n.orNot().contains:n.andNot().contains},bw:function(n){return n.startsWith},bn:function(n,t){return t==="OR"?n.orNot().startsWith:n.andNot().startsWith},en:function(n,t){return t==="OR"?n.orNot().endsWith:n.andNot().endsWith},ew:function(n){return n.endsWith},ni:function(n,t){return t==="OR"?n.orNot().equals:n.andNot().equals},"in":function(n){return n.equals},nu:function(n){return n.isNull},nn:function(n,t){return t==="OR"?n.orNot().isNull:n.andNot().isNull}},t=n.jgrid.from(i.p.data),i.p.ignoreCase&&(t=t.ignoreCase()),i.p.search===!0)if(f=i.p.postData.filters,f)typeof f=="string"&&(f=n.jgrid.parse(f)),k(f);else try{t=c[i.p.postData.searchOper](t)(i.p.postData.searchField,i.p.postData.searchString,u[i.p.postData.searchField])}catch(tt){}if(i.p.grouping)for(r=0;r<p;r++)t.orderBy(d[r],h.groupOrder[r],a[r].stype,a[r].srcfmt);e&&i.p.sortorder&&l&&(i.p.sortorder.toUpperCase()=="DESC"?t.orderBy(i.p.sortname,"d",u[e].stype,u[e].srcfmt):t.orderBy(i.p.sortname,"a",u[e].stype,u[e].srcfmt));var f=t.select(),w=parseInt(i.p.rowNum,10),g=f.length,b=parseInt(i.p.page,10),nt=Math.ceil(g/w),o={},f=f.slice((b-1)*w,b*w),u=t=null;return o[i.p.localReader.total]=nt,o[i.p.localReader.page]=b,o[i.p.localReader.records]=g,o[i.p.localReader.root]=f,o[i.p.localReader.userdata]=i.p.userData,f=null,o}},st=function(){if(i.grid.hDiv.loading=!0,!i.p.hiddengrid)switch(i.p.loadui){case"enable":n("#load_"+n.jgrid.jqID(i.p.id)).show();break;case"block":n("#lui_"+n.jgrid.jqID(i.p.id)).show();n("#load_"+n.jgrid.jqID(i.p.id)).show()}},k=function(){i.grid.hDiv.loading=!1;switch(i.p.loadui){case"enable":n("#load_"+n.jgrid.jqID(i.p.id)).hide();break;case"block":n("#lui_"+n.jgrid.jqID(i.p.id)).hide();n("#load_"+n.jgrid.jqID(i.p.id)).hide()}},y=function(t){var c,e,l,a,v,r;if(!i.grid.hDiv.loading){var p=i.p.scroll&&t===!1,r={},o,u=i.p.prmNames;i.p.page<=0&&(i.p.page=1);u.search!==null&&(r[u.search]=i.p.search);u.nd!==null&&(r[u.nd]=(new Date).getTime());u.rows!==null&&(r[u.rows]=i.p.rowNum);u.page!==null&&(r[u.page]=i.p.page);u.sort!==null&&(r[u.sort]=i.p.sortname);u.order!==null&&(r[u.order]=i.p.sortorder);i.p.rowTotal!==null&&u.totalrows!==null&&(r[u.totalrows]=i.p.rowTotal);var s=n.isFunction(i.p.loadComplete),f=s?i.p.loadComplete:null,h=0,t=t||1;if(t>1?u.npage!==null?(r[u.npage]=t,h=t-1,t=1):f=function(n){i.p.page++;i.grid.hDiv.loading=!1;s&&i.p.loadComplete.call(i,n);y(t-1)}:u.npage!==null&&delete i.p.postData[u.npage],i.p.grouping){for(n(i).jqGrid("groupingSetup"),c=i.p.groupingView,l="",e=0;e<c.groupField.length;e++)a=c.groupField[e],n.each(i.p.colModel,function(n,t){t.name==a&&t.index&&(a=t.index)}),l=l+(a+" "+c.groupOrder[e]+", ");r[u.sort]=l+r[u.sort]}if(n.extend(i.p.postData,r),v=i.p.scroll?i.rows.length-1:1,r=n(i).triggerHandler("jqGridBeforeRequest"),!(r===!1||r==="stop"))if(n.isFunction(i.p.datatype))i.p.datatype.call(i,i.p.postData,"load_"+i.p.id);else{if(n.isFunction(i.p.beforeRequest)&&(r=i.p.beforeRequest.call(i),r===void 0&&(r=!0),r===!1))return;o=i.p.datatype.toLowerCase();switch(o){case"json":case"jsonp":case"xml":case"script":n.ajax(n.extend({url:i.p.url,type:i.p.mtype,dataType:o,data:n.isFunction(i.p.serializeGridData)?i.p.serializeGridData.call(i,i.p.postData):i.p.postData,success:function(r,u,e){n.isFunction(i.p.beforeProcessing)&&i.p.beforeProcessing.call(i,r,u,e)===!1?k():(o==="xml"?bt(r,i.grid.bDiv,v,t>1,h):ot(r,i.grid.bDiv,v,t>1,h),n(i).triggerHandler("jqGridLoadComplete",[r]),f&&f.call(i,r),n(i).triggerHandler("jqGridAfterLoadComplete",[r]),p&&i.grid.populateVisible(),(i.p.loadonce||i.p.treeGrid)&&(i.p.datatype="local"),t===1&&k())},error:function(r,u,f){n.isFunction(i.p.loadError)&&i.p.loadError.call(i,r,u,f);t===1&&k()},beforeSend:function(t,r){var u=!0;if(n.isFunction(i.p.loadBeforeSend)&&(u=i.p.loadBeforeSend.call(i,t,r)),u===void 0&&(u=!0),u===!1)return!1;st()}},n.jgrid.ajaxOptions,i.p.ajaxGridOptions));break;case"xmlstring":st();r=n.jgrid.stringToDoc(i.p.datastr);bt(r,i.grid.bDiv);n(i).triggerHandler("jqGridLoadComplete",[r]);s&&i.p.loadComplete.call(i,r);n(i).triggerHandler("jqGridAfterLoadComplete",[r]);i.p.datatype="local";i.p.datastr=null;k();break;case"jsonstring":st();r=typeof i.p.datastr=="string"?n.jgrid.parse(i.p.datastr):i.p.datastr;ot(r,i.grid.bDiv);n(i).triggerHandler("jqGridLoadComplete",[r]);s&&i.p.loadComplete.call(i,r);n(i).triggerHandler("jqGridAfterLoadComplete",[r]);i.p.datatype="local";i.p.datastr=null;k();break;case"local":case"clientside":st();i.p.datatype="local";r=si();ot(r,i.grid.bDiv,v,t>1,h);n(i).triggerHandler("jqGridLoadComplete",[r]);f&&f.call(i,r);n(i).triggerHandler("jqGridAfterLoadComplete",[r]);p&&i.grid.populateVisible();k()}}}},ht=function(t){n("#cb_"+n.jgrid.jqID(i.p.id),i.grid.hDiv)[i.p.useProp?"prop":"attr"]("checked",t);i.p.frozenColumns&&i.p.id+"_frozen"&&n("#cb_"+n.jgrid.jqID(i.p.id),i.grid.fhDiv)[i.p.useProp?"prop":"attr"]("checked",t)},ri=function(t,r){var h="",u="<table cellspacing='0' cellpadding='0' border='0' style='table-layout:auto;' class='ui-pg-table'><tbody><tr>",e="",s,f,l,a,c=function(t){var r;return n.isFunction(i.p.onPaging)&&(r=i.p.onPaging.call(i,t)),i.p.selrow=null,i.p.multiselect&&(i.p.selarrrow=[],ht(!1)),i.p.savedRow=[],r=="stop"?!1:!0},t=t.substr(1),r=r+("_"+t);if(s="pg_"+t,f=t+"_left",l=t+"_center",a=t+"_right",n("#"+n.jgrid.jqID(t)).append("<div id='"+s+"' class='ui-pager-control' role='group'><table cellspacing='0' cellpadding='0' border='0' class='ui-pg-table' style='width:100%;table-layout:fixed;height:100%;' role='row'><tbody><tr><td id='"+f+"' align='left'><\/td><td id='"+l+"' align='center' style='white-space:pre;'><\/td><td id='"+a+"' align='right'><\/td><\/tr><\/tbody><\/table><\/div>").attr("dir","ltr"),i.p.rowList.length>0){for(e="<td dir='"+o+"'>",e=e+"<select class='ui-pg-selbox' role='listbox'>",f=0;f<i.p.rowList.length;f++)e=e+('<option role="option" value="'+i.p.rowList[f]+'"'+(i.p.rowNum==i.p.rowList[f]?' selected="selected"':"")+">"+i.p.rowList[f]+"<\/option>");e=e+"<\/select><\/td>"}o=="rtl"&&(u=u+e);i.p.pginput===!0&&(h="<td dir='"+o+"'>"+n.jgrid.format(i.p.pgtext||"","<input class='ui-pg-input' type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1_"+n.jgrid.jqID(t)+"'><\/span>")+"<\/td>");i.p.pgbuttons===!0?(f=["first"+r,"prev"+r,"next"+r,"last"+r],o=="rtl"&&f.reverse(),u=u+("<td id='"+f[0]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-first'><\/span><\/td>"),u=u+("<td id='"+f[1]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-prev'><\/span><\/td>"),u=u+(h!==""?"<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'><\/span><\/td>"+h+"<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'><\/span><\/td>":"")+("<td id='"+f[2]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-next'><\/span><\/td>"),u=u+("<td id='"+f[3]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-end'><\/span><\/td>")):h!==""&&(u=u+h);o=="ltr"&&(u=u+e);u=u+"<\/tr><\/tbody><\/table>";i.p.viewrecords===!0&&n("td#"+t+"_"+i.p.recordpos,"#"+s).append("<div dir='"+o+"' style='text-align:"+i.p.recordpos+"' class='ui-paging-info'><\/div>");n("td#"+t+"_"+i.p.pagerpos,"#"+s).append(u);e=n(".ui-jqgrid").css("font-size")||"11px";n(document.body).append("<div id='testpg' class='ui-jqgrid ui-widget ui-widget-content' style='font-size:"+e+";visibility:hidden;' ><\/div>");u=n(u).clone().appendTo("#testpg").width();n("#testpg").remove();u>0&&(h!==""&&(u=u+50),n("td#"+t+"_"+i.p.pagerpos,"#"+s).width(u));i.p._nvtd=[];i.p._nvtd[0]=u?Math.floor((i.p.width-u)/2):Math.floor(i.p.width/3);i.p._nvtd[1]=0;u=null;n(".ui-pg-selbox","#"+s).bind("change",function(){return c("records")?(i.p.page=Math.round(i.p.rowNum*(i.p.page-1)/this.value-.5)+1,i.p.rowNum=this.value,i.p.pager&&n(".ui-pg-selbox",i.p.pager).val(this.value),i.p.toppager&&n(".ui-pg-selbox",i.p.toppager).val(this.value),y(),!1):!1});i.p.pgbuttons===!0&&(n(".ui-pg-button","#"+s).hover(function(){n(this).hasClass("ui-state-disabled")?this.style.cursor="default":(n(this).addClass("ui-state-hover"),this.style.cursor="pointer")},function(){n(this).hasClass("ui-state-disabled")||(n(this).removeClass("ui-state-hover"),this.style.cursor="default")}),n("#first"+n.jgrid.jqID(r)+", #prev"+n.jgrid.jqID(r)+", #next"+n.jgrid.jqID(r)+", #last"+n.jgrid.jqID(r)).click(function(){var n=p(i.p.page,1),t=p(i.p.lastpage,1),u=!1,o=!0,s=!0,f=!0,e=!0;return(t===0||t===1?e=f=s=o=!1:t>1&&n>=1?n===1?s=o=!1:n===t&&(e=f=!1):t>1&&n===0&&(e=f=!1,n=t-1),!c(this.id))?!1:(this.id==="first"+r&&o&&(i.p.page=1,u=!0),this.id==="prev"+r&&s&&(i.p.page=n-1,u=!0),this.id==="next"+r&&f&&(i.p.page=n+1,u=!0),this.id==="last"+r&&e&&(i.p.page=t,u=!0),u&&y(),!1)}));i.p.pginput===!0&&n("input.ui-pg-input","#"+s).keypress(function(t){return(t.charCode||t.keyCode||0)==13?c("user")?(i.p.page=n(this).val()>0?n(this).val():i.p.page,y(),!1):!1:this})},ui=function(t,r,u,f){if(i.p.colModel[r].sortable&&!(i.p.savedRow.length>0)){if(u||(i.p.lastsort==r?i.p.sortorder=="asc"?i.p.sortorder="desc":i.p.sortorder=="desc"&&(i.p.sortorder="asc"):i.p.sortorder=i.p.colModel[r].firstsortorder||"asc",i.p.page=1),f){if(i.p.lastsort==r&&i.p.sortorder==f&&!u)return;i.p.sortorder=f}u=i.grid.headers[i.p.lastsort].el;f=i.grid.headers[r].el;n("span.ui-grid-ico-sort",u).addClass("ui-state-disabled");n(u).attr("aria-selected","false");n("span.ui-icon-"+i.p.sortorder,f).removeClass("ui-state-disabled");n(f).attr("aria-selected","true");i.p.viewsortcols[0]||i.p.lastsort==r||(n("span.s-ico",u).hide(),n("span.s-ico",f).show());t=t.substring(5+i.p.id.length+1);i.p.sortname=i.p.colModel[r].index||t;u=i.p.sortorder;n(i).triggerHandler("jqGridSortCol",[t,r,u])==="stop"?i.p.lastsort=r:n.isFunction(i.p.onSortCol)&&i.p.onSortCol.call(i,t,r,u)=="stop"?i.p.lastsort=r:(i.p.datatype=="local"?i.p.deselectAfterSort&&n(i).jqGrid("resetSelection"):(i.p.selrow=null,i.p.multiselect&&ht(!1),i.p.selarrrow=[],i.p.savedRow=[]),i.p.scroll&&(u=i.grid.bDiv.scrollLeft,it.call(i,!0,!1),i.grid.hDiv.scrollLeft=u),i.p.subGrid&&i.p.datatype=="local"&&n("td.sgexpanded","#"+n.jgrid.jqID(i.p.id)).each(function(){n(this).trigger("click")}),y(),i.p.lastsort=r,i.p.sortname!=t&&r&&(i.p.lastsort=r))}},hi=function(t){for(var r=[0],f=n.jgrid.cell_width?0:i.p.cellLayout,u=0;u<=t;u++)i.p.colModel[u].hidden===!1&&(r[0]=r[0]+(i.p.colModel[u].width+f));return i.p.direction=="rtl"&&(r[0]=i.p.width-r[0]),r[0]=r[0]-i.grid.bDiv.scrollLeft,r.push(n(i.grid.hDiv).position().top),r.push(n(i.grid.bDiv).offset().top-n(i.grid.hDiv).offset().top+n(i.grid.bDiv).height()),r},fi=function(t){for(var u=i.grid.headers,f=n.jgrid.getCellIndex(t),r=0;r<u.length;r++)if(t===u[r].el){f=r;break}return f};for(this.p.id=this.id,-1==n.inArray(i.p.multikey,["shiftKey","altKey","ctrlKey"])&&(i.p.multikey=!1),i.p.keyIndex=!1,f=0;f<i.p.colModel.length;f++)i.p.colModel[f]=n.extend(!0,{},i.p.cmTemplate,i.p.colModel[f].template||{},i.p.colModel[f]),!1===i.p.keyIndex&&!0===i.p.colModel[f].key&&(i.p.keyIndex=f);if(i.p.sortorder=i.p.sortorder.toLowerCase(),n.jgrid.cell_width=n.jgrid.cellWidth(),!0===i.p.grouping&&(i.p.scroll=!1,i.p.rownumbers=!1,i.p.treeGrid=!1,i.p.gridview=!0),!0===this.p.treeGrid){try{n(this).jqGrid("setTreeGrid")}catch(ci){}"local"!=i.p.datatype&&(i.p.localReader={id:"_id_"})}if(this.p.subGrid)try{n(i).jqGrid("setSubGrid")}catch(li){}if(this.p.multiselect&&(this.p.colNames.unshift("<input role='checkbox' id='cb_"+this.p.id+"' class='cbox' type='checkbox'/>"),this.p.colModel.unshift({name:"cb",width:n.jgrid.cell_width?i.p.multiselectWidth+i.p.cellLayout:i.p.multiselectWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0})),this.p.rownumbers&&(this.p.colNames.unshift(""),this.p.colModel.unshift({name:"rn",width:i.p.rownumWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0})),i.p.xmlReader=n.extend(!0,{root:"rows",row:"row",page:"rows>page",total:"rows>total",records:"rows>records",repeatitems:!0,cell:"cell",id:"[id]",userdata:"userdata",subgrid:{root:"rows",row:"row",repeatitems:!0,cell:"cell"}},i.p.xmlReader),i.p.jsonReader=n.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!0,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},i.p.jsonReader),i.p.localReader=n.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},i.p.localReader),i.p.scroll&&(i.p.pgbuttons=!1,i.p.pginput=!1,i.p.rowList=[]),i.p.data.length&&pt(),l="<thead><tr class='ui-jqgrid-labels' role='rowheader'>",w=d="",!0===i.p.shrinkToFit&&!0===i.p.forceFit)for(f=i.p.colModel.length-1;0<=f;f--)if(!i.p.colModel[f].hidden){i.p.colModel[f].resizable=!1;break}for("horizontal"==i.p.viewsortcols[1]&&(d=" ui-i-asc",w=" ui-i-desc"),ei=ft?"class='ui-th-div-ie'":"",d="<span class='s-ico' style='display:none'><span sort='asc' class='ui-grid-ico-sort ui-icon-asc"+d+" ui-state-disabled ui-icon ui-icon-triangle-1-n ui-sort-"+o+"'><\/span>"+("<span sort='desc' class='ui-grid-ico-sort ui-icon-desc"+w+" ui-state-disabled ui-icon ui-icon-triangle-1-s ui-sort-"+o+"'><\/span><\/span>"),f=0;f<this.p.colNames.length;f++)w=i.p.headertitles?' title="'+n.jgrid.stripHtml(i.p.colNames[f])+'"':"",l+="<th id='"+i.p.id+"_"+i.p.colModel[f].name+"' role='columnheader' class='ui-state-default ui-th-column ui-th-"+o+"'"+w+">",w=i.p.colModel[f].index||i.p.colModel[f].name,l+="<div id='jqgh_"+i.p.id+"_"+i.p.colModel[f].name+"' "+ei+">"+i.p.colNames[f],i.p.colModel[f].width=i.p.colModel[f].width?parseInt(i.p.colModel[f].width,10):150,"boolean"!=typeof i.p.colModel[f].title&&(i.p.colModel[f].title=!0),w==i.p.sortname&&(i.p.lastsort=f),l+=d+"<\/div><\/th>";if(d=null,n(this).append(l+"<\/tr><\/thead>"),n("thead tr:first th",this).hover(function(){n(this).addClass("ui-state-hover")},function(){n(this).removeClass("ui-state-hover")}),this.p.multiselect&&(rt=[],n("#cb_"+n.jgrid.jqID(i.p.id),this).bind("click",function(){i.p.selarrrow=[];var t=i.p.frozenColumns===!0?i.p.id+"_frozen":"";this.checked?(n(i.rows).each(function(r){r>0&&!n(this).hasClass("ui-subgrid")&&!n(this).hasClass("jqgroup")&&!n(this).hasClass("ui-state-disabled")&&(n("#jqg_"+n.jgrid.jqID(i.p.id)+"_"+n.jgrid.jqID(this.id))[i.p.useProp?"prop":"attr"]("checked",!0),n(this).addClass("ui-state-highlight").attr("aria-selected","true"),i.p.selarrrow.push(this.id),i.p.selrow=this.id,t&&(n("#jqg_"+n.jgrid.jqID(i.p.id)+"_"+n.jgrid.jqID(this.id),i.grid.fbDiv)[i.p.useProp?"prop":"attr"]("checked",!0),n("#"+n.jgrid.jqID(this.id),i.grid.fbDiv).addClass("ui-state-highlight")))}),g=!0,rt=[]):(n(i.rows).each(function(r){r>0&&!n(this).hasClass("ui-subgrid")&&!n(this).hasClass("ui-state-disabled")&&(n("#jqg_"+n.jgrid.jqID(i.p.id)+"_"+n.jgrid.jqID(this.id))[i.p.useProp?"prop":"attr"]("checked",!1),n(this).removeClass("ui-state-highlight").attr("aria-selected","false"),rt.push(this.id),t&&(n("#jqg_"+n.jgrid.jqID(i.p.id)+"_"+n.jgrid.jqID(this.id),i.grid.fbDiv)[i.p.useProp?"prop":"attr"]("checked",!1),n("#"+n.jgrid.jqID(this.id),i.grid.fbDiv).removeClass("ui-state-highlight")))}),i.p.selrow=null,g=!1);n(i).triggerHandler("jqGridSelectAll",[g?i.p.selarrrow:rt,g]);n.isFunction(i.p.onSelectAll)&&i.p.onSelectAll.call(i,g?i.p.selarrrow:rt,g)})),!0===i.p.autowidth&&(l=n(b).innerWidth(),i.p.width=0<l?l:"nw"),function(){var t=0,u=n.jgrid.cell_width?0:p(i.p.cellLayout,0),f=0,o,c=p(i.p.scrollOffset,0),s,a=!1,l,e=0,v=0,h;n.each(i.p.colModel,function(){if(this.hidden===void 0&&(this.hidden=!1),i.p.grouping&&i.p.autowidth){var r=n.inArray(this.name,i.p.groupingView.groupField);r!==-1&&(this.hidden=!i.p.groupingView.groupColumnShow[r])}this.widthOrg=s=p(this.width,0);this.hidden===!1&&(t=t+(s+u),this.fixed?e=e+(s+u):f++,v++)});isNaN(i.p.width)&&(i.p.width=t+(i.p.shrinkToFit===!1&&!isNaN(i.p.height)?c:0));r.width=i.p.width;i.p.tblwidth=t;i.p.shrinkToFit===!1&&i.p.forceFit===!0&&(i.p.forceFit=!1);i.p.shrinkToFit===!0&&f>0&&(l=r.width-u*f-e,isNaN(i.p.height)||(l=l-c,a=!0),t=0,n.each(i.p.colModel,function(n){this.hidden!==!1||this.fixed||(this.width=s=Math.round(l*this.width/(i.p.tblwidth-u*f-e)),t=t+s,o=n)}),h=0,a?r.width-e-(t+u*f)!==c&&(h=r.width-e-(t+u*f)-c):!a&&Math.abs(r.width-e-(t+u*f))!==1&&(h=r.width-e-(t+u*f)),i.p.colModel[o].width=i.p.colModel[o].width+h,i.p.tblwidth=t+h+u*f+e,i.p.tblwidth>i.p.width&&(i.p.colModel[o].width=i.p.colModel[o].width-(i.p.tblwidth-parseInt(i.p.width,10)),i.p.tblwidth=i.p.width))}(),n(b).css("width",r.width+"px").append("<div class='ui-jqgrid-resize-mark' id='rs_m"+i.p.id+"'>&#160;<\/div>"),n(c).css("width",r.width+"px"),l=n("thead:first",i).get(0),nt="",i.p.footerrow&&(nt+="<table role='grid' style='width:"+i.p.tblwidth+"px' class='ui-jqgrid-ftable' cellspacing='0' cellpadding='0' border='0'><tbody><tr role='row' class='ui-widget-content footrow footrow-"+o+"'>"),c=n("tr:first",l),ut="<tr class='jqgfirstrow' role='row' style='height:auto'>",i.p.disableClick=!1,n("th",c).each(function(t){ct=i.p.colModel[t].width;i.p.colModel[t].resizable===void 0&&(i.p.colModel[t].resizable=!0);i.p.colModel[t].resizable?(lt=document.createElement("span"),n(lt).html("&#160;").addClass("ui-jqgrid-resize ui-jqgrid-resize-"+o).css("cursor","col-resize"),n(this).addClass(i.p.resizeclass)):lt="";n(this).css("width",ct+"px").prepend(lt);var u="";i.p.colModel[t].hidden&&(n(this).css("display","none"),u="display:none;");ut=ut+("<td role='gridcell' style='height:0px;width:"+ct+"px;"+u+"'><\/td>");r.headers[t]={width:ct,el:this};at=i.p.colModel[t].sortable;typeof at!="boolean"&&(at=i.p.colModel[t].sortable=!0);u=i.p.colModel[t].name;u=="cb"||u=="subgrid"||u=="rn"||i.p.viewsortcols[2]&&n(">div",this).addClass("ui-jqgrid-sortable");at&&(i.p.viewsortcols[0]?(n("div span.s-ico",this).show(),t==i.p.lastsort&&n("div span.ui-icon-"+i.p.sortorder,this).removeClass("ui-state-disabled")):t==i.p.lastsort&&(n("div span.s-ico",this).show(),n("div span.ui-icon-"+i.p.sortorder,this).removeClass("ui-state-disabled")));i.p.footerrow&&(nt=nt+("<td role='gridcell' "+tt(t,0,"",null,"",!1)+">&#160;<\/td>"))}).mousedown(function(t){var u,o,e,f;if(n(t.target).closest("th>span.ui-jqgrid-resize").length==1){if(u=fi(this),i.p.forceFit===!0){for(o=i.p,e=u,f=u+1;f<i.p.colModel.length;f++)if(i.p.colModel[f].hidden!==!0){e=f;break}o.nv=e-u}return r.dragStart(u,t,hi(u)),!1}}).click(function(t){if(i.p.disableClick)return i.p.disableClick=!1;var r="th>div.ui-jqgrid-sortable",u,f;return i.p.viewsortcols[2]||(r="th>div>span>span.ui-grid-ico-sort"),t=n(t.target).closest(r),t.length==1?(r=fi(this),i.p.viewsortcols[2]||(u=!0,f=t.attr("sort")),ui(n("div",this)[0].id,r,u,f),!1):void 0}),i.p.sortable&&n.fn.sortable)try{n(i).jqGrid("sortableColumns",c)}catch(ai){}i.p.footerrow&&(nt+="<\/tr><\/tbody><\/table>");ut+="<\/tr>";this.appendChild(document.createElement("tbody"));n(this).addClass("ui-jqgrid-btable").append(ut);var ut=null,c=n("<table class='ui-jqgrid-htable' style='width:"+i.p.tblwidth+"px' role='grid' aria-labelledby='gbox_"+this.id+"' cellspacing='0' cellpadding='0' border='0'><\/table>").append(l),a=i.p.caption&&!0===i.p.hiddengrid?!0:!1;f=n("<div class='ui-jqgrid-hbox"+("rtl"==o?"-rtl":"")+"'><\/div>");l=null;r.hDiv=document.createElement("div");n(r.hDiv).css({width:r.width+"px"}).addClass("ui-state-default ui-jqgrid-hdiv").append(f);n(f).append(c);c=null;a&&n(r.hDiv).hide();i.p.pager&&("string"==typeof i.p.pager?"#"!=i.p.pager.substr(0,1)&&(i.p.pager="#"+i.p.pager):i.p.pager="#"+n(i.p.pager).attr("id"),n(i.p.pager).css({width:r.width+"px"}).addClass("ui-state-default ui-jqgrid-pager ui-corner-bottom").appendTo(b),a&&n(i.p.pager).hide(),ri(i.p.pager,""));!1===i.p.cellEdit&&!0===i.p.hoverrows&&n(i).bind("mouseover",function(t){e=n(t.target).closest("tr.jqgrow");n(e).attr("class")!=="ui-subgrid"&&n(e).addClass("ui-state-hover")}).bind("mouseout",function(t){e=n(t.target).closest("tr.jqgrow");n(e).removeClass("ui-state-hover")});n(i).before(r.hDiv).click(function(t){var r,u,f;if(s=t.target,e=n(s,i.rows).closest("tr.jqgrow"),n(e).length===0||e[0].className.indexOf("ui-state-disabled")>-1||(n(s,i).closest("table.ui-jqgrid-btable").attr("id")||"").replace("_frozen","")!==i.id)return this;if(r=n(s).hasClass("cbox"),u=n(i).triggerHandler("jqGridBeforeSelectRow",[e[0].id,t]),(u=u===!1||u==="stop"?!1:!0)&&n.isFunction(i.p.beforeSelectRow)&&(u=i.p.beforeSelectRow.call(i,e[0].id,t)),!(s.tagName=="A"||(s.tagName=="INPUT"||s.tagName=="TEXTAREA"||s.tagName=="OPTION"||s.tagName=="SELECT")&&!r)&&u===!0)if(h=e[0].id,v=n.jgrid.getCellIndex(s),kt=n(s).closest("td,th").html(),n(i).triggerHandler("jqGridCellSelect",[h,v,kt,t]),n.isFunction(i.p.onCellSelect)&&i.p.onCellSelect.call(i,h,v,kt,t),i.p.cellEdit===!0)if(i.p.multiselect&&r)n(i).jqGrid("setSelection",h,!0,t);else{h=e[0].rowIndex;try{n(i).jqGrid("editCell",h,v,!0)}catch(o){}}else i.p.multikey?t[i.p.multikey]?n(i).jqGrid("setSelection",h,!0,t):i.p.multiselect&&r&&(r=n("#jqg_"+n.jgrid.jqID(i.p.id)+"_"+h).is(":checked"),n("#jqg_"+n.jgrid.jqID(i.p.id)+"_"+h)[i.p.useProp?"prop":"attr"]("checked",r)):(i.p.multiselect&&i.p.multiboxonly&&!r&&(f=i.p.frozenColumns?i.p.id+"_frozen":"",n(i.p.selarrrow).each(function(t,r){var u=i.rows.namedItem(r);n(u).removeClass("ui-state-highlight");n("#jqg_"+n.jgrid.jqID(i.p.id)+"_"+n.jgrid.jqID(r))[i.p.useProp?"prop":"attr"]("checked",!1);f&&(n("#"+n.jgrid.jqID(r),"#"+n.jgrid.jqID(f)).removeClass("ui-state-highlight"),n("#jqg_"+n.jgrid.jqID(i.p.id)+"_"+n.jgrid.jqID(r),"#"+n.jgrid.jqID(f))[i.p.useProp?"prop":"attr"]("checked",!1))}),i.p.selarrrow=[]),n(i).jqGrid("setSelection",h,!0,t))}).bind("reloadGrid",function(t,r){if(i.p.treeGrid===!0&&(i.p.datatype=i.p.treedatatype),r&&r.current&&i.grid.selectionPreserver(i),i.p.datatype=="local"?(n(i).jqGrid("resetSelection"),i.p.data.length&&pt()):i.p.treeGrid||(i.p.selrow=null,i.p.multiselect&&(i.p.selarrrow=[],ht(!1)),i.p.savedRow=[]),i.p.scroll&&it.call(i,!0,!1),r&&r.page){var u=r.page;u>i.p.lastpage&&(u=i.p.lastpage);u<1&&(u=1);i.p.page=u;i.grid.bDiv.scrollTop=i.grid.prevRowHeight?(u-1)*i.grid.prevRowHeight*i.p.rowNum:0}return i.grid.prevRowHeight&&i.p.scroll?(delete i.p.lastpage,i.grid.populateVisible()):i.grid.populate(),i.p._inlinenav===!0&&n(i).jqGrid("showAddEditButtons"),!1}).dblclick(function(t){s=t.target;e=n(s,i.rows).closest("tr.jqgrow");n(e).length!==0&&(h=e[0].rowIndex,v=n.jgrid.getCellIndex(s),n(i).triggerHandler("jqGridDblClickRow",[n(e).attr("id"),h,v,t]),n.isFunction(this.p.ondblClickRow)&&i.p.ondblClickRow.call(i,n(e).attr("id"),h,v,t))}).bind("contextmenu",function(t){s=t.target;e=n(s,i.rows).closest("tr.jqgrow");n(e).length!==0&&(i.p.multiselect||n(i).jqGrid("setSelection",e[0].id,!0,t),h=e[0].rowIndex,v=n.jgrid.getCellIndex(s),n(i).triggerHandler("jqGridRightClickRow",[n(e).attr("id"),h,v,t]),n.isFunction(this.p.onRightClickRow)&&i.p.onRightClickRow.call(i,n(e).attr("id"),h,v,t))});r.bDiv=document.createElement("div");ft&&"auto"===(""+i.p.height).toLowerCase()&&(i.p.height="100%");n(r.bDiv).append(n('<div style="position:relative;'+(ft&&8>n.jgrid.msiever()?"height:0.01%;":"")+'"><\/div>').append("<div><\/div>").append(this)).addClass("ui-jqgrid-bdiv").css({height:i.p.height+(isNaN(i.p.height)?"":"px"),width:r.width+"px"}).scroll(r.scrollGrid);n("table:first",r.bDiv).css({width:i.p.tblwidth+"px"});n.support.tbody||2==n("tbody",this).length&&n("tbody:gt(0)",this).remove();i.p.multikey&&(n.jgrid.msie?n(r.bDiv).bind("selectstart",function(){return!1}):n(r.bDiv).bind("mousedown",function(){return!1}));a&&n(r.bDiv).hide();r.cDiv=document.createElement("div");vt=!0===i.p.hidegrid?n("<a role='link' href='javascript:void(0)'/>").addClass("ui-jqgrid-titlebar-close HeaderButton").hover(function(){vt.addClass("ui-state-hover")},function(){vt.removeClass("ui-state-hover")}).append("<span class='ui-icon ui-icon-circle-triangle-n'><\/span>").css("rtl"==o?"left":"right","0px"):"";n(r.cDiv).append(vt).append("<span class='ui-jqgrid-title"+("rtl"==o?"-rtl":"")+"'>"+i.p.caption+"<\/span>").addClass("ui-jqgrid-titlebar ui-widget-header ui-corner-top ui-helper-clearfix");n(r.cDiv).insertBefore(r.hDiv);i.p.toolbar[0]&&(r.uDiv=document.createElement("div"),"top"==i.p.toolbar[1]?n(r.uDiv).insertBefore(r.hDiv):"bottom"==i.p.toolbar[1]&&n(r.uDiv).insertAfter(r.hDiv),"both"==i.p.toolbar[1]?(r.ubDiv=document.createElement("div"),n(r.uDiv).addClass("ui-userdata ui-state-default").attr("id","t_"+this.id).insertBefore(r.hDiv),n(r.ubDiv).addClass("ui-userdata ui-state-default").attr("id","tb_"+this.id).insertAfter(r.hDiv),a&&n(r.ubDiv).hide()):n(r.uDiv).width(r.width).addClass("ui-userdata ui-state-default").attr("id","t_"+this.id),a&&n(r.uDiv).hide());i.p.toppager&&(i.p.toppager=n.jgrid.jqID(i.p.id)+"_toppager",r.topDiv=n("<div id='"+i.p.toppager+"'><\/div>")[0],i.p.toppager="#"+i.p.toppager,n(r.topDiv).addClass("ui-state-default ui-jqgrid-toppager").width(r.width).insertBefore(r.hDiv),ri(i.p.toppager,"_t"));i.p.footerrow&&(r.sDiv=n("<div class='ui-jqgrid-sdiv'><\/div>")[0],f=n("<div class='ui-jqgrid-hbox"+("rtl"==o?"-rtl":"")+"'><\/div>"),n(r.sDiv).append(f).width(r.width).insertAfter(r.hDiv),n(f).append(nt),r.footers=n(".ui-jqgrid-ftable",r.sDiv)[0].rows[0].cells,i.p.rownumbers&&(r.footers[0].className="ui-state-default jqgrid-rownum"),a&&n(r.sDiv).hide());f=null;i.p.caption?(oi=i.p.datatype,!0===i.p.hidegrid&&(n(".ui-jqgrid-titlebar-close",r.cDiv).click(function(t){var e=n.isFunction(i.p.onHeaderClick),u=".ui-jqgrid-bdiv, .ui-jqgrid-hdiv, .ui-jqgrid-pager, .ui-jqgrid-sdiv",f,o=this;return i.p.toolbar[0]===!0&&(i.p.toolbar[1]=="both"&&(u=u+(", #"+n(r.ubDiv).attr("id"))),u=u+(", #"+n(r.uDiv).attr("id"))),f=n(u,"#gview_"+n.jgrid.jqID(i.p.id)).length,i.p.gridstate=="visible"?n(u,"#gbox_"+n.jgrid.jqID(i.p.id)).slideUp("fast",function(){f--;f===0&&(n("span",o).removeClass("ui-icon-circle-triangle-n").addClass("ui-icon-circle-triangle-s"),i.p.gridstate="hidden",n("#gbox_"+n.jgrid.jqID(i.p.id)).hasClass("ui-resizable")&&n(".ui-resizable-handle","#gbox_"+n.jgrid.jqID(i.p.id)).hide(),n(i).triggerHandler("jqGridHeaderClick",[i.p.gridstate,t]),e&&(a||i.p.onHeaderClick.call(i,i.p.gridstate,t)))}):i.p.gridstate=="hidden"&&n(u,"#gbox_"+n.jgrid.jqID(i.p.id)).slideDown("fast",function(){f--;f===0&&(n("span",o).removeClass("ui-icon-circle-triangle-s").addClass("ui-icon-circle-triangle-n"),a&&(i.p.datatype=oi,y(),a=!1),i.p.gridstate="visible",n("#gbox_"+n.jgrid.jqID(i.p.id)).hasClass("ui-resizable")&&n(".ui-resizable-handle","#gbox_"+n.jgrid.jqID(i.p.id)).show(),n(i).triggerHandler("jqGridHeaderClick",[i.p.gridstate,t]),e&&(a||i.p.onHeaderClick.call(i,i.p.gridstate,t)))}),!1}),a&&(i.p.datatype="local",n(".ui-jqgrid-titlebar-close",r.cDiv).trigger("click")))):n(r.cDiv).hide();n(r.hDiv).after(r.bDiv).mousemove(function(n){if(r.resizing)return r.dragMove(n),!1});n(".ui-jqgrid-labels",r.hDiv).bind("selectstart",function(){return!1});n(document).mouseup(function(){return r.resizing?(r.dragEnd(),!1):!0});i.formatCol=tt;i.sortData=ui;i.updatepager=function(t,r){var u,s,f,c,l,v,a,h="",e=i.p.pager?"_"+n.jgrid.jqID(i.p.pager.substr(1)):"",o=i.p.toppager?"_"+i.p.toppager.substr(1):"";f=parseInt(i.p.page,10)-1;f<0&&(f=0);f=f*parseInt(i.p.rowNum,10);l=f+i.p.reccount;i.p.scroll&&(u=n("tbody:first > tr:gt(0)",i.grid.bDiv),f=l-u.length,i.p.reccount=u.length,(s=u.outerHeight()||i.grid.prevRowHeight)&&(u=f*s,s=parseInt(i.p.records,10)*s,n(">div:first",i.grid.bDiv).css({height:s}).children("div:first").css({height:u,display:u?"":"none"})),i.grid.bDiv.scrollLeft=i.grid.hDiv.scrollLeft);h=i.p.pager||"";(h=h+(i.p.toppager?h?","+i.p.toppager:i.p.toppager:""))&&(a=n.jgrid.formatter.integer||{},u=p(i.p.page),s=p(i.p.lastpage),n(".selbox",h)[this.p.useProp?"prop":"attr"]("disabled",!1),i.p.pginput===!0&&(n(".ui-pg-input",h).val(i.p.page),c=i.p.toppager?"#sp_1"+e+",#sp_1"+o:"#sp_1"+e,n(c).html(n.fmatter?n.fmatter.util.NumberFormat(i.p.lastpage,a):i.p.lastpage)),i.p.viewrecords&&(i.p.reccount===0?n(".ui-paging-info",h).html(i.p.emptyrecords):(c=f+1,v=i.p.records,n.fmatter&&(c=n.fmatter.util.NumberFormat(c,a),l=n.fmatter.util.NumberFormat(l,a),v=n.fmatter.util.NumberFormat(v,a)),n(".ui-paging-info",h).html(n.jgrid.format(i.p.recordtext,c,l,v)))),i.p.pgbuttons===!0&&(u<=0&&(u=s=0),u==1||u===0?(n("#first"+e+", #prev"+e).addClass("ui-state-disabled").removeClass("ui-state-hover"),i.p.toppager&&n("#first_t"+o+", #prev_t"+o).addClass("ui-state-disabled").removeClass("ui-state-hover")):(n("#first"+e+", #prev"+e).removeClass("ui-state-disabled"),i.p.toppager&&n("#first_t"+o+", #prev_t"+o).removeClass("ui-state-disabled")),u==s||u===0?(n("#next"+e+", #last"+e).addClass("ui-state-disabled").removeClass("ui-state-hover"),i.p.toppager&&n("#next_t"+o+", #last_t"+o).addClass("ui-state-disabled").removeClass("ui-state-hover")):(n("#next"+e+", #last"+e).removeClass("ui-state-disabled"),i.p.toppager&&n("#next_t"+o+", #last_t"+o).removeClass("ui-state-disabled"))));t===!0&&i.p.rownumbers===!0&&n("td.jqgrid-rownum",i.rows).each(function(t){n(this).html(f+1+t)});r&&i.p.jqgdnd&&n(i).jqGrid("gridDnD","updateDnD");n(i).triggerHandler("jqGridGridComplete");n.isFunction(i.p.gridComplete)&&i.p.gridComplete.call(i);n(i).triggerHandler("jqGridAfterGridComplete")};i.refreshIndex=pt;i.setHeadCheckBox=ht;i.constructTr=wt;i.formatter=function(n,t,i,r,u){return gt(n,t,i,r,u)};n.extend(r,{populate:y,emptyRows:it});this.grid=r;i.addXmlData=function(n){bt(n,i.grid.bDiv)};i.addJSONData=function(n){ot(n,i.grid.bDiv)};this.grid.cols=this.rows[0].cells;n(i).triggerHandler("jqGridInitGrid");n.isFunction(i.p.onInitGrid)&&i.p.onInitGrid.call(i);y();i.p.hiddengrid=!1}}}})};n.jgrid.extend({getGridParam:function(n){var t=this[0];if(t&&t.grid)return n?void 0!==t.p[n]?t.p[n]:null:t.p},setGridParam:function(t){return this.each(function(){this.grid&&"object"==typeof t&&n.extend(!0,this.p,t)})},getDataIDs:function(){var r=[],t=0,i,u=0;return this.each(function(){if((i=this.rows.length)&&0<i)for(;t<i;)n(this.rows[t]).hasClass("jqgrow")&&(r[u]=this.rows[t].id,u++),t++}),r},setSelection:function(t,i,r){return this.each(function(){var f,u,h,e,o,s;void 0===t||(i=!1===i?!1:!0,!(u=this.rows.namedItem(""+t))||!u.className||-1<u.className.indexOf("ui-state-disabled"))||((!0===this.p.scrollrows&&(h=this.rows.namedItem(t).rowIndex,0<=h&&(f=n(this.grid.bDiv)[0].clientHeight,e=n(this.grid.bDiv)[0].scrollTop,o=n(this.rows[h]).position().top,h=this.rows[h].clientHeight,o+h>=f+e?n(this.grid.bDiv)[0].scrollTop=o-(f+e)+h+e:o<f+e&&o<e&&(n(this.grid.bDiv)[0].scrollTop=o))),!0===this.p.frozenColumns&&(s=this.p.id+"_frozen"),this.p.multiselect)?(this.setHeadCheckBox(!1),this.p.selrow=u.id,e=n.inArray(this.p.selrow,this.p.selarrrow),-1===e?("ui-subgrid"!==u.className&&n(u).addClass("ui-state-highlight").attr("aria-selected","true"),f=!0,this.p.selarrrow.push(this.p.selrow)):("ui-subgrid"!==u.className&&n(u).removeClass("ui-state-highlight").attr("aria-selected","false"),f=!1,this.p.selarrrow.splice(e,1),o=this.p.selarrrow[0],this.p.selrow=void 0===o?null:o),n("#jqg_"+n.jgrid.jqID(this.p.id)+"_"+n.jgrid.jqID(u.id))[this.p.useProp?"prop":"attr"]("checked",f),s&&(-1===e?n("#"+n.jgrid.jqID(t),"#"+n.jgrid.jqID(s)).addClass("ui-state-highlight"):n("#"+n.jgrid.jqID(t),"#"+n.jgrid.jqID(s)).removeClass("ui-state-highlight"),n("#jqg_"+n.jgrid.jqID(this.p.id)+"_"+n.jgrid.jqID(t),"#"+n.jgrid.jqID(s))[this.p.useProp?"prop":"attr"]("checked",f)),n(this).triggerHandler("jqGridSelectRow",[u.id,f,r]),this.p.onSelectRow&&i&&this.p.onSelectRow.call(this,u.id,f,r)):"ui-subgrid"!==u.className&&(this.p.selrow!=u.id?(n(this.rows.namedItem(this.p.selrow)).removeClass("ui-state-highlight").attr({"aria-selected":"false",tabindex:"-1"}),n(u).addClass("ui-state-highlight").attr({"aria-selected":"true",tabindex:"0"}),s&&(n("#"+n.jgrid.jqID(this.p.selrow),"#"+n.jgrid.jqID(s)).removeClass("ui-state-highlight"),n("#"+n.jgrid.jqID(t),"#"+n.jgrid.jqID(s)).addClass("ui-state-highlight")),f=!0):f=!1,this.p.selrow=u.id,n(this).triggerHandler("jqGridSelectRow",[u.id,f,r]),this.p.onSelectRow&&i&&this.p.onSelectRow.call(this,u.id,f,r)))})},resetSelection:function(t){return this.each(function(){var i=this,f,u,r;!0===i.p.frozenColumns&&(r=i.p.id+"_frozen");void 0!==t?(u=t===i.p.selrow?i.p.selrow:t,n("#"+n.jgrid.jqID(i.p.id)+" tbody:first tr#"+n.jgrid.jqID(u)).removeClass("ui-state-highlight").attr("aria-selected","false"),r&&n("#"+n.jgrid.jqID(u),"#"+n.jgrid.jqID(r)).removeClass("ui-state-highlight"),i.p.multiselect&&(n("#jqg_"+n.jgrid.jqID(i.p.id)+"_"+n.jgrid.jqID(u),"#"+n.jgrid.jqID(i.p.id))[i.p.useProp?"prop":"attr"]("checked",!1),r&&n("#jqg_"+n.jgrid.jqID(i.p.id)+"_"+n.jgrid.jqID(u),"#"+n.jgrid.jqID(r))[i.p.useProp?"prop":"attr"]("checked",!1),i.setHeadCheckBox(!1)),u=null):i.p.multiselect?(n(i.p.selarrrow).each(function(t,u){f=i.rows.namedItem(u);n(f).removeClass("ui-state-highlight").attr("aria-selected","false");n("#jqg_"+n.jgrid.jqID(i.p.id)+"_"+n.jgrid.jqID(u))[i.p.useProp?"prop":"attr"]("checked",!1);r&&(n("#"+n.jgrid.jqID(u),"#"+n.jgrid.jqID(r)).removeClass("ui-state-highlight"),n("#jqg_"+n.jgrid.jqID(i.p.id)+"_"+n.jgrid.jqID(u),"#"+n.jgrid.jqID(r))[i.p.useProp?"prop":"attr"]("checked",!1))}),i.setHeadCheckBox(!1),i.p.selarrrow=[]):i.p.selrow&&(n("#"+n.jgrid.jqID(i.p.id)+" tbody:first tr#"+n.jgrid.jqID(i.p.selrow)).removeClass("ui-state-highlight").attr("aria-selected","false"),r&&n("#"+n.jgrid.jqID(i.p.selrow),"#"+n.jgrid.jqID(r)).removeClass("ui-state-highlight"),i.p.selrow=null);!0===i.p.cellEdit&&0<=parseInt(i.p.iCol,10)&&0<=parseInt(i.p.iRow,10)&&(n("td:eq("+i.p.iCol+")",i.rows[i.p.iRow]).removeClass("edit-cell ui-state-highlight"),n(i.rows[i.p.iRow]).removeClass("selected-row ui-state-hover"));i.p.savedRow=[]})},getRowData:function(t){var i={},r,u=!1,f,e=0;return this.each(function(){var o=this,s,h;if(void 0===t)u=!0,r=[],f=o.rows.length;else{if(h=o.rows.namedItem(t),!h)return i;f=2}for(;e<f;)u&&(h=o.rows[e]),n(h).hasClass("jqgrow")&&(n('td[role="gridcell"]',h).each(function(t){if(s=o.p.colModel[t].name,"cb"!==s&&"subgrid"!==s&&"rn"!==s)if(!0===o.p.treeGrid&&s==o.p.ExpandColumn)i[s]=n.jgrid.htmlDecode(n("span:first",this).html());else try{i[s]=n.unformat.call(o,this,{rowId:h.id,colModel:o.p.colModel[t]},t)}catch(r){i[s]=n.jgrid.htmlDecode(n(this).html())}}),u&&(r.push(i),i={})),e++}),r||i},delRowData:function(t){var i=!1,r,u;return this.each(function(){var f,e;if(r=this.rows.namedItem(t),!r)return!1;n(r).remove();this.p.records--;this.p.reccount--;this.updatepager(!0,!1);i=!0;this.p.multiselect&&(u=n.inArray(t,this.p.selarrrow),-1!=u&&this.p.selarrrow.splice(u,1));this.p.selrow=this.p.multiselect&&0<this.p.selarrrow.length?this.p.selarrrow[this.p.selarrrow.length-1]:null;"local"==this.p.datatype&&(f=this.p._index[n.jgrid.stripPref(this.p.idPrefix,t)],void 0!==f&&(this.p.data.splice(f,1),this.refreshIndex()));!0===this.p.altRows&&i&&(e=this.p.altclass,n(this.rows).each(function(t){t%2==1?n(this).addClass(e):n(this).removeClass(e)}))}),i},setRowData:function(t,i,r){var u,f=!0,e;return this.each(function(){var y,l,a;if(!this.grid)return!1;var o=this,h,s,v=typeof r,c={};if(s=o.rows.namedItem(t),!s)return!1;if(i)try{if(n(this.p.colModel).each(function(r){u=this.name;void 0!==i[u]&&(c[u]=this.formatter&&"string"==typeof this.formatter&&"date"==this.formatter?n.unformat.date.call(o,i[u],this):i[u],h=o.formatter(t,i[u],r,i,"edit"),e=this.title?{title:n.jgrid.stripHtml(h)}:{},!0===o.p.treeGrid&&u==o.p.ExpandColumn?n("td[role='gridcell']:eq("+r+") > span:first",s).html(h).attr(e):n("td[role='gridcell']:eq("+r+")",s).html(h).attr(e))}),"local"==o.p.datatype){if(y=n.jgrid.stripPref(o.p.idPrefix,t),l=o.p._index[y],o.p.treeGrid)for(a in o.p.treeReader)o.p.treeReader.hasOwnProperty(a)&&delete c[o.p.treeReader[a]];void 0!==l&&(o.p.data[l]=n.extend(!0,o.p.data[l],c));c=null}}catch(p){f=!1}f&&("string"===v?n(s).addClass(r):"object"===v&&n(s).css(r),n(o).triggerHandler("jqGridAfterGridComplete"))}),f},addRowData:function(t,i,r,u){r||(r="last");var d=!1,w,f,h,b,s,e,c,a,l="",v,y,p,o,g,k;return i&&(n.isArray(i)?(v=!0,r="last",y=t):(i=[i],v=!1),this.each(function(){var rt=i.length;s=this.p.rownumbers===!0?1:0;h=this.p.multiselect===!0?1:0;b=this.p.subGrid===!0?1:0;v||(t!==void 0?t=""+t:(t=n.jgrid.randId(),this.p.keyIndex!==!1&&(y=this.p.colModel[this.p.keyIndex+h+b+s].name,i[0][y]!==void 0&&(t=i[0][y]))));p=this.p.altclass;for(var tt=0,it="",nt={},ut=n.isFunction(this.p.afterInsertRow)?!0:!1;tt<rt;){if(o=i[tt],f=[],v){try{t=o[y];t===void 0&&(t=n.jgrid.randId())}catch(ft){t=n.jgrid.randId()}it=this.p.altRows===!0?(this.rows.length-1)%2==0?p:"":""}for(k=t,t=this.p.idPrefix+t,s&&(l=this.formatCol(0,1,"",null,t,!0),f[f.length]='<td role="gridcell" class="ui-state-default jqgrid-rownum" '+l+">0<\/td>"),h&&(a='<input role="checkbox" type="checkbox" id="jqg_'+this.p.id+"_"+t+'" class="cbox"/>',l=this.formatCol(s,1,"",null,t,!0),f[f.length]='<td role="gridcell" '+l+">"+a+"<\/td>"),b&&(f[f.length]=n(this).jqGrid("addSubGridCell",h+s,1)),c=h+b+s;c<this.p.colModel.length;c++)g=this.p.colModel[c],w=g.name,nt[w]=o[w],a=this.formatter(t,n.jgrid.getAccessor(o,w),c,o),l=this.formatCol(c,1,a,o,t,nt),f[f.length]='<td role="gridcell" '+l+">"+a+"<\/td>";if(f.unshift(this.constructTr(t,!1,it,nt,o,!1)),f[f.length]="<\/tr>",this.rows.length===0)n("table:first",this.grid.bDiv).append(f.join(""));else switch(r){case"last":n(this.rows[this.rows.length-1]).after(f.join(""));e=this.rows.length-1;break;case"first":n(this.rows[0]).after(f.join(""));e=1;break;case"after":(e=this.rows.namedItem(u))&&(n(this.rows[e.rowIndex+1]).hasClass("ui-subgrid")?n(this.rows[e.rowIndex+1]).after(f):n(e).after(f.join("")));e++;break;case"before":(e=this.rows.namedItem(u))&&(n(e).before(f.join("")),e=e.rowIndex);e--}this.p.subGrid===!0&&n(this).jqGrid("addSubGrid",h+s,e);this.p.records++;this.p.reccount++;n(this).triggerHandler("jqGridAfterInsertRow",[t,o,o]);ut&&this.p.afterInsertRow.call(this,t,o,o);tt++;this.p.datatype=="local"&&(nt[this.p.localReader.id]=k,this.p._index[k]=this.p.data.length,this.p.data.push(nt),nt={})}this.p.altRows!==!0||v||(r=="last"?(this.rows.length-1)%2==1&&n(this.rows[this.rows.length-1]).addClass(p):n(this.rows).each(function(t){t%2==1?n(this).addClass(p):n(this).removeClass(p)}));this.updatepager(!0,!0);d=!0})),d},footerData:function(t,i,r){function s(n){for(var t in n)if(n.hasOwnProperty(t))return!1;return!0}var u,f=!1,e={},o;return void 0===t&&(t="get"),"boolean"!=typeof r&&(r=!0),t=t.toLowerCase(),this.each(function(){var h=this,c;if(!h.grid||!h.p.footerrow||"set"==t&&s(i))return!1;f=!0;n(this.p.colModel).each(function(s){u=this.name;"set"==t?void 0!==i[u]&&(c=r?h.formatter("",i[u],s,i,"edit"):i[u],o=this.title?{title:n.jgrid.stripHtml(c)}:{},n("tr.footrow td:eq("+s+")",h.grid.sDiv).html(c).attr(o),f=!0):"get"==t&&(e[u]=n("tr.footrow td:eq("+s+")",h.grid.sDiv).html())})}),"get"==t?e:f},showHideCol:function(t,i){return this.each(function(){var r=this,o=!1,s=n.jgrid.cell_width?0:r.p.cellLayout,f,u,e;r.grid&&("string"==typeof t&&(t=[t]),i="none"!=i?"":"none",u=""===i?!0:!1,e=r.p.groupHeader&&("object"==typeof r.p.groupHeader||n.isFunction(r.p.groupHeader)),e&&n(r).jqGrid("destroyGroupHeader",!1),n(this.p.colModel).each(function(e){if(-1!==n.inArray(this.name,t)&&this.hidden===u){if(!0===r.p.frozenColumns&&!0===this.frozen)return!0;n("tr",r.grid.hDiv).each(function(){n(this.cells[e]).css("display",i)});n(r.rows).each(function(){n(this).hasClass("jqgroup")||n(this.cells[e]).css("display",i)});r.p.footerrow&&n("tr.footrow td:eq("+e+")",r.grid.sDiv).css("display",i);f=parseInt(this.width,10);r.p.tblwidth="none"===i?r.p.tblwidth-(f+s):r.p.tblwidth+(f+s);this.hidden=!u;o=!0;n(r).triggerHandler("jqGridShowHideCol",[u,this.name,e])}}),!0===o&&(!0===r.p.shrinkToFit&&!isNaN(r.p.height)&&(r.p.tblwidth+=parseInt(r.p.scrollOffset,10)),n(r).jqGrid("setGridWidth",!0===r.p.shrinkToFit?r.p.tblwidth:r.p.width)),e&&n(r).jqGrid("setGroupHeaders",r.p.groupHeader))})},hideCol:function(t){return this.each(function(){n(this).jqGrid("showHideCol",t,"none")})},showCol:function(t){return this.each(function(){n(this).jqGrid("showHideCol",t,"")})},remapColumns:function(t,i,r){function f(i){var r;r=i.length?n.makeArray(i):n.extend({},i);n.each(t,function(n){i[n]=r[this]})}function e(i,r){n(">tr"+(r||""),i).each(function(){var i=this,r=n.makeArray(i.cells);n.each(t,function(){var n=r[this];n&&i.appendChild(n)})})}var u=this.get(0);f(u.p.colModel);f(u.p.colNames);f(u.grid.headers);e(n("thead:first",u.grid.hDiv),r&&":not(.ui-jqgrid-labels)");i&&e(n("#"+n.jgrid.jqID(u.p.id)+" tbody:first"),".jqgfirstrow, tr.jqgrow, tr.jqfoot");u.p.footerrow&&e(n("tbody:first",u.grid.sDiv));u.p.remapColumns&&(u.p.remapColumns.length?f(u.p.remapColumns):u.p.remapColumns=n.makeArray(t));u.p.lastsort=n.inArray(u.p.lastsort,t);u.p.treeGrid&&(u.p.expColInd=n.inArray(u.p.expColInd,t));n(u).triggerHandler("jqGridRemapColumns",[t,i,r])},setGridWidth:function(t,i){return this.each(function(){var f,y;if(this.grid){var r=this,u,f=0,e=n.jgrid.cell_width?0:r.p.cellLayout,o,s=0,l=!1,a=r.p.scrollOffset,v,h=0,p=0,c;if("boolean"!=typeof i&&(i=r.p.shrinkToFit),!isNaN(t)){if(t=parseInt(t,10),r.grid.width=r.p.width=t,n("#gbox_"+n.jgrid.jqID(r.p.id)).css("width",t+"px"),n("#gview_"+n.jgrid.jqID(r.p.id)).css("width",t+"px"),n(r.grid.bDiv).css("width",t+"px"),n(r.grid.hDiv).css("width",t+"px"),r.p.pager&&n(r.p.pager).css("width",t+"px"),r.p.toppager&&n(r.p.toppager).css("width",t+"px"),!0===r.p.toolbar[0]&&(n(r.grid.uDiv).css("width",t+"px"),"both"==r.p.toolbar[1]&&n(r.grid.ubDiv).css("width",t+"px")),r.p.footerrow&&n(r.grid.sDiv).css("width",t+"px"),!1===i&&!0===r.p.forceFit&&(r.p.forceFit=!1),!0===i){if(n.each(r.p.colModel,function(){this.hidden===!1&&(u=this.widthOrg,f=f+(u+e),this.fixed?h=h+(u+e):s++,p++)}),0===s)return;if(r.p.tblwidth=f,v=t-e*s-h,!isNaN(r.p.height)&&(n(r.grid.bDiv)[0].clientHeight<n(r.grid.bDiv)[0].scrollHeight||1===r.rows.length)&&(l=!0,v-=a),f=0,y=0<r.grid.cols.length,n.each(r.p.colModel,function(n){this.hidden!==!1||this.fixed||(u=this.widthOrg,u=Math.round(v*u/(r.p.tblwidth-e*s-h)),u<0||(this.width=u,f=f+u,r.grid.headers[n].width=u,r.grid.headers[n].el.style.width=u+"px",r.p.footerrow&&(r.grid.footers[n].style.width=u+"px"),y&&(r.grid.cols[n].style.width=u+"px"),o=n))}),!o)return;c=0;l?t-h-(f+e*s)!==a&&(c=t-h-(f+e*s)-a):1!==Math.abs(t-h-(f+e*s))&&(c=t-h-(f+e*s));r.p.colModel[o].width+=c;r.p.tblwidth=f+c+e*s+h;r.p.tblwidth>t?(l=r.p.tblwidth-parseInt(t,10),r.p.tblwidth=t,u=r.p.colModel[o].width-=l):u=r.p.colModel[o].width;r.grid.headers[o].width=u;r.grid.headers[o].el.style.width=u+"px";y&&(r.grid.cols[o].style.width=u+"px");r.p.footerrow&&(r.grid.footers[o].style.width=u+"px")}r.p.tblwidth&&(n("table:first",r.grid.bDiv).css("width",r.p.tblwidth+"px"),n("table:first",r.grid.hDiv).css("width",r.p.tblwidth+"px"),r.grid.hDiv.scrollLeft=r.grid.bDiv.scrollLeft,r.p.footerrow&&n("table:first",r.grid.sDiv).css("width",r.p.tblwidth+"px"))}}})},setGridHeight:function(t){return this.each(function(){if(this.grid){var i=n(this.grid.bDiv);i.css({height:t+(isNaN(t)?"":"px")});!0===this.p.frozenColumns&&n("#"+n.jgrid.jqID(this.p.id)+"_frozen").parent().height(i.height()-16);this.p.height=t;this.p.scroll&&this.grid.populateVisible()}})},setCaption:function(t){return this.each(function(){this.p.caption=t;n("span.ui-jqgrid-title, span.ui-jqgrid-title-rtl",this.grid.cDiv).html(t);n(this.grid.cDiv).show()})},setLabel:function(t,i,r,u){return this.each(function(){var e=-1,f,o;this.grid&&void 0!==t&&(n(this.p.colModel).each(function(n){if(this.name==t)return e=n,!1}),0<=e)&&(f=n("tr.ui-jqgrid-labels th:eq("+e+")",this.grid.hDiv),i&&(o=n(".s-ico",f),n("[id^=jqgh_]",f).empty().html(i).append(o),this.p.colNames[e]=i),r&&("string"==typeof r?n(f).addClass(r):n(f).css(r)),"object"==typeof u&&n(f).attr(u))})},setCell:function(t,i,r,u,f,e){return this.each(function(){var s=-1,o,c,h;this.grid&&(isNaN(i)?n(this.p.colModel).each(function(n){if(this.name==i)return s=n,!1}):s=parseInt(i,10),0<=s&&(o=this.rows.namedItem(t)))&&(h=n("td:eq("+s+")",o),(""!==r||!0===e)&&(o=this.formatter(t,r,s,o,"edit"),c=this.p.colModel[s].title?{title:n.jgrid.stripHtml(o)}:{},this.p.treeGrid&&0<n(".tree-wrap",n(h)).length?n("span",n(h)).html(o).attr(c):n(h).html(o).attr(c),"local"==this.p.datatype&&(o=this.p.colModel[s],r=o.formatter&&"string"==typeof o.formatter&&"date"==o.formatter?n.unformat.date.call(this,r,o):r,c=this.p._index[t],void 0!==c&&(this.p.data[c][o.name]=r))),"string"==typeof u?n(h).addClass(u):u&&n(h).css(u),"object"==typeof f&&n(h).attr(f))})},getCell:function(t,i){var r=!1;return this.each(function(){var u=-1,f;if(this.grid&&(isNaN(i)?n(this.p.colModel).each(function(n){if(this.name===i)return u=n,!1}):u=parseInt(i,10),0<=u)&&(f=this.rows.namedItem(t),f))try{r=n.unformat.call(this,n("td:eq("+u+")",f),{rowId:f.id,colModel:this.p.colModel[u]},u)}catch(e){r=n.jgrid.htmlDecode(n("td:eq("+u+")",f).html())}}),r},getCol:function(t,i,r){var u=[],f,h=0,s,e,o,i="boolean"!=typeof i?!1:i;return void 0===r&&(r=!1),this.each(function(){var l=-1,a,c;if(this.grid&&(isNaN(t)?n(this.p.colModel).each(function(n){if(this.name===t)return l=n,!1}):l=parseInt(t,10),0<=l)&&(a=this.rows.length,c=0,a&&0<a)){for(;c<a;){if(n(this.rows[c]).hasClass("jqgrow")){try{f=n.unformat.call(this,n(this.rows[c].cells[l]),{rowId:this.rows[c].id,colModel:this.p.colModel[l]},l)}catch(v){f=n.jgrid.htmlDecode(this.rows[c].cells[l].innerHTML)}r?(o=parseFloat(f),h+=o,void 0===e&&(e=s=o),s=Math.min(s,o),e=Math.max(e,o)):i?u.push({id:this.rows[c].id,value:f}):u.push(f)}c++}if(r)switch(r.toLowerCase()){case"sum":u=h;break;case"avg":u=h/a;break;case"count":u=a;break;case"min":u=s;break;case"max":u=e}}}),u},clearGridData:function(t){return this.each(function(){if(this.grid){if("boolean"!=typeof t&&(t=!1),this.p.deepempty)n("#"+n.jgrid.jqID(this.p.id)+" tbody:first tr:gt(0)").remove();else{var i=n("#"+n.jgrid.jqID(this.p.id)+" tbody:first tr:first")[0];n("#"+n.jgrid.jqID(this.p.id)+" tbody:first").empty().append(i)}this.p.footerrow&&t&&n(".ui-jqgrid-ftable td",this.grid.sDiv).html("&#160;");this.p.selrow=null;this.p.selarrrow=[];this.p.savedRow=[];this.p.records=0;this.p.page=1;this.p.lastpage=0;this.p.reccount=0;this.p.data=[];this.p._index={};this.updatepager(!0,!1)}})},getInd:function(n,t){var r=!1,i;return this.each(function(){(i=this.rows.namedItem(n))&&(r=!0===t?i:i.rowIndex)}),r},bindKeys:function(t){var i=n.extend({onEnter:null,onSpace:null,onLeftKey:null,onRightKey:null,scrollingRows:!0},t||{});return this.each(function(){var t=this;n("body").is("[role]")||n("body").attr("role","application");t.p.scrollrows=i.scrollingRows;n(t).keydown(function(r){var e=n(t).find("tr[tabindex=0]")[0],f,u,o,s=t.p.treeReader.expanded_field;if(e)if(o=t.p._index[e.id],37===r.keyCode||38===r.keyCode||39===r.keyCode||40===r.keyCode){if(38===r.keyCode){if(u=e.previousSibling,f="",u)if(n(u).is(":hidden")){for(;u;)if(u=u.previousSibling,!n(u).is(":hidden")&&n(u).hasClass("jqgrow")){f=u.id;break}}else f=u.id;n(t).jqGrid("setSelection",f,!0,r);r.preventDefault()}if(40===r.keyCode){if(u=e.nextSibling,f="",u)if(n(u).is(":hidden")){for(;u;)if(u=u.nextSibling,!n(u).is(":hidden")&&n(u).hasClass("jqgrow")){f=u.id;break}}else f=u.id;n(t).jqGrid("setSelection",f,!0,r);r.preventDefault()}37===r.keyCode&&(t.p.treeGrid&&t.p.data[o][s]&&n(e).find("div.treeclick").trigger("click"),n(t).triggerHandler("jqGridKeyLeft",[t.p.selrow]),n.isFunction(i.onLeftKey)&&i.onLeftKey.call(t,t.p.selrow));39===r.keyCode&&(t.p.treeGrid&&!t.p.data[o][s]&&n(e).find("div.treeclick").trigger("click"),n(t).triggerHandler("jqGridKeyRight",[t.p.selrow]),n.isFunction(i.onRightKey)&&i.onRightKey.call(t,t.p.selrow))}else 13===r.keyCode?(n(t).triggerHandler("jqGridKeyEnter",[t.p.selrow]),n.isFunction(i.onEnter)&&i.onEnter.call(t,t.p.selrow)):32===r.keyCode&&(n(t).triggerHandler("jqGridKeySpace",[t.p.selrow]),n.isFunction(i.onSpace)&&i.onSpace.call(t,t.p.selrow))})})},unbindKeys:function(){return this.each(function(){n(this).unbind("keydown")})},getLocalRow:function(n){var i=!1,t;return this.each(function(){void 0!==n&&(t=this.p._index[n],0<=t&&(i=this.p.data[t]))}),i}})}(jQuery),function(n){n.fmatter={};n.extend(n.fmatter,{isBoolean:function(n){return"boolean"==typeof n},isObject:function(t){return t&&("object"==typeof t||n.isFunction(t))||!1},isString:function(n){return"string"==typeof n},isNumber:function(n){return"number"==typeof n&&isFinite(n)},isNull:function(n){return null===n},isUndefined:function(n){return void 0===n},isValue:function(n){return this.isObject(n)||this.isString(n)||this.isNumber(n)||this.isBoolean(n)},isEmpty:function(t){return!this.isString(t)&&this.isValue(t)?!1:this.isValue(t)?(t=n.trim(t).replace(/\&nbsp\;/ig,"").replace(/\&#160\;/ig,""),""===t):!0}});n.fn.fmatter=function(t,i,r,u,f){var e=i,r=n.extend({},n.jgrid.formatter,r);try{e=n.fn.fmatter[t].call(this,i,r,u,f)}catch(o){}return e};n.fmatter.util={NumberFormat:function(t,i){var f,s,e;if(n.fmatter.isNumber(t)||(t*=1),n.fmatter.isNumber(t)){var h=0>t,r=""+t,f=i.decimalSeparator||".",u;if(n.fmatter.isNumber(i.decimalPlaces)){var o=i.decimalPlaces,r=Math.pow(10,o),r=""+Math.round(t*r)/r;if(u=r.lastIndexOf("."),0<o)for(0>u?(r+=f,u=r.length-1):"."!==f&&(r=r.replace(".",f));r.length-1-u<o;)r+="0"}if(i.thousandsSeparator){for(o=i.thousandsSeparator,u=r.lastIndexOf(f),u=-1<u?u:r.length,f=r.substring(u),s=-1,e=u;0<e;e--)s++,0==s%3&&e!==u&&(!h||1<e)&&(f=o+f),f=r.charAt(e-1)+f;r=f}return r=i.prefix?i.prefix+r:r,i.suffix?r+i.suffix:r}return t},DateFormat:function(t,i,r,u){var s=/^\/Date\((([-+])?[0-9]+)(([-+])([0-9]{2})([0-9]{2}))?\)\/$/,o="string"==typeof i?i.match(s):null,s=function(n,t){for(n=""+n,t=parseInt(t,10)||2;n.length<t;)n="0"+n;return n},e={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},f=0,c,h=["i18n"];if(h.i18n={dayNames:u.dayNames,monthNames:u.monthNames},u.masks.hasOwnProperty(t)&&(t=u.masks[t]),isNaN(+i)||"u"!=(""+t).toLowerCase())if(i.constructor===Date)f=i;else if(null!==o)f=new Date(parseInt(o[1],10)),o[3]&&(t=60*Number(o[5])+Number(o[6]),t*="-"==o[4]?1:-1,t-=f.getTimezoneOffset(),f.setTime(Number(Number(f)+6e4*t)));else{for(i=(""+i).split(/[\\\/:_;.,\t\T\s-]/),t=t.split(/[\\\/:_;.,\t\T\s-]/),o=0,c=t.length;o<c;o++)"M"==t[o]&&(f=n.inArray(i[o],h.i18n.monthNames),-1!==f&&12>f&&(i[o]=f+1)),"F"==t[o]&&(f=n.inArray(i[o],h.i18n.monthNames),-1!==f&&11<f&&(i[o]=f+1-12)),i[o]&&(e[t[o].toLowerCase()]=parseInt(i[o],10));if(e.f&&(e.m=e.f),0===e.m&&0===e.y&&0===e.d)return"&#160;";e.m=parseInt(e.m,10)-1;f=e.y;70<=f&&99>=f?e.y=1900+e.y:0<=f&&69>=f&&(e.y=2e3+e.y);f=new Date(e.y,e.m,e.d,e.h,e.i,e.s,e.u)}else f=new Date(1e3*parseFloat(i));u.masks.hasOwnProperty(r)?r=u.masks[r]:r||(r="Y-m-d");t=f.getHours();i=f.getMinutes();e=f.getDate();o=f.getMonth()+1;c=f.getTimezoneOffset();var w=f.getSeconds(),b=f.getMilliseconds(),a=f.getDay(),l=f.getFullYear(),v=(a+6)%7+1,y=(new Date(l,o-1,e)-new Date(l,0,1))/864e5,p={d:s(e),D:h.i18n.dayNames[a],j:e,l:h.i18n.dayNames[a+7],N:v,S:u.S(e),w:a,z:y,W:5>v?Math.floor((y+v-1)/7)+1:Math.floor((y+v-1)/7)||(4>(new Date(l-1,0,1).getDay()+6)%7?53:52),F:h.i18n.monthNames[o- -11],m:s(o),M:h.i18n.monthNames[o-1],n:o,t:"?",L:"?",o:"?",Y:l,y:(""+l).substring(2),a:12>t?u.AmPm[0]:u.AmPm[1],A:12>t?u.AmPm[2]:u.AmPm[3],B:"?",g:t%12||12,G:t,h:s(t%12||12),H:s(t),i:s(i),s:s(w),u:b,e:"?",I:"?",O:(0<c?"-":"+")+s(100*Math.floor(Math.abs(c)/60)+Math.abs(c)%60,4),P:"?",T:((""+f).match(/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g)||[""]).pop().replace(/[^-+\dA-Z]/g,""),Z:"?",c:"?",r:"?",U:Math.floor(f/1e3)};return r.replace(/\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,function(n){return p.hasOwnProperty(n)?p[n]:n.substring(1)})}};n.fn.fmatter.defaultFormat=function(t,i){return n.fmatter.isValue(t)&&""!==t?t:i.defaultValue||"&#160;"};n.fn.fmatter.email=function(t,i){return n.fmatter.isEmpty(t)?n.fn.fmatter.defaultFormat(t,i):'<a href="mailto:'+t+'">'+t+"<\/a>"};n.fn.fmatter.checkbox=function(t,i){var r=n.extend({},i.checkbox),u;return void 0===i.colModel||n.fmatter.isUndefined(i.colModel.formatoptions)||(r=n.extend({},r,i.colModel.formatoptions)),u=!0===r.disabled?'disabled="disabled"':"",(n.fmatter.isEmpty(t)||n.fmatter.isUndefined(t))&&(t=n.fn.fmatter.defaultFormat(t,r)),t=(""+t).toLowerCase(),'<input type="checkbox" '+(0>t.search(/(false|0|no|n|off)/i)?" checked='checked' ":"")+' value="'+t+'" offval="no" '+u+"/>"};n.fn.fmatter.link=function(t,i){var r={target:i.target},u="";return void 0===i.colModel||n.fmatter.isUndefined(i.colModel.formatoptions)||(r=n.extend({},r,i.colModel.formatoptions)),r.target&&(u="target="+r.target),n.fmatter.isEmpty(t)?n.fn.fmatter.defaultFormat(t,i):"<a "+u+' href="'+t+'">'+t+"<\/a>"};n.fn.fmatter.showlink=function(t,i){var r={baseLinkUrl:i.baseLinkUrl,showAction:i.showAction,addParam:i.addParam||"",target:i.target,idName:i.idName},u="";return void 0===i.colModel||n.fmatter.isUndefined(i.colModel.formatoptions)||(r=n.extend({},r,i.colModel.formatoptions)),r.target&&(u="target="+r.target),r=r.baseLinkUrl+r.showAction+"?"+r.idName+"="+i.rowId+r.addParam,n.fmatter.isString(t)||n.fmatter.isNumber(t)?"<a "+u+' href="'+r+'">'+t+"<\/a>":n.fn.fmatter.defaultFormat(t,i)};n.fn.fmatter.integer=function(t,i){var r=n.extend({},i.integer);return void 0===i.colModel||n.fmatter.isUndefined(i.colModel.formatoptions)||(r=n.extend({},r,i.colModel.formatoptions)),n.fmatter.isEmpty(t)?r.defaultValue:n.fmatter.util.NumberFormat(t,r)};n.fn.fmatter.number=function(t,i){var r=n.extend({},i.number);return void 0===i.colModel||n.fmatter.isUndefined(i.colModel.formatoptions)||(r=n.extend({},r,i.colModel.formatoptions)),n.fmatter.isEmpty(t)?r.defaultValue:n.fmatter.util.NumberFormat(t,r)};n.fn.fmatter.currency=function(t,i){var r=n.extend({},i.currency);return void 0===i.colModel||n.fmatter.isUndefined(i.colModel.formatoptions)||(r=n.extend({},r,i.colModel.formatoptions)),n.fmatter.isEmpty(t)?r.defaultValue:n.fmatter.util.NumberFormat(t,r)};n.fn.fmatter.date=function(t,i,r,u){return r=n.extend({},i.date),void 0===i.colModel||n.fmatter.isUndefined(i.colModel.formatoptions)||(r=n.extend({},r,i.colModel.formatoptions)),!r.reformatAfterEdit&&"edit"==u?n.fn.fmatter.defaultFormat(t,i):n.fmatter.isEmpty(t)?n.fn.fmatter.defaultFormat(t,i):n.fmatter.util.DateFormat(r.srcformat,t,r.newformat,r)};n.fn.fmatter.select=function(t,i){var t=""+t,u=!1,e=[],o,r,s,f,c,l,h;if(n.fmatter.isUndefined(i.colModel.formatoptions)?n.fmatter.isUndefined(i.colModel.editoptions)||(u=i.colModel.editoptions.value,o=void 0===i.colModel.editoptions.separator?":":i.colModel.editoptions.separator,r=void 0===i.colModel.editoptions.delimiter?";":i.colModel.editoptions.delimiter):(u=i.colModel.formatoptions.value,o=void 0===i.colModel.formatoptions.separator?":":i.colModel.formatoptions.separator,r=void 0===i.colModel.formatoptions.delimiter?";":i.colModel.formatoptions.delimiter),u)if(s=!0===i.colModel.editoptions.multiple?!0:!1,f=[],s&&(f=t.split(","),f=n.map(f,function(t){return n.trim(t)})),n.fmatter.isString(u)){for(c=u.split(r),l=0,h=0;h<c.length;h++)if(r=c[h].split(o),2<r.length&&(r[1]=n.map(r,function(n,t){if(t>0)return n}).join(o)),s)-1<n.inArray(r[0],f)&&(e[l]=r[1],l++);else if(n.trim(r[0])==n.trim(t)){e[0]=r[1];break}}else n.fmatter.isObject(u)&&(s?e=n.map(f,function(n){return u[n]}):e[0]=u[t]||"");return t=e.join(", "),""===t?n.fn.fmatter.defaultFormat(t,i):t};n.fn.fmatter.rowactions=function(t){var o=n(this).closest("tr.jqgrow"),r=n(this).parent(),e=o.attr("id"),u=n(this).closest("table.ui-jqgrid-btable"),s=u[0],f=s.p,h=f.colModel[n.jgrid.getCellIndex(this)],i={keys:!1,onEdit:null,onSuccess:null,afterSave:null,onError:null,afterRestore:null,extraparam:{},url:null,restoreAfterError:!0,mtype:"POST",delOptions:{},editOptions:{}},c=function(t){n.isFunction(i.afterRestore)&&i.afterRestore.call(s,t);r.find("div.ui-inline-edit,div.ui-inline-del").show();r.find("div.ui-inline-save,div.ui-inline-cancel").hide()};n.fmatter.isUndefined(h.formatoptions)||(i=n.extend(i,h.formatoptions));n.fmatter.isUndefined(f.editOptions)||(i.editOptions=f.editOptions);n.fmatter.isUndefined(f.delOptions)||(i.delOptions=f.delOptions);o.hasClass("jqgrid-new-row")&&(i.extraparam[f.prmNames.oper]=f.prmNames.addoper);o={keys:i.keys,oneditfunc:i.onEdit,successfunc:i.onSuccess,url:i.url,extraparam:i.extraparam,aftersavefunc:function(t,u){n.isFunction(i.afterSave)&&i.afterSave.call(s,t,u);r.find("div.ui-inline-edit,div.ui-inline-del").show();r.find("div.ui-inline-save,div.ui-inline-cancel").hide()},errorfunc:i.onError,afterrestorefunc:c,restoreAfterError:i.restoreAfterError,mtype:i.mtype};switch(t){case"edit":u.jqGrid("editRow",e,o);r.find("div.ui-inline-edit,div.ui-inline-del").hide();r.find("div.ui-inline-save,div.ui-inline-cancel").show();u.triggerHandler("jqGridAfterGridComplete");break;case"save":u.jqGrid("saveRow",e,o)&&(r.find("div.ui-inline-edit,div.ui-inline-del").show(),r.find("div.ui-inline-save,div.ui-inline-cancel").hide(),u.triggerHandler("jqGridAfterGridComplete"));break;case"cancel":u.jqGrid("restoreRow",e,c);r.find("div.ui-inline-edit,div.ui-inline-del").show();r.find("div.ui-inline-save,div.ui-inline-cancel").hide();u.triggerHandler("jqGridAfterGridComplete");break;case"del":u.jqGrid("delGridRow",e,i.delOptions);break;case"formedit":u.jqGrid("setSelection",e);u.jqGrid("editGridRow",e,i.editOptions)}};n.fn.fmatter.actions=function(t,i){var u={keys:!1,editbutton:!0,delbutton:!0,editformbutton:!1},f=i.rowId,r="";return(n.fmatter.isUndefined(i.colModel.formatoptions)||(u=n.extend(u,i.colModel.formatoptions)),void 0===f||n.fmatter.isEmpty(f))?"":(u.editformbutton?r+="<div title='"+n.jgrid.nav.edittitle+"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' onclick=jQuery.fn.fmatter.rowactions.call(this,'formedit'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ><span class='ui-icon ui-icon-pencil'><\/span><\/div>":u.editbutton&&(r+="<div title='"+n.jgrid.nav.edittitle+"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' onclick=jQuery.fn.fmatter.rowactions.call(this,'edit'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover') ><span class='ui-icon ui-icon-pencil'><\/span><\/div>"),u.delbutton&&(r+="<div title='"+n.jgrid.nav.deltitle+"' style='float:left;margin-left:5px;' class='ui-pg-div ui-inline-del' onclick=jQuery.fn.fmatter.rowactions.call(this,'del'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ><span class='ui-icon ui-icon-trash'><\/span><\/div>"),r+="<div title='"+n.jgrid.edit.bSubmit+"' style='float:left;display:none' class='ui-pg-div ui-inline-save' onclick=jQuery.fn.fmatter.rowactions.call(this,'save'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ><span class='ui-icon ui-icon-disk'><\/span><\/div>",r+="<div title='"+n.jgrid.edit.bCancel+"' style='float:left;display:none;margin-left:5px;' class='ui-pg-div ui-inline-cancel' onclick=jQuery.fn.fmatter.rowactions.call(this,'cancel'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ><span class='ui-icon ui-icon-cancel'><\/span><\/div>","<div style='margin-left:8px;'>"+r+"<\/div>")};n.unformat=function(t,i,r,u){var f,o=i.colModel.formatter,e=i.colModel.formatoptions||{},s=/([\.\*\_\'\(\)\{\}\+\?\\])/g,h=i.colModel.unformat||n.fn.fmatter[o]&&n.fn.fmatter[o].unformat;if(void 0!==h&&n.isFunction(h))f=h.call(this,n(t).text(),i,t);else if(!n.fmatter.isUndefined(o)&&n.fmatter.isString(o))switch(f=n.jgrid.formatter||{},o){case"integer":e=n.extend({},f.integer,e);i=e.thousandsSeparator.replace(s,"\\$1");f=n(t).text().replace(RegExp(i,"g"),"");break;case"number":e=n.extend({},f.number,e);i=e.thousandsSeparator.replace(s,"\\$1");f=n(t).text().replace(RegExp(i,"g"),"").replace(e.decimalSeparator,".");break;case"currency":e=n.extend({},f.currency,e);i=e.thousandsSeparator.replace(s,"\\$1");i=RegExp(i,"g");f=n(t).text();e.prefix&&e.prefix.length&&(f=f.substr(e.prefix.length));e.suffix&&e.suffix.length&&(f=f.substr(0,f.length-e.suffix.length));f=f.replace(i,"").replace(e.decimalSeparator,".");break;case"checkbox":e=i.colModel.editoptions?i.colModel.editoptions.value.split(":"):["Yes","No"];f=n("input",t).is(":checked")?e[0]:e[1];break;case"select":f=n.unformat.select(t,i,r,u);break;case"actions":return"";default:f=n(t).text()}return void 0!==f?f:!0===u?n(t).text():n.jgrid.htmlDecode(n(t).html())};n.unformat.select=function(t,i,r,u){var h,c,s;if(r=[],t=n(t).text(),!0===u)return t;var u=n.extend({},n.fmatter.isUndefined(i.colModel.formatoptions)?i.colModel.editoptions:i.colModel.formatoptions),i=void 0===u.separator?":":u.separator,f=void 0===u.delimiter?";":u.delimiter;if(u.value){var o=u.value,u=!0===u.multiple?!0:!1,e=[];if(u&&(e=t.split(","),e=n.map(e,function(t){return n.trim(t)})),n.fmatter.isString(o)){for(h=o.split(f),c=0,s=0;s<h.length;s++)if(f=h[s].split(i),2<f.length&&(f[1]=n.map(f,function(n,t){if(t>0)return n}).join(i)),u)-1<n.inArray(f[1],e)&&(r[c]=f[0],c++);else if(n.trim(f[1])==n.trim(t)){r[0]=f[0];break}}else(n.fmatter.isObject(o)||n.isArray(o))&&(u||(e[0]=t),r=n.map(e,function(t){var i;return n.each(o,function(n,r){if(r==t)return i=n,!1}),i!==void 0?i:void 0}));return r.join(", ")}return t||""};n.unformat.date=function(t,i){var r=n.jgrid.formatter.date||{};return n.fmatter.isUndefined(i.formatoptions)||(r=n.extend({},r,i.formatoptions)),n.fmatter.isEmpty(t)?n.fn.fmatter.defaultFormat(t,i):n.fmatter.util.DateFormat(r.newformat,t,r.srcformat,r)}}(jQuery),function(n){n.jgrid.extend({getColProp:function(n){var r={},t=this[0],i;if(!t.grid)return!1;for(t=t.p.colModel,i=0;i<t.length;i++)if(t[i].name==n){r=t[i];break}return r},setColProp:function(t,i){return this.each(function(){if(this.grid&&i)for(var u=this.p.colModel,r=0;r<u.length;r++)if(u[r].name==t){n.extend(!0,this.p.colModel[r],i);break}})},sortGrid:function(n,t,i){return this.each(function(){var u=-1,r;if(this.grid){for(n||(n=this.p.sortname),r=0;r<this.p.colModel.length;r++)if(this.p.colModel[r].index==n||this.p.colModel[r].name==n){u=r;break}-1!=u&&(r=this.p.colModel[u].sortable,"boolean"!=typeof r&&(r=!0),"boolean"!=typeof t&&(t=!1),r&&this.sortData("jqgh_"+this.p.id+"_"+n,u,t,i))}})},clearBeforeUnload:function(){return this.each(function(){var t=this.grid,i,r;for(t.emptyRows.call(this,!0,!0),n(t.hDiv).unbind("mousemove"),n(this).unbind(),t.dragEnd=null,t.dragMove=null,t.dragStart=null,t.emptyRows=null,t.populate=null,t.populateVisible=null,t.scrollGrid=null,t.selectionPreserver=null,t.bDiv=null,t.cDiv=null,t.hDiv=null,t.cols=null,r=t.headers.length,i=0;i<r;i++)t.headers[i].el=null;this.addJSONData=this.addXmlData=this.formatter=this.constructTr=this.setHeadCheckBox=this.refreshIndex=this.updatepager=this.sortData=this.formatCol=null})},GridDestroy:function(){return this.each(function(){if(this.grid){this.p.pager&&n(this.p.pager).remove();try{n(this).jqGrid("clearBeforeUnload");n("#gbox_"+n.jgrid.jqID(this.id)).remove()}catch(t){}}})},GridUnload:function(){return this.each(function(){var t,r,i;this.grid&&(t=n(this).attr("id"),r=n(this).attr("class"),this.p.pager&&n(this.p.pager).empty().removeClass("ui-state-default ui-jqgrid-pager corner-bottom"),i=document.createElement("table"),n(i).attr({id:t}),i.className=r,t=n.jgrid.jqID(this.id),n(i).removeClass("ui-jqgrid-btable"),1===n(this.p.pager).parents("#gbox_"+t).length?(n(i).insertBefore("#gbox_"+t).show(),n(this.p.pager).insertBefore("#gbox_"+t)):n(i).insertBefore("#gbox_"+t).show(),n(this).jqGrid("clearBeforeUnload"),n("#gbox_"+t).remove())})},setGridState:function(t){return this.each(function(){this.grid&&("hidden"==t?(n(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv","#gview_"+n.jgrid.jqID(this.p.id)).slideUp("fast"),this.p.pager&&n(this.p.pager).slideUp("fast"),this.p.toppager&&n(this.p.toppager).slideUp("fast"),!0===this.p.toolbar[0]&&("both"==this.p.toolbar[1]&&n(this.grid.ubDiv).slideUp("fast"),n(this.grid.uDiv).slideUp("fast")),this.p.footerrow&&n(".ui-jqgrid-sdiv","#gbox_"+n.jgrid.jqID(this.p.id)).slideUp("fast"),n(".ui-jqgrid-titlebar-close span",this.grid.cDiv).removeClass("ui-icon-circle-triangle-n").addClass("ui-icon-circle-triangle-s"),this.p.gridstate="hidden"):"visible"==t&&(n(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv","#gview_"+n.jgrid.jqID(this.p.id)).slideDown("fast"),this.p.pager&&n(this.p.pager).slideDown("fast"),this.p.toppager&&n(this.p.toppager).slideDown("fast"),!0===this.p.toolbar[0]&&("both"==this.p.toolbar[1]&&n(this.grid.ubDiv).slideDown("fast"),n(this.grid.uDiv).slideDown("fast")),this.p.footerrow&&n(".ui-jqgrid-sdiv","#gbox_"+n.jgrid.jqID(this.p.id)).slideDown("fast"),n(".ui-jqgrid-titlebar-close span",this.grid.cDiv).removeClass("ui-icon-circle-triangle-s").addClass("ui-icon-circle-triangle-n"),this.p.gridstate="visible"))})},filterToolbar:function(t){return t=n.extend({autosearch:!0,searchOnEnter:!0,beforeSearch:null,afterSearch:null,beforeClear:null,afterClear:null,searchurl:"",stringResult:!1,groupOp:"AND",defaultSearch:"bw"},t||{}),this.each(function(){var i=this,r,u,f;this.ftoolbar||(r=function(){var e={},h=0,c,u,l={},a,v,r,o,s,f;n.each(i.p.colModel,function(){if(u=this.index||this.name,a=this.searchoptions&&this.searchoptions.sopt?this.searchoptions.sopt[0]:"select"==this.stype?"eq":t.defaultSearch,c=n("#gs_"+n.jgrid.jqID(this.name),!0===this.frozen&&!0===i.p.frozenColumns?i.grid.fhDiv:i.grid.hDiv).val())e[u]=c,l[u]=a,h++;else try{delete i.p.postData[u]}catch(r){}});v=0<h?!0:!1;!0===t.stringResult||"local"==i.p.datatype?(r='{"groupOp":"'+t.groupOp+'","rules":[',o=0,n.each(e,function(n,t){0<o&&(r+=",");r+='{"field":"'+n+'",';r+='"op":"'+l[n]+'",';r+='"data":"'+(t+"").replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}';o++}),r+="]}",n.extend(i.p.postData,{filters:r}),n.each(["searchField","searchString","searchOper"],function(n,t){i.p.postData.hasOwnProperty(t)&&delete i.p.postData[t]})):n.extend(i.p.postData,e);i.p.searchurl&&(s=i.p.url,n(i).jqGrid("setGridParam",{url:i.p.searchurl}));f="stop"===n(i).triggerHandler("jqGridToolbarBeforeSearch")?!0:!1;!f&&n.isFunction(t.beforeSearch)&&(f=t.beforeSearch.call(i));f||n(i).jqGrid("setGridParam",{search:v}).trigger("reloadGrid",[{page:1}]);s&&n(i).jqGrid("setGridParam",{url:s});n(i).triggerHandler("jqGridToolbarAfterSearch");n.isFunction(t.afterSearch)&&t.afterSearch.call(i)},u=n("<tr class='ui-search-toolbar' role='rowheader'><\/tr>"),n.each(i.p.colModel,function(){var e=this,s,y,o,h,c,v,l,a,p;if(y=n("<th role='columnheader' class='ui-state-default ui-th-column ui-th-"+i.p.direction+"'><\/th>"),s=n("<div style='position:relative;height:100%;padding-right:0.3em;'><\/div>"),!0===this.hidden&&n(y).css("display","none"),this.search=!1===this.search?!1:!0,void 0===this.stype&&(this.stype="text"),o=n.extend({},this.searchoptions||{}),this.search)switch(this.stype){case"select":if(h=this.surl||o.dataUrl)n.ajax(n.extend({url:h,dataType:"html",success:function(u){o.buildSelect!==void 0?(u=o.buildSelect(u))&&n(s).append(u):n(s).append(u);o.defaultValue!==void 0&&n("select",s).val(o.defaultValue);n("select",s).attr({name:e.index||e.name,id:"gs_"+e.name});o.attr&&n("select",s).attr(o.attr);n("select",s).css({width:"100%"});n.jgrid.bindEv(n("select",s)[0],o,i);t.autosearch===!0&&n("select",s).change(function(){return r(),!1});u=null}},n.jgrid.ajaxOptions,i.p.ajaxSelectOptions||{}));else if(e.searchoptions?(c=void 0===e.searchoptions.value?"":e.searchoptions.value,v=void 0===e.searchoptions.separator?":":e.searchoptions.separator,l=void 0===e.searchoptions.delimiter?";":e.searchoptions.delimiter):e.editoptions&&(c=void 0===e.editoptions.value?"":e.editoptions.value,v=void 0===e.editoptions.separator?":":e.editoptions.separator,l=void 0===e.editoptions.delimiter?";":e.editoptions.delimiter),c){if(h=document.createElement("select"),h.style.width="100%",n(h).attr({name:e.index||e.name,id:"gs_"+e.name}),"string"==typeof c)for(c=c.split(l),p=0;p<c.length;p++)a=c[p].split(v),l=document.createElement("option"),l.value=a[0],l.innerHTML=a[1],h.appendChild(l);else if("object"==typeof c)for(a in c)c.hasOwnProperty(a)&&(l=document.createElement("option"),l.value=a,l.innerHTML=c[a],h.appendChild(l));void 0!==o.defaultValue&&n(h).val(o.defaultValue);o.attr&&n(h).attr(o.attr);n.jgrid.bindEv(h,o,i);n(s).append(h);!0===t.autosearch&&n(h).change(function(){return r(),!1})}break;case"text":v=void 0!==o.defaultValue?o.defaultValue:"";n(s).append("<input type='text' style='width:95%;padding:0px;' name='"+(e.index||e.name)+"' id='gs_"+e.name+"' value='"+v+"'/>");o.attr&&n("input",s).attr(o.attr);n.jgrid.bindEv(n("input",s)[0],o,i);!0===t.autosearch&&(t.searchOnEnter?n("input",s).keypress(function(n){return(n.charCode||n.keyCode||0)==13?(r(),!1):this}):n("input",s).keydown(function(n){switch(n.which){case 13:return!1;case 9:case 16:case 37:case 38:case 39:case 40:case 27:break;default:f&&clearTimeout(f);f=setTimeout(function(){r()},500)}}))}n(y).append(s);n(u).append(y)}),n("table thead",i.grid.hDiv).append(u),this.ftoolbar=!0,this.triggerToolbar=r,this.clearToolbar=function(r){var e={},s=0,f,r="boolean"!=typeof r?!0:r,l,u,h,c,o;n.each(i.p.colModel,function(){var t;this.searchoptions&&void 0!==this.searchoptions.defaultValue&&(t=this.searchoptions.defaultValue);f=this.index||this.name;switch(this.stype){case"select":if(n("#gs_"+n.jgrid.jqID(this.name)+" option",!0===this.frozen&&!0===i.p.frozenColumns?i.grid.fhDiv:i.grid.hDiv).each(function(i){return i===0&&(this.selected=!0),n(this).val()==t?(this.selected=!0,!1):void 0}),void 0!==t)e[f]=t,s++;else try{delete i.p.postData[f]}catch(r){}break;case"text":if(n("#gs_"+n.jgrid.jqID(this.name),!0===this.frozen&&!0===i.p.frozenColumns?i.grid.fhDiv:i.grid.hDiv).val(t),void 0!==t)e[f]=t,s++;else try{delete i.p.postData[f]}catch(u){}}});l=0<s?!0:!1;!0===t.stringResult||"local"==i.p.datatype?(u='{"groupOp":"'+t.groupOp+'","rules":[',h=0,n.each(e,function(n,t){0<h&&(u+=",");u+='{"field":"'+n+'",';u+='"op":"eq",';u+='"data":"'+(t+"").replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}';h++}),u+="]}",n.extend(i.p.postData,{filters:u}),n.each(["searchField","searchString","searchOper"],function(n,t){i.p.postData.hasOwnProperty(t)&&delete i.p.postData[t]})):n.extend(i.p.postData,e);i.p.searchurl&&(c=i.p.url,n(i).jqGrid("setGridParam",{url:i.p.searchurl}));o="stop"===n(i).triggerHandler("jqGridToolbarBeforeClear")?!0:!1;!o&&n.isFunction(t.beforeClear)&&(o=t.beforeClear.call(i));o||r&&n(i).jqGrid("setGridParam",{search:l}).trigger("reloadGrid",[{page:1}]);c&&n(i).jqGrid("setGridParam",{url:c});n(i).triggerHandler("jqGridToolbarAfterClear");n.isFunction(t.afterClear)&&t.afterClear()},this.toggleToolbar=function(){var r=n("tr.ui-search-toolbar",i.grid.hDiv),t=!0===i.p.frozenColumns?n("tr.ui-search-toolbar",i.grid.fhDiv):!1;"none"==r.css("display")?(r.show(),t&&t.show()):(r.hide(),t&&t.hide())})})},destroyFilterToolbar:function(){return this.each(function(){this.ftoolbar&&(this.toggleToolbar=this.clearToolbar=this.triggerToolbar=null,this.ftoolbar=!1,n(this.grid.hDiv).find("table thead tr.ui-search-toolbar").remove())})},destroyGroupHeader:function(t){return void 0===t&&(t=!0),this.each(function(){var f,i,s,u,r,e,o,h;if(i=this.grid,o=n("table.ui-jqgrid-htable thead",i.hDiv),h=this.p.colModel,i){for(n(this).unbind(".setGroupHeaders"),f=n("<tr>",{role:"rowheader"}).addClass("ui-jqgrid-labels"),u=i.headers,i=0,s=u.length;i<s;i++){r=h[i].hidden?"none":"";r=n(u[i].el).width(u[i].width).css("display",r);try{r.removeAttr("rowSpan")}catch(c){r.attr("rowSpan",1)}f.append(r);e=r.children("span.ui-jqgrid-resize");0<e.length&&(e[0].style.height="");r.children("div")[0].style.top=""}n(o).children("tr.ui-jqgrid-labels").remove();n(o).prepend(f);!0===t&&n(this).jqGrid("setGridParam",{groupHeader:null})}})},setGroupHeaders:function(t){return t=n.extend({useColSpanStyle:!1,groupHeaders:[]},t||{}),this.each(function(){var h,p,w;this.p.groupHeader=t;var u,r,c=0,f,i,o,l,a,e=this.p.colModel,v=e.length,y=this.grid.headers,s=n("table.ui-jqgrid-htable",this.grid.hDiv),b=s.children("thead").children("tr.ui-jqgrid-labels:last").addClass("jqg-second-row-header");for(f=s.children("thead"),h=s.find(".jqg-first-row-header"),void 0===h[0]?h=n("<tr>",{role:"row","aria-hidden":"true"}).addClass("jqg-first-row-header").css("height","auto"):h.empty(),w=function(n,t){for(var r=t.length,i=0;i<r;i++)if(t[i].startColumnName===n)return i;return-1},n(this).prepend(f),f=n("<tr>",{role:"rowheader"}).addClass("ui-jqgrid-labels jqg-third-row-header"),u=0;u<v;u++)if(o=y[u].el,l=n(o),r=e[u],i={height:"0px",width:y[u].width+"px",display:r.hidden?"none":""},n("<th>",{role:"gridcell"}).css(i).addClass("ui-first-th-"+this.p.direction).appendTo(h),o.style.width="",i=w(r.name,t.groupHeaders),0<=i){for(i=t.groupHeaders[i],c=i.numberOfColumns,a=i.titleText,i=r=0;i<c&&u+i<v;i++)e[u+i].hidden||r++;i=n("<th>").attr({role:"columnheader"}).addClass("ui-state-default ui-th-column-header ui-th-"+this.p.direction).css({height:"22px","border-top":"0px none"}).html(a);0<r&&i.attr("colspan",""+r);this.p.headertitles&&i.attr("title",i.text());0===r&&i.hide();l.before(i);f.append(o);c-=1}else 0===c?t.useColSpanStyle?l.attr("rowspan","2"):(n("<th>",{role:"columnheader"}).addClass("ui-state-default ui-th-column-header ui-th-"+this.p.direction).css({display:r.hidden?"none":"","border-top":"0px none"}).insertBefore(l),f.append(o)):(f.append(o),c--);e=n(this).children("thead");e.prepend(h);f.insertAfter(b);s.append(e);t.useColSpanStyle&&(s.find("span.ui-jqgrid-resize").each(function(){var t=n(this).parent();t.is(":visible")&&(this.style.cssText="height: "+t.height()+"px !important; cursor: col-resize;")}),s.find("div.ui-jqgrid-sortable").each(function(){var t=n(this),i=t.parent();i.is(":visible")&&i.is(":has(span.ui-jqgrid-resize)")&&t.css("top",(i.height()-t.outerHeight())/2+"px")}));p=e.find("tr.jqg-first-row-header");n(this).bind("jqGridResizeStop.setGroupHeaders",function(n,t,i){p.find("th").eq(i).width(t)})})},setFrozenColumns:function(){return this.each(function(){var f,e;if(this.grid){var t=this,i=t.p.colModel,r=0,s=i.length,u=-1,o=!1;if(!(!0===t.p.subGrid||!0===t.p.treeGrid||!0===t.p.cellEdit||t.p.sortable||t.p.scroll||t.p.grouping)){for(t.p.rownumbers&&r++,t.p.multiselect&&r++;r<s;){if(!0===i[r].frozen)o=!0,u=r;else break;r++}0<=u&&o&&(i=t.p.caption?n(t.grid.cDiv).outerHeight():0,r=n(".ui-jqgrid-htable","#gview_"+n.jgrid.jqID(t.p.id)).height(),t.p.toppager&&(i+=n(t.grid.topDiv).outerHeight()),!0===t.p.toolbar[0]&&"bottom"!=t.p.toolbar[1]&&(i+=n(t.grid.uDiv).outerHeight()),t.grid.fhDiv=n('<div style="position:absolute;left:0px;top:'+i+"px;height:"+r+'px;" class="frozen-div ui-state-default ui-jqgrid-hdiv"><\/div>'),t.grid.fbDiv=n('<div style="position:absolute;left:0px;top:'+(parseInt(i,10)+parseInt(r,10)+1)+'px;overflow-y:hidden" class="frozen-bdiv ui-jqgrid-bdiv"><\/div>'),n("#gview_"+n.jgrid.jqID(t.p.id)).append(t.grid.fhDiv),i=n(".ui-jqgrid-htable","#gview_"+n.jgrid.jqID(t.p.id)).clone(!0),t.p.groupHeader?(n("tr.jqg-first-row-header, tr.jqg-third-row-header",i).each(function(){n("th:gt("+u+")",this).remove()}),f=-1,e=-1,n("tr.jqg-second-row-header th",i).each(function(){var t=parseInt(n(this).attr("colspan"),10);return t&&(f+=t,e++),f===u?!1:void 0}),f!==u&&(e=u),n("tr.jqg-second-row-header",i).each(function(){n("th:gt("+e+")",this).remove()})):n("tr",i).each(function(){n("th:gt("+u+")",this).remove()}),n(i).width(1),n(t.grid.fhDiv).append(i).mousemove(function(n){if(t.grid.resizing)return t.grid.dragMove(n),!1}),n(t).bind("jqGridResizeStop.setFrozenColumns",function(i,r,u){i=n(".ui-jqgrid-htable",t.grid.fhDiv);n("th:eq("+u+")",i).width(r);i=n(".ui-jqgrid-btable",t.grid.fbDiv);n("tr:first td:eq("+u+")",i).width(r)}),n(t).bind("jqGridOnSortCol.setFrozenColumns",function(i,r){var u=n("tr.ui-jqgrid-labels:last th:eq("+t.p.lastsort+")",t.grid.fhDiv),f=n("tr.ui-jqgrid-labels:last th:eq("+r+")",t.grid.fhDiv);n("span.ui-grid-ico-sort",u).addClass("ui-state-disabled");n(u).attr("aria-selected","false");n("span.ui-icon-"+t.p.sortorder,f).removeClass("ui-state-disabled");n(f).attr("aria-selected","true");t.p.viewsortcols[0]||t.p.lastsort==r||(n("span.s-ico",u).hide(),n("span.s-ico",f).show())}),n("#gview_"+n.jgrid.jqID(t.p.id)).append(t.grid.fbDiv),n(t.grid.bDiv).scroll(function(){n(t.grid.fbDiv).scrollTop(n(this).scrollTop())}),!0===t.p.hoverrows&&n("#"+n.jgrid.jqID(t.p.id)).unbind("mouseover").unbind("mouseout"),n(t).bind("jqGridAfterGridComplete.setFrozenColumns",function(){n("#"+n.jgrid.jqID(t.p.id)+"_frozen").remove();n(t.grid.fbDiv).height(n(t.grid.bDiv).height()-16);var i=n("#"+n.jgrid.jqID(t.p.id)).clone(!0);n("tr",i).each(function(){n("td:gt("+u+")",this).remove()});n(i).width(1).attr("id",t.p.id+"_frozen");n(t.grid.fbDiv).append(i);!0===t.p.hoverrows&&(n("tr.jqgrow",i).hover(function(){n(this).addClass("ui-state-hover");n("#"+n.jgrid.jqID(this.id),"#"+n.jgrid.jqID(t.p.id)).addClass("ui-state-hover")},function(){n(this).removeClass("ui-state-hover");n("#"+n.jgrid.jqID(this.id),"#"+n.jgrid.jqID(t.p.id)).removeClass("ui-state-hover")}),n("tr.jqgrow","#"+n.jgrid.jqID(t.p.id)).hover(function(){n(this).addClass("ui-state-hover");n("#"+n.jgrid.jqID(this.id),"#"+n.jgrid.jqID(t.p.id)+"_frozen").addClass("ui-state-hover")},function(){n(this).removeClass("ui-state-hover");n("#"+n.jgrid.jqID(this.id),"#"+n.jgrid.jqID(t.p.id)+"_frozen").removeClass("ui-state-hover")}));i=null}),t.p.frozenColumns=!0)}}})},destroyFrozenColumns:function(){return this.each(function(){if(this.grid&&!0===this.p.frozenColumns){if(n(this.grid.fhDiv).remove(),n(this.grid.fbDiv).remove(),this.grid.fhDiv=null,this.grid.fbDiv=null,n(this).unbind(".setFrozenColumns"),!0===this.p.hoverrows){var t;n("#"+n.jgrid.jqID(this.p.id)).bind("mouseover",function(i){t=n(i.target).closest("tr.jqgrow");"ui-subgrid"!==n(t).attr("class")&&n(t).addClass("ui-state-hover")}).bind("mouseout",function(i){t=n(i.target).closest("tr.jqgrow");n(t).removeClass("ui-state-hover")})}this.p.frozenColumns=!1}})}})}(jQuery),function(n){n.extend(n.jgrid,{showModal:function(n){n.w.show()},closeModal:function(n){n.w.hide().attr("aria-hidden","true");n.o&&n.o.remove()},hideModal:function(t,i){if(i=n.extend({jqm:!0,gb:""},i||{}),i.onClose){var r=i.gb&&"string"==typeof i.gb&&"#gbox_"===i.gb.substr(0,6)?i.onClose.call(n("#"+i.gb.substr(6))[0],t):i.onClose(t);if("boolean"==typeof r&&!r)return}if(n.fn.jqm&&!0===i.jqm)n(t).attr("aria-hidden","true").jqmHide();else{if(""!==i.gb)try{n(".jqgrid-overlay:first",i.gb).hide()}catch(u){}n(t).hide().attr("aria-hidden","true")}},findPos:function(n){var t=0,i=0;if(n.offsetParent)do t+=n.offsetLeft,i+=n.offsetTop;while(n=n.offsetParent);return[t,i]},createModal:function(t,i,r,u,f,e,o){var r=n.extend(!0,{},n.jgrid.jqModal||{},r),s=document.createElement("div"),a,v=this,o=n.extend({},o||{}),h,c,l;if(a="rtl"==n(r.gbox).attr("dir")?!0:!1,s.className="ui-widget ui-widget-content ui-corner-all ui-jqdialog",s.id=t.themodal,h=document.createElement("div"),h.className="ui-jqdialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix",h.id=t.modalhead,n(h).append("<span class='ui-jqdialog-title'>"+r.caption+"<\/span>"),c=n("<a href='javascript:void(0)' class='ui-jqdialog-titlebar-close ui-corner-all'><\/a>").hover(function(){c.addClass("ui-state-hover")},function(){c.removeClass("ui-state-hover")}).append("<span class='ui-icon ui-icon-closethick'><\/span>"),n(h).append(c),a?(s.dir="rtl",n(".ui-jqdialog-title",h).css("float","right"),n(".ui-jqdialog-titlebar-close",h).css("left","0.3em")):(s.dir="ltr",n(".ui-jqdialog-title",h).css("float","left"),n(".ui-jqdialog-titlebar-close",h).css("right","0.3em")),l=document.createElement("div"),n(l).addClass("ui-jqdialog-content ui-widget-content").attr("id",t.modalcontent),n(l).append(i),s.appendChild(l),n(s).prepend(h),!0===e?n("body").append(s):"string"==typeof e?n(e).append(s):n(s).insertBefore(u),n(s).css(o),void 0===r.jqModal&&(r.jqModal=!0),i={},n.fn.jqm&&!0===r.jqModal?(0===r.left&&0===r.top&&r.overlay&&(o=[],o=n.jgrid.findPos(f),r.left=o[0]+4,r.top=o[1]+4),i.top=r.top+"px",i.left=r.left):(0!==r.left||0!==r.top)&&(i.left=r.left,i.top=r.top+"px"),n("a.ui-jqdialog-titlebar-close",h).click(function(){var i=n("#"+n.jgrid.jqID(t.themodal)).data("onClose")||r.onClose,u=n("#"+n.jgrid.jqID(t.themodal)).data("gbox")||r.gbox;return v.hideModal("#"+n.jgrid.jqID(t.themodal),{gb:u,jqm:r.jqModal,onClose:i}),!1}),0!==r.width&&r.width||(r.width=300),0!==r.height&&r.height||(r.height=200),r.zIndex||(u=n(u).parents("*[role=dialog]").filter(":first").css("z-index"),r.zIndex=u?parseInt(u,10)+2:950),u=0,a&&i.left&&!e&&(u=n(r.gbox).width()-(isNaN(r.width)?0:parseInt(r.width,10))-8,i.left=parseInt(i.left,10)+parseInt(u,10)),i.left&&(i.left+="px"),n(s).css(n.extend({width:isNaN(r.width)?"auto":r.width+"px",height:isNaN(r.height)?"auto":r.height+"px",zIndex:r.zIndex,overflow:"hidden"},i)).attr({tabIndex:"-1",role:"dialog","aria-labelledby":t.modalhead,"aria-hidden":"true"}),void 0===r.drag&&(r.drag=!0),void 0===r.resize&&(r.resize=!0),r.drag)if(n(h).css("cursor","move"),n.fn.jqDrag)n(s).jqDrag(h);else try{n(s).draggable({handle:n("#"+n.jgrid.jqID(h.id))})}catch(y){}if(r.resize)if(n.fn.jqResize)n(s).append("<div class='jqResize ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se'><\/div>"),n("#"+n.jgrid.jqID(t.themodal)).jqResize(".jqResize",t.scrollelm?"#"+n.jgrid.jqID(t.scrollelm):!1);else try{n(s).resizable({handles:"se, sw",alsoResize:t.scrollelm?"#"+n.jgrid.jqID(t.scrollelm):!1})}catch(p){}!0===r.closeOnEscape&&n(s).keydown(function(i){i.which==27&&(i=n("#"+n.jgrid.jqID(t.themodal)).data("onClose")||r.onClose,v.hideModal("#"+n.jgrid.jqID(t.themodal),{gb:r.gbox,jqm:r.jqModal,onClose:i}))})},viewModal:function(t,i){if(i=n.extend({toTop:!0,overlay:10,modal:!1,overlayClass:"ui-widget-overlay",onShow:n.jgrid.showModal,onHide:n.jgrid.closeModal,gbox:"",jqm:!0,jqM:!0},i||{}),n.fn.jqm&&!0===i.jqm)i.jqM?n(t).attr("aria-hidden","false").jqm(i).jqmShow():n(t).attr("aria-hidden","false").jqmShow();else{""!==i.gbox&&(n(".jqgrid-overlay:first",i.gbox).show(),n(t).data("gbox",i.gbox));n(t).show().attr("aria-hidden","false");try{n(":input:visible",t)[0].focus()}catch(r){}}},info_dialog:function(t,i,r,u){var f={width:290,height:"auto",dataheight:"auto",drag:!0,resize:!1,left:250,top:170,zIndex:1e3,jqModal:!0,modal:!1,closeOnEscape:!0,align:"center",buttonalign:"center",buttons:[]},e,o;if(n.extend(!0,f,n.jgrid.jqModal||{},{caption:"<b>"+t+"<\/b>"},u||{}),e=f.jqModal,o=this,n.fn.jqm&&!e&&(e=!1),t="",0<f.buttons.length)for(u=0;u<f.buttons.length;u++)void 0===f.buttons[u].id&&(f.buttons[u].id="info_button_"+u),t+="<a href='javascript:void(0)' id='"+f.buttons[u].id+"' class='fm-button ui-state-default ui-corner-all'>"+f.buttons[u].text+"<\/a>";u=isNaN(f.dataheight)?f.dataheight:f.dataheight+"px";i="<div id='info_id'>"+("<div id='infocnt' style='margin:0px;padding-bottom:1em;width:100%;overflow:auto;position:relative;height:"+u+";"+("text-align:"+f.align+";")+"'>"+i+"<\/div>");i+=r?"<div class='ui-widget-content ui-helper-clearfix' style='text-align:"+f.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'><a href='javascript:void(0)' id='closedialog' class='fm-button ui-state-default ui-corner-all'>"+r+"<\/a>"+t+"<\/div>":""!==t?"<div class='ui-widget-content ui-helper-clearfix' style='text-align:"+f.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'>"+t+"<\/div>":"";i+="<\/div>";try{"false"==n("#info_dialog").attr("aria-hidden")&&n.jgrid.hideModal("#info_dialog",{jqm:e});n("#info_dialog").remove()}catch(s){}n.jgrid.createModal({themodal:"info_dialog",modalhead:"info_head",modalcontent:"info_content",scrollelm:"infocnt"},i,f,"","",!0);t&&n.each(f.buttons,function(t){n("#"+n.jgrid.jqID(this.id),"#info_id").bind("click",function(){return f.buttons[t].onClick.call(n("#info_dialog")),!1})});n("#closedialog","#info_id").click(function(){return o.hideModal("#info_dialog",{jqm:e}),!1});n(".fm-button","#info_dialog").hover(function(){n(this).addClass("ui-state-hover")},function(){n(this).removeClass("ui-state-hover")});n.isFunction(f.beforeOpen)&&f.beforeOpen();n.jgrid.viewModal("#info_dialog",{onHide:function(n){n.w.hide().remove();n.o&&n.o.remove()},modal:f.modal,jqm:e});n.isFunction(f.afterOpen)&&f.afterOpen();try{n("#info_dialog").focus()}catch(h){}},bindEv:function(t,i,r){n.isFunction(i.dataInit)&&i.dataInit.call(r,t);i.dataEvents&&n.each(i.dataEvents,function(){void 0!==this.data?n(t).bind(this.type,this.data,this.fn):n(t).bind(this.type,this.fn)})},createEl:function(t,i,r,u,f){function c(t,i,r){var u="dataInit,dataEvents,dataUrl,buildSelect,sopt,searchhidden,defaultValue,attr,custom_element,custom_value".split(",");void 0!==r&&n.isArray(r)&&n.merge(u,r);n.each(i,function(i,r){-1===n.inArray(i,u)&&n(t).attr(i,r)});i.hasOwnProperty("id")||n(t).attr("id",n.jgrid.randId())}var e="",l=this,o,v,h,s,f;switch(t){case"textarea":e=document.createElement("textarea");u?i.cols||n(e).css({width:"98%"}):i.cols||(i.cols=20);i.rows||(i.rows=2);("&nbsp;"==r||"&#160;"==r||1==r.length&&160==r.charCodeAt(0))&&(r="");e.value=r;c(e,i);n(e).attr({role:"textbox",multiline:"true"});break;case"checkbox":e=document.createElement("input");e.type="checkbox";i.value?(t=i.value.split(":"),r===t[0]&&(e.checked=!0,e.defaultChecked=!0),e.value=t[0],n(e).attr("offval",t[1])):(t=r.toLowerCase(),0>t.search(/(false|0|no|off|undefined)/i)&&""!==t?(e.checked=!0,e.defaultChecked=!0,e.value=r):e.value="on",n(e).attr("offval","off"));c(e,i,["value"]);n(e).attr("role","checkbox");break;case"select":if(e=document.createElement("select"),e.setAttribute("role","select"),u=[],!0===i.multiple?(t=!0,e.multiple="multiple",n(e).attr("aria-multiselectable","true")):t=!1,void 0!==i.dataUrl)t=i.name?(""+i.id).substring(0,(""+i.id).length-(""+i.name).length-1):""+i.id,u=i.postData||f.postData,l.p&&l.p.idPrefix?t=n.jgrid.stripPref(l.p.idPrefix,t):u=void 0,n.ajax(n.extend({url:i.dataUrl,type:"GET",dataType:"html",data:n.isFunction(u)?u.call(l,t,r,""+i.name):u,context:{elem:e,options:i,vl:r},success:function(t){var i=[],u=this.elem,f=this.vl,r=n.extend({},this.options),e=r.multiple===!0;n.isFunction(r.buildSelect)&&(t=r.buildSelect.call(l,t));(t=n(t).html())&&(n(u).append(t),c(u,r),r.size===void 0&&(r.size=e?3:1),e?(i=f.split(","),i=n.map(i,function(t){return n.trim(t)})):i[0]=n.trim(f),setTimeout(function(){n("option",u).each(function(t){t===0&&u.multiple&&(this.selected=!1);n(this).attr("role","option");(n.inArray(n.trim(n(this).text()),i)>-1||n.inArray(n.trim(n(this).val()),i)>-1)&&(this.selected="selected")})},0))}},f||{}));else if(i.value){if(void 0===i.size&&(i.size=t?3:1),t&&(u=r.split(","),u=n.map(u,function(t){return n.trim(t)})),"function"==typeof i.value&&(i.value=i.value()),s=void 0===i.separator?":":i.separator,f=void 0===i.delimiter?";":i.delimiter,"string"==typeof i.value)for(v=i.value.split(f),o=0;o<v.length;o++)h=v[o].split(s),2<h.length&&(h[1]=n.map(h,function(n,t){if(t>0)return n}).join(s)),f=document.createElement("option"),f.setAttribute("role","option"),f.value=h[0],f.innerHTML=h[1],e.appendChild(f),t||n.trim(h[0])!=n.trim(r)&&n.trim(h[1])!=n.trim(r)||(f.selected="selected"),t&&(-1<n.inArray(n.trim(h[1]),u)||-1<n.inArray(n.trim(h[0]),u))&&(f.selected="selected");else if("object"==typeof i.value)for(o in s=i.value,s)s.hasOwnProperty(o)&&(f=document.createElement("option"),f.setAttribute("role","option"),f.value=o,f.innerHTML=s[o],e.appendChild(f),t||n.trim(o)!=n.trim(r)&&n.trim(s[o])!=n.trim(r)||(f.selected="selected"),t&&(-1<n.inArray(n.trim(s[o]),u)||-1<n.inArray(n.trim(o),u))&&(f.selected="selected"));c(e,i,["value"])}break;case"text":case"password":case"button":o="button"==t?"button":"textbox";e=document.createElement("input");e.type=t;e.value=r;c(e,i);"button"!=t&&(u?i.size||n(e).css({width:"98%"}):i.size||(i.size=20));n(e).attr("role",o);break;case"image":case"file":e=document.createElement("input");e.type=t;c(e,i);break;case"custom":e=document.createElement("span");try{if(n.isFunction(i.custom_element))if(s=i.custom_element.call(l,r,i))s=n(s).addClass("customelement").attr({id:i.id,name:i.name}),n(e).empty().append(s);else throw"e2";else throw"e1";}catch(a){"e1"==a&&n.jgrid.info_dialog(n.jgrid.errors.errcap,"function 'custom_element' "+n.jgrid.edit.msg.nodefined,n.jgrid.edit.bClose);"e2"==a?n.jgrid.info_dialog(n.jgrid.errors.errcap,"function 'custom_element' "+n.jgrid.edit.msg.novalue,n.jgrid.edit.bClose):n.jgrid.info_dialog(n.jgrid.errors.errcap,"string"==typeof a?a:a.message,n.jgrid.edit.bClose)}}return e},checkDate:function(n,t){var i={},r,n=n.toLowerCase(),f,e,o,u,s;if(r=-1!=n.indexOf("/")?"/":-1!=n.indexOf("-")?"-":-1!=n.indexOf(".")?".":"/",n=n.split(r),t=t.split(r),3!=t.length)return!1;for(r=-1,e=-1,o=-1,u=0;u<n.length;u++)f=isNaN(t[u])?0:parseInt(t[u],10),i[n[u]]=f,f=n[u],-1!=f.indexOf("y")&&(r=u),-1!=f.indexOf("m")&&(o=u),-1!=f.indexOf("d")&&(e=u);return(f="y"==n[r]||"yyyy"==n[r]?4:"yy"==n[r]?2:-1,u=function(n){for(var t=1;t<=n;t++)this[t]=31,(4==t||6==t||9==t||11==t)&&(this[t]=30),2==t&&(this[t]=29);return this}(12),-1===r)?!1:(s=i[n[r]].toString(),2==f&&1==s.length&&(f=1),s.length!=f||0===i[n[r]]&&"00"!=t[r]||-1===o)?!1:(s=i[n[o]].toString(),1>s.length||1>i[n[o]]||12<i[n[o]]||-1===e)?!1:(s=i[n[e]].toString(),1>s.length||1>i[n[e]]||31<i[n[e]]||2==i[n[o]]&&i[n[e]]>(0==i[n[r]]%4&&(0!=i[n[r]]%100||0==i[n[r]]%400)?29:28)||i[n[e]]>u[i[n[o]]]?!1:!0)},isEmpty:function(n){return n.match(/^\s+$/)||""===n?!0:!1},checkTime:function(t){if(!n.jgrid.isEmpty(t))if(t=t.match(/^(\d{1,2}):(\d{2})([ap]m)?$/)){if(t[3]){if(1>t[1]||12<t[1])return!1}else if(23<t[1])return!1;if(59<t[2])return!1}else return!1;return!0},checkValues:function(t,i,r,u,f){var e,o;if(void 0===u)if("string"==typeof i){for(u=0,f=r.p.colModel.length;u<f;u++)if(r.p.colModel[u].name==i){e=r.p.colModel[u].editrules;i=u;try{o=r.p.colModel[u].formoptions.label}catch(s){}break}}else 0<=i&&(e=r.p.colModel[i].editrules);else e=u,o=void 0===f?"_":f;if(e){if(o||(o=r.p.colNames[i]),!0===e.required&&n.jgrid.isEmpty(t))return[!1,o+": "+n.jgrid.edit.msg.required,""];if(u=!1===e.required?!1:!0,!0===e.number&&!(!1===u&&n.jgrid.isEmpty(t))&&isNaN(t))return[!1,o+": "+n.jgrid.edit.msg.number,""];if(void 0!==e.minValue&&!isNaN(e.minValue)&&parseFloat(t)<parseFloat(e.minValue))return[!1,o+": "+n.jgrid.edit.msg.minValue+" "+e.minValue,""];if(void 0!==e.maxValue&&!isNaN(e.maxValue)&&parseFloat(t)>parseFloat(e.maxValue))return[!1,o+": "+n.jgrid.edit.msg.maxValue+" "+e.maxValue,""];if(!0===e.email&&!(!1===u&&n.jgrid.isEmpty(t))&&(f=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,!f.test(t)))return[!1,o+": "+n.jgrid.edit.msg.email,""];if(!0===e.integer&&!(!1===u&&n.jgrid.isEmpty(t))&&(isNaN(t)||0!=t%1||-1!=t.indexOf(".")))return[!1,o+": "+n.jgrid.edit.msg.integer,""];if(!0===e.date&&!(!1===u&&n.jgrid.isEmpty(t))&&(i=r.p.colModel[i].formatoptions&&r.p.colModel[i].formatoptions.newformat?r.p.colModel[i].formatoptions.newformat:r.p.colModel[i].datefmt||"Y-m-d",!n.jgrid.checkDate(i,t)))return[!1,o+": "+n.jgrid.edit.msg.date+" - "+i,""];if(!0===e.time&&!(!1===u&&n.jgrid.isEmpty(t))&&!n.jgrid.checkTime(t))return[!1,o+": "+n.jgrid.edit.msg.date+" - hh:mm (am/pm)",""];if(!0===e.url&&!(!1===u&&n.jgrid.isEmpty(t))&&(f=/^(((https?)|(ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i,!f.test(t)))return[!1,o+": "+n.jgrid.edit.msg.url,""];if(!0===e.custom&&!(!1===u&&n.jgrid.isEmpty(t)))return n.isFunction(e.custom_func)?(t=e.custom_func.call(r,t,o),n.isArray(t)?t:[!1,n.jgrid.edit.msg.customarray,""]):[!1,n.jgrid.edit.msg.customfcheck,""]}return[!0,"",""]}})}(jQuery),function(n){var t={};n.jgrid.extend({searchGrid:function(t){return t=n.extend(!0,{recreateFilter:!1,drag:!0,sField:"searchField",sValue:"searchString",sOper:"searchOper",sFilter:"filters",loadDefaults:!0,beforeShowSearch:null,afterShowSearch:null,onInitializeSearch:null,afterRedraw:null,afterChange:null,closeAfterSearch:!1,closeAfterReset:!1,closeOnEscape:!1,searchOnEnter:!1,multipleSearch:!1,multipleGroup:!1,top:0,left:0,jqModal:!0,modal:!1,resize:!0,width:450,height:"auto",dataheight:"auto",showQuery:!1,errorcheck:!0,sopt:null,stringResult:void 0,onClose:null,onSearch:null,onReset:null,toTop:!0,overlay:30,columns:[],tmplNames:null,tmplFilters:null,tmplLabel:" Template: ",showOnLoad:!1,layer:null},n.jgrid.search,t||{}),this.each(function(){function w(f){s=n(i).triggerHandler("jqGridFilterBeforeShow",[f]);void 0===s&&(s=!0);s&&n.isFunction(t.beforeShowSearch)&&(s=t.beforeShowSearch.call(i,f));s&&(n.jgrid.viewModal("#"+n.jgrid.jqID(u.themodal),{gbox:"#gbox_"+n.jgrid.jqID(r),jqm:t.jqModal,modal:t.modal,overlay:t.overlay,toTop:t.toTop}),n(i).triggerHandler("jqGridFilterAfterShow",[f]),n.isFunction(t.afterShowSearch)&&t.afterShowSearch.call(i,f))}var i=this,v;if(i.grid){var r="fbox_"+i.p.id,s=!0,u={themodal:"searchmod"+r,modalhead:"searchhd"+r,modalcontent:"searchcnt"+r,scrollelm:r},e=i.p.postData[t.sFilter];if("string"==typeof e&&(e=n.jgrid.parse(e)),!0===t.recreateFilter&&n("#"+n.jgrid.jqID(u.themodal)).remove(),void 0!==n("#"+n.jgrid.jqID(u.themodal))[0])w(n("#fbox_"+n.jgrid.jqID(+i.p.id)));else{var f=n("<div><div id='"+r+"' class='searchFilter' style='overflow:auto'><\/div><\/div>").insertBefore("#gview_"+n.jgrid.jqID(i.p.id)),a="left",b="";"rtl"==i.p.direction&&(a="right",b=" style='text-align:left'",f.attr("dir","rtl"));var h=n.extend([],i.p.colModel),k="<a href='javascript:void(0)' id='"+r+"_search' class='fm-button ui-state-default ui-corner-all fm-button-icon-right ui-reset'><span class='ui-icon ui-icon-search'><\/span>"+t.Find+"<\/a>",d="<a href='javascript:void(0)' id='"+r+"_reset' class='fm-button ui-state-default ui-corner-all fm-button-icon-left ui-search'><span class='ui-icon ui-icon-arrowreturnthick-1-w'><\/span>"+t.Reset+"<\/a>",y="",o="",p,c=!1,l=-1;t.showQuery&&(y="<a href='javascript:void(0)' id='"+r+"_query' class='fm-button ui-state-default ui-corner-all fm-button-icon-left'><span class='ui-icon ui-icon-comment'><\/span>Query<\/a>");t.columns.length?h=t.columns:n.each(h,function(n,t){if(t.label||(t.label=i.p.colNames[n]),!c){var r=t.search===void 0?!0:t.search,u=t.hidden===!0;(t.searchoptions&&t.searchoptions.searchhidden===!0&&r||r&&!u)&&(c=!0,p=t.index||t.name,l=n)}});(!e&&p||!1===t.multipleSearch)&&(v="eq",0<=l&&h[l].searchoptions&&h[l].searchoptions.sopt?v=h[l].searchoptions.sopt[0]:t.sopt&&t.sopt.length&&(v=t.sopt[0]),e={groupOp:"AND",rules:[{field:p,op:v,data:""}]});c=!1;t.tmplNames&&t.tmplNames.length&&(c=!0,o=t.tmplLabel,o+="<select class='ui-template'>",o+="<option value='default'>Default<\/option>",n.each(t.tmplNames,function(n,t){o=o+("<option value='"+n+"'>"+t+"<\/option>")}),o+="<\/select>");a="<table class='EditTable' style='border:0px none;margin-top:5px' id='"+r+"_2'><tbody><tr><td colspan='2'><hr class='ui-widget-content' style='margin:1px'/><\/td><\/tr><tr><td class='EditButton' style='text-align:"+a+"'>"+d+o+"<\/td><td class='EditButton' "+b+">"+y+k+"<\/td><\/tr><\/tbody><\/table>";r=n.jgrid.jqID(r);n("#"+r).jqFilter({columns:h,filter:t.loadDefaults?e:null,showQuery:t.showQuery,errorcheck:t.errorcheck,sopt:t.sopt,groupButton:t.multipleGroup,ruleButtons:t.multipleSearch,afterRedraw:t.afterRedraw,_gridsopt:n.jgrid.search.odata,ajaxSelectOptions:i.p.ajaxSelectOptions,groupOps:t.groupOps,onChange:function(){this.p.showQuery&&n(".query",this).html(this.toUserFriendlyString());n.isFunction(t.afterChange)&&t.afterChange.call(i,n("#"+r),t)},direction:i.p.direction});f.append(a);c&&t.tmplFilters&&t.tmplFilters.length&&n(".ui-template",f).bind("change",function(){var i=n(this).val();return i=="default"?n("#"+r).jqFilter("addFilter",e):n("#"+r).jqFilter("addFilter",t.tmplFilters[parseInt(i,10)]),!1});!0===t.multipleGroup&&(t.multipleSearch=!0);n(i).triggerHandler("jqGridFilterInitialize",[n("#"+r)]);n.isFunction(t.onInitializeSearch)&&t.onInitializeSearch.call(i,n("#"+r));t.gbox="#gbox_"+r;t.layer?n.jgrid.createModal(u,f,t,"#gview_"+n.jgrid.jqID(i.p.id),n("#gbox_"+n.jgrid.jqID(i.p.id))[0],"#"+n.jgrid.jqID(t.layer),{position:"relative"}):n.jgrid.createModal(u,f,t,"#gview_"+n.jgrid.jqID(i.p.id),n("#gbox_"+n.jgrid.jqID(i.p.id))[0]);(t.searchOnEnter||t.closeOnEscape)&&n("#"+n.jgrid.jqID(u.themodal)).keydown(function(i){var f=n(i.target);return t.searchOnEnter&&i.which===13&&!f.hasClass("add-group")&&!f.hasClass("add-rule")&&!f.hasClass("delete-group")&&!f.hasClass("delete-rule")&&(!f.hasClass("fm-button")||!f.is("[id$=_query]"))?(n("#"+r+"_search").focus().click(),!1):t.closeOnEscape&&i.which===27?(n("#"+n.jgrid.jqID(u.modalhead)).find(".ui-jqdialog-titlebar-close").focus().click(),!1):void 0});y&&n("#"+r+"_query").bind("click",function(){return n(".queryresult",f).toggle(),!1});void 0===t.stringResult&&(t.stringResult=t.multipleSearch);n("#"+r+"_search").bind("click",function(){var o=n("#"+r),f={},s,e=o.jqFilter("filterData");if(t.errorcheck&&(o[0].hideError(),t.showQuery||o.jqFilter("toSQLString"),o[0].p.error))return o[0].showError(),!1;if(t.stringResult){try{s=xmlJsonClass.toJson(e,"","",!1)}catch(h){try{s=JSON.stringify(e)}catch(c){}}typeof s=="string"&&(f[t.sFilter]=s,n.each([t.sField,t.sValue,t.sOper],function(){f[this]=""}))}else t.multipleSearch?(f[t.sFilter]=e,n.each([t.sField,t.sValue,t.sOper],function(){f[this]=""})):(f[t.sField]=e.rules[0].field,f[t.sValue]=e.rules[0].data,f[t.sOper]=e.rules[0].op,f[t.sFilter]="");return i.p.search=!0,n.extend(i.p.postData,f),n(i).triggerHandler("jqGridFilterSearch"),n.isFunction(t.onSearch)&&t.onSearch.call(i),n(i).trigger("reloadGrid",[{page:1}]),t.closeAfterSearch&&n.jgrid.hideModal("#"+n.jgrid.jqID(u.themodal),{gb:"#gbox_"+n.jgrid.jqID(i.p.id),jqm:t.jqModal,onClose:t.onClose}),!1});n("#"+r+"_reset").bind("click",function(){var u={},e=n("#"+r);return i.p.search=!1,t.multipleSearch===!1?u[t.sField]=u[t.sValue]=u[t.sOper]="":u[t.sFilter]="",e[0].resetFilter(),c&&n(".ui-template",f).val("default"),n.extend(i.p.postData,u),n(i).triggerHandler("jqGridFilterReset"),n.isFunction(t.onReset)&&t.onReset.call(i),n(i).trigger("reloadGrid",[{page:1}]),!1});w(n("#"+r));n(".fm-button:not(.ui-state-disabled)",f).hover(function(){n(this).addClass("ui-state-hover")},function(){n(this).removeClass("ui-state-hover")})}}})},editGridRow:function(i,r){return r=n.extend(!0,{top:0,left:0,width:300,datawidth:"auto",height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,url:null,mtype:"POST",clearAfterAdd:!0,closeAfterEdit:!1,reloadAfterSubmit:!0,onInitializeForm:null,beforeInitData:null,beforeShowForm:null,afterShowForm:null,beforeSubmit:null,afterSubmit:null,onclickSubmit:null,afterComplete:null,onclickPgButtons:null,afterclickPgButtons:null,editData:{},recreateForm:!1,jqModal:!0,closeOnEscape:!1,addedrow:"first",topinfo:"",bottominfo:"",saveicon:[],closeicon:[],savekey:[!1,13],navkeys:[!1,38,40],checkOnSubmit:!1,checkOnUpdate:!1,_savedData:{},processing:!1,onClose:null,ajaxEditOptions:{},serializeEditData:null,viewPagerButtons:!0},n.jgrid.edit,r||{}),t[n(this)[0].p.id]=r,this.each(function(){function at(){return n(o+" > tbody > tr > td > .FormElement").each(function(){var i=n(".customelement",this),t,r;if(i.length)t=n(i[0]).attr("name"),n.each(u.p.colModel,function(){if(this.name===t&&this.editoptions&&n.isFunction(this.editoptions.custom_value)){try{if(f[t]=this.editoptions.custom_value.call(u,n("#"+n.jgrid.jqID(t),o),"get"),void 0===f[t])throw"e1";}catch(i){"e1"===i?n.jgrid.info_dialog(n.jgrid.errors.errcap,"function 'custom_value' "+n.jgrid.edit.msg.novalue,n.jgrid.edit.bClose):n.jgrid.info_dialog(n.jgrid.errors.errcap,i.message,n.jgrid.edit.bClose)}return!0}});else{switch(n(this).get(0).type){case"checkbox":n(this).is(":checked")?f[this.name]=n(this).val():(i=n(this).attr("offval"),f[this.name]=i);break;case"select-one":f[this.name]=n("option:selected",this).val();y[this.name]=n("option:selected",this).text();break;case"select-multiple":f[this.name]=n(this).val();f[this.name]=f[this.name]?f[this.name].join(","):"";r=[];n("option:selected",this).each(function(t,i){r[t]=n(i).text()});y[this.name]=r.join(",");break;case"password":case"text":case"textarea":case"button":f[this.name]=n(this).val()}u.p.autoencode&&(f[this.name]=n.jgrid.htmlEncode(f[this.name]))}}),!0}function bt(i,r,f,o){for(var h,k,c,y=0,s,p,l,w=[],a=!1,b="",v=1;v<=o;v++)b+="<td class='CaptionTD'>&#160;<\/td><td class='DataTD'>&#160;<\/td>";return"_empty"!=i&&(a=n(r).jqGrid("getInd",i)),n(r.p.colModel).each(function(v){var tt;if(h=this.name,p=(k=this.editrules&&!0===this.editrules.edithidden?!1:!0===this.hidden?!0:!1)?"style='display:none'":"","cb"!==h&&"subgrid"!==h&&!0===this.editable&&"rn"!==h){if(!1===a)s="";else if(h==r.p.ExpandColumn&&!0===r.p.treeGrid)s=n("td[role='gridcell']:eq("+v+")",r.rows[a]).text();else{try{s=n.unformat.call(r,n("td[role='gridcell']:eq("+v+")",r.rows[a]),{rowId:i,colModel:this},v)}catch(rt){s=this.edittype&&"textarea"==this.edittype?n("td[role='gridcell']:eq("+v+")",r.rows[a]).text():n("td[role='gridcell']:eq("+v+")",r.rows[a]).html()}s&&"&nbsp;"!=s&&"&#160;"!=s&&(1!=s.length||160!=s.charCodeAt(0))||(s="")}var d=n.extend({},this.editoptions||{},{id:h,name:h}),g=n.extend({},{elmprefix:"",elmsuffix:"",rowabove:!1,rowcontent:""},this.formoptions||{}),nt=parseInt(g.rowpos,10)||y+1,it=parseInt(2*(parseInt(g.colpos,10)||1),10);"_empty"==i&&d.defaultValue&&(s=n.isFunction(d.defaultValue)?d.defaultValue.call(u):d.defaultValue);this.edittype||(this.edittype="text");u.p.autoencode&&(s=n.jgrid.htmlDecode(s));l=n.jgrid.createEl.call(u,this.edittype,d,s,!1,n.extend({},n.jgrid.ajaxOptions,r.p.ajaxSelectOptions||{}));""===s&&"checkbox"==this.edittype&&(s=n(l).attr("offval"));""===s&&"select"==this.edittype&&(s=n("option:eq(0)",l).text());(t[u.p.id].checkOnSubmit||t[u.p.id].checkOnUpdate)&&(t[u.p.id]._savedData[h]=s);n(l).addClass("FormElement");-1<n.inArray(this.edittype,["text","textarea","password","select"])&&n(l).addClass("ui-widget-content ui-corner-all");c=n(f).find("tr[rowpos="+nt+"]");g.rowabove&&(tt=n("<tr><td class='contentinfo' colspan='"+2*o+"'>"+g.rowcontent+"<\/td><\/tr>"),n(f).append(tt),tt[0].rp=nt);0===c.length&&(c=n("<tr "+p+" rowpos='"+nt+"'><\/tr>").addClass("FormData").attr("id","tr_"+h),n(c).append(b),n(f).append(c),c[0].rp=nt);n("td:eq("+(it-2)+")",c[0]).html(void 0===g.label?r.p.colNames[v]:g.label);n("td:eq("+(it-1)+")",c[0]).append(g.elmprefix).append(l).append(g.elmsuffix);n.isFunction(d.custom_value)&&"_empty"!==i&&d.custom_value.call(u,n("#"+h,"#"+e),"set",s);n.jgrid.bindEv(l,d,u);w[y]=v;y++}}),0<y&&(v=n("<tr class='FormData' style='display:none'><td class='CaptionTD'><\/td><td colspan='"+(2*o-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='"+r.p.id+"_id' value='"+i+"'/><\/td><\/tr>"),v[0].rp=y+999,n(f).append(v),t[u.p.id].checkOnSubmit||t[u.p.id].checkOnUpdate)&&(t[u.p.id]._savedData[r.p.id+"_id"]=i),w}function g(i,r,f){var e,p=0,s,h,a,l,v,c,y;(t[u.p.id].checkOnSubmit||t[u.p.id].checkOnUpdate)&&(t[u.p.id]._savedData={},t[u.p.id]._savedData[r.p.id+"_id"]=i);c=r.p.colModel;"_empty"==i?(n(c).each(function(){e=this.name;a=n.extend({},this.editoptions||{});(h=n("#"+n.jgrid.jqID(e),"#"+f))&&h.length&&null!==h[0]&&(l="",a.defaultValue?(l=n.isFunction(a.defaultValue)?a.defaultValue.call(u):a.defaultValue,"checkbox"==h[0].type?(v=l.toLowerCase(),0>v.search(/(false|0|no|off|undefined)/i)&&""!==v?(h[0].checked=!0,h[0].defaultChecked=!0,h[0].value=l):(h[0].checked=!1,h[0].defaultChecked=!1)):h.val(l)):"checkbox"==h[0].type?(h[0].checked=!1,h[0].defaultChecked=!1,l=n(h).attr("offval")):h[0].type&&"select"==h[0].type.substr(0,6)?h[0].selectedIndex=0:h.val(l),!0===t[u.p.id].checkOnSubmit||t[u.p.id].checkOnUpdate)&&(t[u.p.id]._savedData[e]=l)}),n("#id_g","#"+f).val(i)):(y=n(r).jqGrid("getInd",i,!0),y&&(n('td[role="gridcell"]',y).each(function(o){if(e=c[o].name,"cb"!==e&&"subgrid"!==e&&"rn"!==e&&!0===c[o].editable){if(e==r.p.ExpandColumn&&!0===r.p.treeGrid)s=n(this).text();else try{s=n.unformat.call(r,n(this),{rowId:i,colModel:c[o]},o)}catch(a){s="textarea"==c[o].edittype?n(this).text():n(this).html()}u.p.autoencode&&(s=n.jgrid.htmlDecode(s));(!0===t[u.p.id].checkOnSubmit||t[u.p.id].checkOnUpdate)&&(t[u.p.id]._savedData[e]=s);e=n.jgrid.jqID(e);switch(c[o].edittype){case"password":case"text":case"button":case"image":case"textarea":("&nbsp;"==s||"&#160;"==s||1==s.length&&160==s.charCodeAt(0))&&(s="");n("#"+e,"#"+f).val(s);break;case"select":var h=s.split(","),h=n.map(h,function(t){return n.trim(t)});n("#"+e+" option","#"+f).each(function(){this.selected=!c[o].editoptions.multiple&&(n.trim(s)==n.trim(n(this).text())||h[0]==n.trim(n(this).text())||h[0]==n.trim(n(this).val()))?!0:c[o].editoptions.multiple?-1<n.inArray(n.trim(n(this).text()),h)||-1<n.inArray(n.trim(n(this).val()),h)?!0:!1:!1});break;case"checkbox":s=""+s;c[o].editoptions&&c[o].editoptions.value?c[o].editoptions.value.split(":")[0]==s?(n("#"+e,"#"+f)[u.p.useProp?"prop":"attr"]("checked",!0),n("#"+e,"#"+f)[u.p.useProp?"prop":"attr"]("defaultChecked",!0)):(n("#"+e,"#"+f)[u.p.useProp?"prop":"attr"]("checked",!1),n("#"+e,"#"+f)[u.p.useProp?"prop":"attr"]("defaultChecked",!1)):(s=s.toLowerCase(),0>s.search(/(false|0|no|off|undefined)/i)&&""!==s?(n("#"+e,"#"+f)[u.p.useProp?"prop":"attr"]("checked",!0),n("#"+e,"#"+f)[u.p.useProp?"prop":"attr"]("defaultChecked",!0)):(n("#"+e,"#"+f)[u.p.useProp?"prop":"attr"]("checked",!1),n("#"+e,"#"+f)[u.p.useProp?"prop":"attr"]("defaultChecked",!1)));break;case"custom":try{if(c[o].editoptions&&n.isFunction(c[o].editoptions.custom_value))c[o].editoptions.custom_value.call(u,n("#"+e,"#"+f),"set",s);else throw"e1";}catch(l){"e1"==l?n.jgrid.info_dialog(n.jgrid.errors.errcap,"function 'custom_value' "+n.jgrid.edit.msg.nodefined,n.jgrid.edit.bClose):n.jgrid.info_dialog(n.jgrid.errors.errcap,l.message,n.jgrid.edit.bClose)}}p++}}),0<p&&n("#id_g",o).val(i)))}function kt(){n.each(u.p.colModel,function(n,t){t.editoptions&&!0===t.editoptions.NullIfEmpty&&f.hasOwnProperty(t.name)&&""===f[t.name]&&(f[t.name]="null")})}function nt(){var d,i=[!0,"",""],c={},a=u.p.prmNames,v,w,nt,k,p,b=n(u).triggerHandler("jqGridAddEditBeforeCheckValues",[n("#"+e),l]);b&&"object"==typeof b&&(f=b);n.isFunction(t[u.p.id].beforeCheckValues)&&(b=t[u.p.id].beforeCheckValues.call(u,f,n("#"+e),"_empty"==f[u.p.id+"_id"]?a.addoper:a.editoper))&&"object"==typeof b&&(f=b);for(nt in f)if(f.hasOwnProperty(nt)&&(i=n.jgrid.checkValues.call(u,f[nt],nt,u),!1===i[0]))break;if(kt(),i[0]&&(c=n(u).triggerHandler("jqGridAddEditClickSubmit",[t[u.p.id],f,l]),void 0===c&&n.isFunction(t[u.p.id].onclickSubmit)&&(c=t[u.p.id].onclickSubmit.call(u,t[u.p.id],f)||{}),i=n(u).triggerHandler("jqGridAddEditBeforeSubmit",[f,n("#"+e),l]),void 0===i&&(i=[!0,"",""]),i[0]&&n.isFunction(t[u.p.id].beforeSubmit)&&(i=t[u.p.id].beforeSubmit.call(u,f,n("#"+e)))),i[0]&&!t[u.p.id].processing){if(t[u.p.id].processing=!0,n("#sData",o+"_2").addClass("ui-state-active"),w=a.oper,v=a.id,f[w]="_empty"==n.trim(f[u.p.id+"_id"])?a.addoper:a.editoper,f[w]!=a.addoper?f[v]=f[u.p.id+"_id"]:void 0===f[v]&&(f[v]=f[u.p.id+"_id"]),delete f[u.p.id+"_id"],f=n.extend(f,t[u.p.id].editData,c),!0===u.p.treeGrid)for(p in f[w]==a.addoper&&(k=n(u).jqGrid("getGridParam","selrow"),f["adjacency"==u.p.treeGridModel?u.p.treeReader.parent_id_field:"parent_id"]=k),u.p.treeReader)u.p.treeReader.hasOwnProperty(p)&&(c=u.p.treeReader[p],f.hasOwnProperty(c)&&!(f[w]==a.addoper&&"parent_id_field"===p)&&delete f[c]);f[v]=n.jgrid.stripPref(u.p.idPrefix,f[v]);p=n.extend({url:t[u.p.id].url||n(u).jqGrid("getGridParam","editurl"),type:t[u.p.id].mtype,data:n.isFunction(t[u.p.id].serializeEditData)?t[u.p.id].serializeEditData.call(u,f):f,complete:function(c,p){var b;if(f[v]=u.p.idPrefix+f[v],p!="success"?(i[0]=!1,i[1]=n(u).triggerHandler("jqGridAddEditErrorTextFormat",[c,l]),i[1]=n.isFunction(t[u.p.id].errorTextFormat)?t[u.p.id].errorTextFormat.call(u,c):p+" Status: '"+c.statusText+"'. Error code: "+c.status):(i=n(u).triggerHandler("jqGridAddEditAfterSubmit",[c,f,l]),i===void 0&&(i=[!0,"",""]),i[0]&&n.isFunction(t[u.p.id].afterSubmit)&&(i=t[u.p.id].afterSubmit.call(u,c,f))),i[0]===!1)n("#FormError>td",o).html(i[1]),n("#FormError",o).show();else if(n.each(u.p.colModel,function(){if(y[this.name]&&this.formatter&&this.formatter=="select")try{delete y[this.name]}catch(n){}}),f=n.extend(f,y),u.p.autoencode&&n.each(f,function(t,i){f[t]=n.jgrid.htmlDecode(i)}),f[w]==a.addoper?(i[2]||(i[2]=n.jgrid.randId()),f[v]=i[2],t[u.p.id].closeAfterAdd?(t[u.p.id].reloadAfterSubmit?n(u).trigger("reloadGrid"):u.p.treeGrid===!0?n(u).jqGrid("addChildNode",i[2],k,f):(n(u).jqGrid("addRowData",i[2],f,r.addedrow),n(u).jqGrid("setSelection",i[2])),n.jgrid.hideModal("#"+n.jgrid.jqID(s.themodal),{gb:"#gbox_"+n.jgrid.jqID(h),jqm:r.jqModal,onClose:t[u.p.id].onClose})):t[u.p.id].clearAfterAdd?(t[u.p.id].reloadAfterSubmit?n(u).trigger("reloadGrid"):u.p.treeGrid===!0?n(u).jqGrid("addChildNode",i[2],k,f):n(u).jqGrid("addRowData",i[2],f,r.addedrow),g("_empty",u,e)):t[u.p.id].reloadAfterSubmit?n(u).trigger("reloadGrid"):u.p.treeGrid===!0?n(u).jqGrid("addChildNode",i[2],k,f):n(u).jqGrid("addRowData",i[2],f,r.addedrow)):(t[u.p.id].reloadAfterSubmit?(n(u).trigger("reloadGrid"),t[u.p.id].closeAfterEdit||setTimeout(function(){n(u).jqGrid("setSelection",f[v])},1e3)):u.p.treeGrid===!0?n(u).jqGrid("setTreeRow",f[v],f):n(u).jqGrid("setRowData",f[v],f),t[u.p.id].closeAfterEdit&&n.jgrid.hideModal("#"+n.jgrid.jqID(s.themodal),{gb:"#gbox_"+n.jgrid.jqID(h),jqm:r.jqModal,onClose:t[u.p.id].onClose})),n.isFunction(t[u.p.id].afterComplete)&&(d=c,setTimeout(function(){n(u).triggerHandler("jqGridAddEditAfterComplete",[d,f,n("#"+e),l]);t[u.p.id].afterComplete.call(u,d,f,n("#"+e));d=null},500)),(t[u.p.id].checkOnSubmit||t[u.p.id].checkOnUpdate)&&(n("#"+e).data("disabled",!1),t[u.p.id]._savedData[u.p.id+"_id"]!="_empty"))for(b in t[u.p.id]._savedData)t[u.p.id]._savedData.hasOwnProperty(b)&&f[b]&&(t[u.p.id]._savedData[b]=f[b]);t[u.p.id].processing=!1;n("#sData",o+"_2").removeClass("ui-state-active");try{n(":input:visible","#"+e)[0].focus()}catch(nt){}}},n.jgrid.ajaxOptions,t[u.p.id].ajaxEditOptions);p.url||t[u.p.id].useDataProxy||(n.isFunction(u.p.dataProxy)?t[u.p.id].useDataProxy=!0:(i[0]=!1,i[1]+=" "+n.jgrid.errors.nourl));i[0]&&(t[u.p.id].useDataProxy?(c=u.p.dataProxy.call(u,p,"set_"+u.p.id),void 0===c&&(c=[!0,""]),!1===c[0]?(i[0]=!1,i[1]=c[1]||"Error deleting the selected row!"):(p.data.oper==a.addoper&&t[u.p.id].closeAfterAdd&&n.jgrid.hideModal("#"+n.jgrid.jqID(s.themodal),{gb:"#gbox_"+n.jgrid.jqID(h),jqm:r.jqModal,onClose:t[u.p.id].onClose}),p.data.oper==a.editoper&&t[u.p.id].closeAfterEdit&&n.jgrid.hideModal("#"+n.jgrid.jqID(s.themodal),{gb:"#gbox_"+n.jgrid.jqID(h),jqm:r.jqModal,onClose:t[u.p.id].onClose}))):n.ajax(p))}!1===i[0]&&(n("#FormError>td",o).html(i[1]),n("#FormError",o).show())}function vt(n,t){var r=!1;for(var i in n)if(n.hasOwnProperty(i)&&n[i]!=t[i]){r=!0;break}return r}function p(){var i=!0;return n("#FormError",o).hide(),t[u.p.id].checkOnUpdate&&(f={},y={},at(),it=n.extend({},f,y),wt=vt(it,t[u.p.id]._savedData))&&(n("#"+e).data("disabled",!0),n(".confirm","#"+s.themodal).show(),i=!1),i}function yt(){var t;if("_empty"!==i&&void 0!==u.p.savedRow&&0<u.p.savedRow.length&&n.isFunction(n.fn.jqGrid.restoreRow))for(t=0;t<u.p.savedRow.length;t++)if(u.p.savedRow[t].id==i){n(u).jqGrid("restoreRow",i);break}}function ft(t,i){var r=i[1].length-1;0===t?n("#pData",o+"_2").addClass("ui-state-disabled"):void 0!==i[1][t-1]&&n("#"+n.jgrid.jqID(i[1][t-1])).hasClass("ui-state-disabled")?n("#pData",o+"_2").addClass("ui-state-disabled"):n("#pData",o+"_2").removeClass("ui-state-disabled");t==r?n("#nData",o+"_2").addClass("ui-state-disabled"):void 0!==i[1][t+1]&&n("#"+n.jgrid.jqID(i[1][t+1])).hasClass("ui-state-disabled")?n("#nData",o+"_2").addClass("ui-state-disabled"):n("#nData",o+"_2").removeClass("ui-state-disabled")}function et(){var t=n(u).jqGrid("getDataIDs"),i=n("#id_g",o).val();return[n.inArray(i,t),t]}var u=this,rt,c,k,ut,lt;if(u.grid&&i){var h=u.p.id,e="FrmGrid_"+h,v="TblGrid_"+h,o="#"+n.jgrid.jqID(v),s={themodal:"editmod"+h,modalhead:"edithd"+h,modalcontent:"editcnt"+h,scrollelm:e},w=n.isFunction(t[u.p.id].beforeShowForm)?t[u.p.id].beforeShowForm:!1,tt=n.isFunction(t[u.p.id].afterShowForm)?t[u.p.id].afterShowForm:!1,a=n.isFunction(t[u.p.id].beforeInitData)?t[u.p.id].beforeInitData:!1,pt=n.isFunction(t[u.p.id].onInitializeForm)?t[u.p.id].onInitializeForm:!1,c=!0,d=1,ot=0,f,y,it,wt,l,e=n.jgrid.jqID(e);if("new"===i?(i="_empty",l="add",r.caption=t[u.p.id].addCaption):(r.caption=t[u.p.id].editCaption,l="edit"),!0===r.recreateForm&&void 0!==n("#"+n.jgrid.jqID(s.themodal))[0]&&n("#"+n.jgrid.jqID(s.themodal)).remove(),rt=!0,r.checkOnUpdate&&r.jqModal&&!r.modal&&(rt=!1),void 0!==n("#"+n.jgrid.jqID(s.themodal))[0]){if(c=n(u).triggerHandler("jqGridAddEditBeforeInitData",[n("#"+n.jgrid.jqID(e)),l]),void 0===c&&(c=!0),c&&a&&(c=a.call(u,n("#"+e))),!1===c)return;yt();n(".ui-jqdialog-title","#"+n.jgrid.jqID(s.modalhead)).html(r.caption);n("#FormError",o).hide();t[u.p.id].topinfo?(n(".topinfo",o).html(t[u.p.id].topinfo),n(".tinfo",o).show()):n(".tinfo",o).hide();t[u.p.id].bottominfo?(n(".bottominfo",o+"_2").html(t[u.p.id].bottominfo),n(".binfo",o+"_2").show()):n(".binfo",o+"_2").hide();g(i,u,e);"_empty"==i||!t[u.p.id].viewPagerButtons?n("#pData, #nData",o+"_2").hide():n("#pData, #nData",o+"_2").show();!0===t[u.p.id].processing&&(t[u.p.id].processing=!1,n("#sData",o+"_2").removeClass("ui-state-active"));!0===n("#"+e).data("disabled")&&(n(".confirm","#"+n.jgrid.jqID(s.themodal)).hide(),n("#"+e).data("disabled",!1));n(u).triggerHandler("jqGridAddEditBeforeShowForm",[n("#"+e),l]);w&&w.call(u,n("#"+e));n("#"+n.jgrid.jqID(s.themodal)).data("onClose",t[u.p.id].onClose);n.jgrid.viewModal("#"+n.jgrid.jqID(s.themodal),{gbox:"#gbox_"+n.jgrid.jqID(h),jqm:r.jqModal,jqM:!1,overlay:r.overlay,modal:r.modal});rt||n(".jqmOverlay").click(function(){return p()?(n.jgrid.hideModal("#"+n.jgrid.jqID(s.themodal),{gb:"#gbox_"+n.jgrid.jqID(h),jqm:r.jqModal,onClose:t[u.p.id].onClose}),!1):!1});n(u).triggerHandler("jqGridAddEditAfterShowForm",[n("#"+e),l]);tt&&tt.call(u,n("#"+e))}else{var st=isNaN(r.dataheight)?r.dataheight:r.dataheight+"px",c=isNaN(r.datawidth)?r.datawidth:r.datawidth+"px",st=n("<form name='FormPost' id='"+e+"' class='FormGrid' onSubmit='return false;' style='width:"+c+";overflow:auto;position:relative;height:"+st+";'><\/form>").data("disabled",!1),b=n("<table id='"+v+"' class='EditTable' cellspacing='0' cellpadding='0' border='0'><tbody><\/tbody><\/table>"),c=n(u).triggerHandler("jqGridAddEditBeforeInitData",[n("#"+e),l]);if(void 0===c&&(c=!0),c&&a&&(c=a.call(u,n("#"+e))),!1===c)return;yt();n(u.p.colModel).each(function(){var n=this.formoptions;d=Math.max(d,n?n.colpos||0:0);ot=Math.max(ot,n?n.rowpos||0:0)});n(st).append(b);a=n("<tr id='FormError' style='display:none'><td class='ui-state-error' colspan='"+2*d+"'><\/td><\/tr>");a[0].rp=0;n(b).append(a);a=n("<tr style='display:none' class='tinfo'><td class='topinfo' colspan='"+2*d+"'>"+t[u.p.id].topinfo+"<\/td><\/tr>");a[0].rp=0;n(b).append(a);c=(a="rtl"==u.p.direction?!0:!1)?"nData":"pData";k=a?"pData":"nData";bt(i,u,b,d);var c="<a href='javascript:void(0)' id='"+c+"' class='fm-button ui-state-default ui-corner-left'><span class='ui-icon ui-icon-triangle-1-w'><\/span><\/a>",k="<a href='javascript:void(0)' id='"+k+"' class='fm-button ui-state-default ui-corner-right'><span class='ui-icon ui-icon-triangle-1-e'><\/span><\/a>",ht="<a href='javascript:void(0)' id='sData' class='fm-button ui-state-default ui-corner-all'>"+r.bSubmit+"<\/a>",ct="<a href='javascript:void(0)' id='cData' class='fm-button ui-state-default ui-corner-all'>"+r.bCancel+"<\/a>",v="<table border='0' cellspacing='0' cellpadding='0' class='EditTable' id='"+v+"_2'><tbody><tr><td colspan='2'><hr class='ui-widget-content' style='margin:1px'/><\/td><\/tr><tr id='Act_Buttons'><td class='navButton'>"+(a?k+c:c+k)+"<\/td><td class='EditButton'>"+ht+ct+"<\/td><\/tr>"+("<tr style='display:none' class='binfo'><td class='bottominfo' colspan='2'>"+t[u.p.id].bottominfo+"<\/td><\/tr>"),v=v+"<\/tbody><\/table>";0<ot&&(ut=[],n.each(n(b)[0].rows,function(n,t){ut[n]=t}),ut.sort(function(n,t){return n.rp>t.rp?1:n.rp<t.rp?-1:0}),n.each(ut,function(t,i){n("tbody",b).append(i)}));r.gbox="#gbox_"+n.jgrid.jqID(h);lt=!1;!0===r.closeOnEscape&&(r.closeOnEscape=!1,lt=!0);v=n("<div><\/div>").append(st).append(v);n.jgrid.createModal(s,v,r,"#gview_"+n.jgrid.jqID(u.p.id),n("#gbox_"+n.jgrid.jqID(u.p.id))[0]);a&&(n("#pData, #nData",o+"_2").css("float","right"),n(".EditButton",o+"_2").css("text-align","left"));t[u.p.id].topinfo&&n(".tinfo",o).show();t[u.p.id].bottominfo&&n(".binfo",o+"_2").show();v=v=null;n("#"+n.jgrid.jqID(s.themodal)).keydown(function(i){var f=i.target;if(n("#"+e).data("disabled")===!0)return!1;if(t[u.p.id].savekey[0]===!0&&i.which==t[u.p.id].savekey[1]&&f.tagName!="TEXTAREA")return n("#sData",o+"_2").trigger("click"),!1;if(i.which===27)return p()?(lt&&n.jgrid.hideModal("#"+n.jgrid.jqID(s.themodal),{gb:r.gbox,jqm:r.jqModal,onClose:t[u.p.id].onClose}),!1):!1;if(t[u.p.id].navkeys[0]===!0){if(n("#id_g",o).val()=="_empty")return!0;if(i.which==t[u.p.id].navkeys[1])return n("#pData",o+"_2").trigger("click"),!1;if(i.which==t[u.p.id].navkeys[2])return n("#nData",o+"_2").trigger("click"),!1}});r.checkOnUpdate&&(n("a.ui-jqdialog-titlebar-close span","#"+n.jgrid.jqID(s.themodal)).removeClass("jqmClose"),n("a.ui-jqdialog-titlebar-close","#"+n.jgrid.jqID(s.themodal)).unbind("click").click(function(){return p()?(n.jgrid.hideModal("#"+n.jgrid.jqID(s.themodal),{gb:"#gbox_"+n.jgrid.jqID(h),jqm:r.jqModal,onClose:t[u.p.id].onClose}),!1):!1}));r.saveicon=n.extend([!0,"left","ui-icon-disk"],r.saveicon);r.closeicon=n.extend([!0,"left","ui-icon-close"],r.closeicon);!0===r.saveicon[0]&&n("#sData",o+"_2").addClass("right"==r.saveicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+r.saveicon[2]+"'><\/span>");!0===r.closeicon[0]&&n("#cData",o+"_2").addClass("right"==r.closeicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+r.closeicon[2]+"'><\/span>");(t[u.p.id].checkOnSubmit||t[u.p.id].checkOnUpdate)&&(ht="<a href='javascript:void(0)' id='sNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+r.bYes+"<\/a>",k="<a href='javascript:void(0)' id='nNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+r.bNo+"<\/a>",ct="<a href='javascript:void(0)' id='cNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+r.bExit+"<\/a>",v=r.zIndex||999,v++,n("<div class='ui-widget-overlay jqgrid-overlay confirm' style='z-index:"+v+";display:none;'>&#160;<\/div><div class='confirm ui-widget-content ui-jqconfirm' style='z-index:"+(v+1)+"'>"+r.saveData+"<br/><br/>"+ht+k+ct+"<\/div>").insertAfter("#"+e),n("#sNew","#"+n.jgrid.jqID(s.themodal)).click(function(){return nt(),n("#"+e).data("disabled",!1),n(".confirm","#"+n.jgrid.jqID(s.themodal)).hide(),!1}),n("#nNew","#"+n.jgrid.jqID(s.themodal)).click(function(){return n(".confirm","#"+n.jgrid.jqID(s.themodal)).hide(),n("#"+e).data("disabled",!1),setTimeout(function(){n(":input","#"+e)[0].focus()},0),!1}),n("#cNew","#"+n.jgrid.jqID(s.themodal)).click(function(){return n(".confirm","#"+n.jgrid.jqID(s.themodal)).hide(),n("#"+e).data("disabled",!1),n.jgrid.hideModal("#"+n.jgrid.jqID(s.themodal),{gb:"#gbox_"+n.jgrid.jqID(h),jqm:r.jqModal,onClose:t[u.p.id].onClose}),!1}));n(u).triggerHandler("jqGridAddEditInitializeForm",[n("#"+e),l]);pt&&pt.call(u,n("#"+e));"_empty"==i||!t[u.p.id].viewPagerButtons?n("#pData,#nData",o+"_2").hide():n("#pData,#nData",o+"_2").show();n(u).triggerHandler("jqGridAddEditBeforeShowForm",[n("#"+e),l]);w&&w.call(u,n("#"+e));n("#"+n.jgrid.jqID(s.themodal)).data("onClose",t[u.p.id].onClose);n.jgrid.viewModal("#"+n.jgrid.jqID(s.themodal),{gbox:"#gbox_"+n.jgrid.jqID(h),jqm:r.jqModal,overlay:r.overlay,modal:r.modal});rt||n(".jqmOverlay").click(function(){return p()?(n.jgrid.hideModal("#"+n.jgrid.jqID(s.themodal),{gb:"#gbox_"+n.jgrid.jqID(h),jqm:r.jqModal,onClose:t[u.p.id].onClose}),!1):!1});n(u).triggerHandler("jqGridAddEditAfterShowForm",[n("#"+e),l]);tt&&tt.call(u,n("#"+e));n(".fm-button","#"+n.jgrid.jqID(s.themodal)).hover(function(){n(this).addClass("ui-state-hover")},function(){n(this).removeClass("ui-state-hover")});n("#sData",o+"_2").click(function(){return f={},y={},n("#FormError",o).hide(),at(),f[u.p.id+"_id"]=="_empty"?nt():r.checkOnSubmit===!0?(it=n.extend({},f,y),(wt=vt(it,t[u.p.id]._savedData))?(n("#"+e).data("disabled",!0),n(".confirm","#"+n.jgrid.jqID(s.themodal)).show()):nt()):nt(),!1});n("#cData",o+"_2").click(function(){return p()?(n.jgrid.hideModal("#"+n.jgrid.jqID(s.themodal),{gb:"#gbox_"+n.jgrid.jqID(h),jqm:r.jqModal,onClose:t[u.p.id].onClose}),!1):!1});n("#nData",o+"_2").click(function(){var t,i;if(!p())return!1;if(n("#FormError",o).hide(),t=et(),t[0]=parseInt(t[0],10),t[0]!=-1&&t[1][t[0]+1]){if((n(u).triggerHandler("jqGridAddEditClickPgButtons",["next",n("#"+e),t[1][t[0]]]),n.isFunction(r.onclickPgButtons)&&(i=r.onclickPgButtons.call(u,"next",n("#"+e),t[1][t[0]]),i!==void 0&&i===!1))||n("#"+n.jgrid.jqID(t[1][t[0]+1])).hasClass("ui-state-disabled"))return!1;g(t[1][t[0]+1],u,e);n(u).jqGrid("setSelection",t[1][t[0]+1]);n(u).triggerHandler("jqGridAddEditAfterClickPgButtons",["next",n("#"+e),t[1][t[0]]]);n.isFunction(r.afterclickPgButtons)&&r.afterclickPgButtons.call(u,"next",n("#"+e),t[1][t[0]+1]);ft(t[0]+1,t)}return!1});n("#pData",o+"_2").click(function(){var t,i;if(!p())return!1;if(n("#FormError",o).hide(),t=et(),t[0]!=-1&&t[1][t[0]-1]){if((n(u).triggerHandler("jqGridAddEditClickPgButtons",["prev",n("#"+e),t[1][t[0]]]),n.isFunction(r.onclickPgButtons)&&(i=r.onclickPgButtons.call(u,"prev",n("#"+e),t[1][t[0]]),i!==void 0&&i===!1))||n("#"+n.jgrid.jqID(t[1][t[0]-1])).hasClass("ui-state-disabled"))return!1;g(t[1][t[0]-1],u,e);n(u).jqGrid("setSelection",t[1][t[0]-1]);n(u).triggerHandler("jqGridAddEditAfterClickPgButtons",["prev",n("#"+e),t[1][t[0]]]);n.isFunction(r.afterclickPgButtons)&&r.afterclickPgButtons.call(u,"prev",n("#"+e),t[1][t[0]-1]);ft(t[0]-1,t)}return!1})}w=et();ft(w[0],w)}})},viewGridRow:function(i,r){return r=n.extend(!0,{top:0,left:0,width:0,datawidth:"auto",height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,jqModal:!0,closeOnEscape:!1,labelswidth:"30%",closeicon:[],navkeys:[!1,38,40],onClose:null,beforeShowForm:null,beforeInitData:null,viewPagerButtons:!0},n.jgrid.view,r||{}),t[n(this)[0].p.id]=r,this.each(function(){function v(){(!0===t[u.p.id].closeOnEscape||!0===t[u.p.id].navkeys[0])&&setTimeout(function(){n(".ui-jqdialog-titlebar-close","#"+n.jgrid.jqID(c.modalhead)).focus()},0)}function tt(t,i,u,f){for(var o,v,e,s=0,w,b,k=[],h=!1,nt="<td class='CaptionTD form-view-label ui-widget-content' width='"+r.labelswidth+"'>&#160;<\/td><td class='DataTD form-view-data ui-helper-reset ui-widget-content'>&#160;<\/td>",d="",tt=["integer","number","currency"],l=0,a=0,y,p,g,c=1;c<=f;c++)d+=1==c?nt:"<td class='CaptionTD form-view-label ui-widget-content'>&#160;<\/td><td class='DataTD form-view-data ui-widget-content'>&#160;<\/td>";return n(i.p.colModel).each(function(){v=this.editrules&&!0===this.editrules.edithidden?!1:!0===this.hidden?!0:!1;v||"right"!==this.align||(this.formatter&&-1!==n.inArray(this.formatter,tt)?l=Math.max(l,parseInt(this.width,10)):a=Math.max(a,parseInt(this.width,10)))}),y=0!==l?l:0!==a?a:0,h=n(i).jqGrid("getInd",t),n(i.p.colModel).each(function(t){var a;if(o=this.name,p=!1,b=(v=this.editrules&&!0===this.editrules.edithidden?!1:!0===this.hidden?!0:!1)?"style='display:none'":"",g="boolean"!=typeof this.viewable?!0:this.viewable,"cb"!==o&&"subgrid"!==o&&"rn"!==o&&g){w=!1===h?"":o==i.p.ExpandColumn&&!0===i.p.treeGrid?n("td:eq("+t+")",i.rows[h]).text():n("td:eq("+t+")",i.rows[h]).html();p="right"===this.align&&0!==y?!0:!1;var r=n.extend({},{rowabove:!1,rowcontent:""},this.formoptions||{}),c=parseInt(r.rowpos,10)||s+1,l=parseInt(2*(parseInt(r.colpos,10)||1),10);r.rowabove&&(a=n("<tr><td class='contentinfo' colspan='"+2*f+"'>"+r.rowcontent+"<\/td><\/tr>"),n(u).append(a),a[0].rp=c);e=n(u).find("tr[rowpos="+c+"]");0===e.length&&(e=n("<tr "+b+" rowpos='"+c+"'><\/tr>").addClass("FormData").attr("id","trv_"+o),n(e).append(d),n(u).append(e),e[0].rp=c);n("td:eq("+(l-2)+")",e[0]).html("<b>"+(void 0===r.label?i.p.colNames[t]:r.label)+"<\/b>");n("td:eq("+(l-1)+")",e[0]).append("<span>"+w+"<\/span>").attr("id","v_"+o);p&&n("td:eq("+(l-1)+") span",e[0]).css({"text-align":"right",width:y+"px"});k[s]=t;s++}}),0<s&&(t=n("<tr class='FormData' style='display:none'><td class='CaptionTD'><\/td><td colspan='"+(2*f-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='id' value='"+t+"'/><\/td><\/tr>"),t[0].rp=s+99,n(u).append(t)),k}function w(t,i){var r,u,e=0,o,s;(s=n(i).jqGrid("getInd",t,!0))&&(n("td",s).each(function(t){r=i.p.colModel[t].name;u=i.p.colModel[t].editrules&&!0===i.p.colModel[t].editrules.edithidden?!1:!0===i.p.colModel[t].hidden?!0:!1;"cb"!==r&&"subgrid"!==r&&"rn"!==r&&(o=r==i.p.ExpandColumn&&!0===i.p.treeGrid?n(this).text():n(this).html(),n.extend({},i.p.colModel[t].editoptions||{}),r=n.jgrid.jqID("v_"+r),n("#"+r+" span","#"+f).html(o),u&&n("#"+r,"#"+f).parents("tr:first").hide(),e++)}),0<e&&n("#id_g","#"+f).val(t))}function b(t,i){var r=i[1].length-1;0===t?n("#pData","#"+f+"_2").addClass("ui-state-disabled"):void 0!==i[1][t-1]&&n("#"+n.jgrid.jqID(i[1][t-1])).hasClass("ui-state-disabled")?n("#pData",f+"_2").addClass("ui-state-disabled"):n("#pData","#"+f+"_2").removeClass("ui-state-disabled");t==r?n("#nData","#"+f+"_2").addClass("ui-state-disabled"):void 0!==i[1][t+1]&&n("#"+n.jgrid.jqID(i[1][t+1])).hasClass("ui-state-disabled")?n("#nData",f+"_2").addClass("ui-state-disabled"):n("#nData","#"+f+"_2").removeClass("ui-state-disabled")}function k(){var t=n(u).jqGrid("getDataIDs"),i=n("#id_g","#"+f).val();return[n.inArray(i,t),t]}var u=this,p;if(u.grid&&i){var e=u.p.id,s="ViewGrid_"+n.jgrid.jqID(e),f="ViewTbl_"+n.jgrid.jqID(e),h="ViewGrid_"+e,a="ViewTbl_"+e,c={themodal:"viewmod"+e,modalhead:"viewhd"+e,modalcontent:"viewcnt"+e,scrollelm:s},l=n.isFunction(t[u.p.id].beforeInitData)?t[u.p.id].beforeInitData:!1,o=!0,d=1,g=0;if(void 0!==n("#"+n.jgrid.jqID(c.themodal))[0]){if(l&&(o=l.call(u,n("#"+s)),void 0===o&&(o=!0)),!1===o)return;n(".ui-jqdialog-title","#"+n.jgrid.jqID(c.modalhead)).html(r.caption);n("#FormError","#"+f).hide();w(i,u);n.isFunction(t[u.p.id].beforeShowForm)&&t[u.p.id].beforeShowForm.call(u,n("#"+s));n.jgrid.viewModal("#"+n.jgrid.jqID(c.themodal),{gbox:"#gbox_"+n.jgrid.jqID(e),jqm:r.jqModal,jqM:!1,overlay:r.overlay,modal:r.modal});v()}else{var nt=isNaN(r.dataheight)?r.dataheight:r.dataheight+"px",it=isNaN(r.datawidth)?r.datawidth:r.datawidth+"px",h=n("<form name='FormPost' id='"+h+"' class='FormGrid' style='width:"+it+";overflow:auto;position:relative;height:"+nt+";'><\/form>"),y=n("<table id='"+a+"' class='EditTable' cellspacing='1' cellpadding='2' border='0' style='table-layout:fixed'><tbody><\/tbody><\/table>");if(l&&(o=l.call(u,n("#"+s)),void 0===o&&(o=!0)),!1===o)return;n(u.p.colModel).each(function(){var n=this.formoptions;d=Math.max(d,n?n.colpos||0:0);g=Math.max(g,n?n.rowpos||0:0)});n(h).append(y);tt(i,u,y,d);a="rtl"==u.p.direction?!0:!1;l="<a href='javascript:void(0)' id='"+(a?"nData":"pData")+"' class='fm-button ui-state-default ui-corner-left'><span class='ui-icon ui-icon-triangle-1-w'><\/span><\/a>";o="<a href='javascript:void(0)' id='"+(a?"pData":"nData")+"' class='fm-button ui-state-default ui-corner-right'><span class='ui-icon ui-icon-triangle-1-e'><\/span><\/a>";nt="<a href='javascript:void(0)' id='cData' class='fm-button ui-state-default ui-corner-all'>"+r.bClose+"<\/a>";0<g&&(p=[],n.each(n(y)[0].rows,function(n,t){p[n]=t}),p.sort(function(n,t){return n.rp>t.rp?1:n.rp<t.rp?-1:0}),n.each(p,function(t,i){n("tbody",y).append(i)}));r.gbox="#gbox_"+n.jgrid.jqID(e);h=n("<div><\/div>").append(h).append("<table border='0' class='EditTable' id='"+f+"_2'><tbody><tr id='Act_Buttons'><td class='navButton' width='"+r.labelswidth+"'>"+(a?o+l:l+o)+"<\/td><td class='EditButton'>"+nt+"<\/td><\/tr><\/tbody><\/table>");n.jgrid.createModal(c,h,r,"#gview_"+n.jgrid.jqID(u.p.id),n("#gview_"+n.jgrid.jqID(u.p.id))[0]);a&&(n("#pData, #nData","#"+f+"_2").css("float","right"),n(".EditButton","#"+f+"_2").css("text-align","left"));r.viewPagerButtons||n("#pData, #nData","#"+f+"_2").hide();h=null;n("#"+c.themodal).keydown(function(i){if(i.which===27)return t[u.p.id].closeOnEscape&&n.jgrid.hideModal("#"+n.jgrid.jqID(c.themodal),{gb:r.gbox,jqm:r.jqModal,onClose:r.onClose}),!1;if(r.navkeys[0]===!0){if(i.which===r.navkeys[1])return n("#pData","#"+f+"_2").trigger("click"),!1;if(i.which===r.navkeys[2])return n("#nData","#"+f+"_2").trigger("click"),!1}});r.closeicon=n.extend([!0,"left","ui-icon-close"],r.closeicon);!0===r.closeicon[0]&&n("#cData","#"+f+"_2").addClass("right"==r.closeicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+r.closeicon[2]+"'><\/span>");n.isFunction(r.beforeShowForm)&&r.beforeShowForm.call(u,n("#"+s));n.jgrid.viewModal("#"+n.jgrid.jqID(c.themodal),{gbox:"#gbox_"+n.jgrid.jqID(e),jqm:r.jqModal,overlay:r.overlay,modal:r.modal});n(".fm-button:not(.ui-state-disabled)","#"+f+"_2").hover(function(){n(this).addClass("ui-state-hover")},function(){n(this).removeClass("ui-state-hover")});v();n("#cData","#"+f+"_2").click(function(){return n.jgrid.hideModal("#"+n.jgrid.jqID(c.themodal),{gb:"#gbox_"+n.jgrid.jqID(e),jqm:r.jqModal,onClose:r.onClose}),!1});n("#nData","#"+f+"_2").click(function(){n("#FormError","#"+f).hide();var t=k();return t[0]=parseInt(t[0],10),t[0]!=-1&&t[1][t[0]+1]&&(n.isFunction(r.onclickPgButtons)&&r.onclickPgButtons.call(u,"next",n("#"+s),t[1][t[0]]),w(t[1][t[0]+1],u),n(u).jqGrid("setSelection",t[1][t[0]+1]),n.isFunction(r.afterclickPgButtons)&&r.afterclickPgButtons.call(u,"next",n("#"+s),t[1][t[0]+1]),b(t[0]+1,t)),v(),!1});n("#pData","#"+f+"_2").click(function(){n("#FormError","#"+f).hide();var t=k();return t[0]!=-1&&t[1][t[0]-1]&&(n.isFunction(r.onclickPgButtons)&&r.onclickPgButtons.call(u,"prev",n("#"+s),t[1][t[0]]),w(t[1][t[0]-1],u),n(u).jqGrid("setSelection",t[1][t[0]-1]),n.isFunction(r.afterclickPgButtons)&&r.afterclickPgButtons.call(u,"prev",n("#"+s),t[1][t[0]-1]),b(t[0]-1,t)),v(),!1})}h=k();b(h[0],h)}})},delGridRow:function(i,r){return r=n.extend(!0,{top:0,left:0,width:240,height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,url:"",mtype:"POST",reloadAfterSubmit:!0,beforeShowForm:null,beforeInitData:null,afterShowForm:null,beforeSubmit:null,onclickSubmit:null,afterSubmit:null,jqModal:!0,closeOnEscape:!1,delData:{},delicon:[],cancelicon:[],onClose:null,ajaxDelOptions:{},processing:!1,serializeDelData:null,useDataProxy:!1},n.jgrid.del,r||{}),t[n(this)[0].p.id]=r,this.each(function(){var u=this;if(u.grid&&i){var y=n.isFunction(t[u.p.id].beforeShowForm),b=n.isFunction(t[u.p.id].afterShowForm),c=n.isFunction(t[u.p.id].beforeInitData)?t[u.p.id].beforeInitData:!1,e=u.p.id,v={},o=!0,f="DelTbl_"+n.jgrid.jqID(e),h,p,l,w,a="DelTbl_"+e,s={themodal:"delmod"+e,modalhead:"delhd"+e,modalcontent:"delcnt"+e,scrollelm:f};if(n.isArray(i)&&(i=i.join()),void 0!==n("#"+n.jgrid.jqID(s.themodal))[0]){if(c&&(o=c.call(u,n("#"+f)),void 0===o&&(o=!0)),!1===o)return;n("#DelData>td","#"+f).text(i);n("#DelError","#"+f).hide();!0===t[u.p.id].processing&&(t[u.p.id].processing=!1,n("#dData","#"+f).removeClass("ui-state-active"));y&&t[u.p.id].beforeShowForm.call(u,n("#"+f));n.jgrid.viewModal("#"+n.jgrid.jqID(s.themodal),{gbox:"#gbox_"+n.jgrid.jqID(e),jqm:t[u.p.id].jqModal,jqM:!1,overlay:t[u.p.id].overlay,modal:t[u.p.id].modal})}else{var k=isNaN(t[u.p.id].dataheight)?t[u.p.id].dataheight:t[u.p.id].dataheight+"px",d=isNaN(r.datawidth)?r.datawidth:r.datawidth+"px",a="<div id='"+a+"' class='formdata' style='width:"+d+";overflow:auto;position:relative;height:"+k+";'><table class='DelTable'><tbody><tr id='DelError' style='display:none'><td class='ui-state-error'><\/td><\/tr>"+("<tr id='DelData' style='display:none'><td >"+i+"<\/td><\/tr>"),a=a+('<tr><td class="delmsg" style="white-space:pre;">'+t[u.p.id].msg+"<\/td><\/tr><tr><td >&#160;<\/td><\/tr>"),a=a+"<\/tbody><\/table><\/div>"+("<table cellspacing='0' cellpadding='0' border='0' class='EditTable' id='"+f+"_2'><tbody><tr><td><hr class='ui-widget-content' style='margin:1px'/><\/td><\/tr><tr><td class='DelButton EditButton'>"+("<a href='javascript:void(0)' id='dData' class='fm-button ui-state-default ui-corner-all'>"+r.bSubmit+"<\/a>")+"&#160;"+("<a href='javascript:void(0)' id='eData' class='fm-button ui-state-default ui-corner-all'>"+r.bCancel+"<\/a>")+"<\/td><\/tr><\/tbody><\/table>");if(r.gbox="#gbox_"+n.jgrid.jqID(e),n.jgrid.createModal(s,a,r,"#gview_"+n.jgrid.jqID(u.p.id),n("#gview_"+n.jgrid.jqID(u.p.id))[0]),c&&(o=c.call(u,n("#"+f)),void 0===o&&(o=!0)),!1===o)return;n(".fm-button","#"+f+"_2").hover(function(){n(this).addClass("ui-state-hover")},function(){n(this).removeClass("ui-state-hover")});r.delicon=n.extend([!0,"left","ui-icon-scissors"],t[u.p.id].delicon);r.cancelicon=n.extend([!0,"left","ui-icon-cancel"],t[u.p.id].cancelicon);!0===r.delicon[0]&&n("#dData","#"+f+"_2").addClass("right"==r.delicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+r.delicon[2]+"'><\/span>");!0===r.cancelicon[0]&&n("#eData","#"+f+"_2").addClass("right"==r.cancelicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+r.cancelicon[2]+"'><\/span>");n("#dData","#"+f+"_2").click(function(){var i=[!0,""],c,o=n("#DelData>td","#"+f).text();if(v={},n.isFunction(t[u.p.id].onclickSubmit)&&(v=t[u.p.id].onclickSubmit.call(u,t[u.p.id],o)||{}),n.isFunction(t[u.p.id].beforeSubmit)&&(i=t[u.p.id].beforeSubmit.call(u,o)),i[0]&&!t[u.p.id].processing){if(t[u.p.id].processing=!0,l=u.p.prmNames,h=n.extend({},t[u.p.id].delData,v),w=l.oper,h[w]=l.deloper,p=l.id,o=(""+o).split(","),!o.length)return!1;for(c in o)o.hasOwnProperty(c)&&(o[c]=n.jgrid.stripPref(u.p.idPrefix,o[c]));h[p]=o.join();n(this).addClass("ui-state-active");c=n.extend({url:t[u.p.id].url||n(u).jqGrid("getGridParam","editurl"),type:t[u.p.id].mtype,data:n.isFunction(t[u.p.id].serializeDelData)?t[u.p.id].serializeDelData.call(u,h):h,complete:function(c,l){var a;if(l!="success"?(i[0]=!1,i[1]=n.isFunction(t[u.p.id].errorTextFormat)?t[u.p.id].errorTextFormat.call(u,c):l+" Status: '"+c.statusText+"'. Error code: "+c.status):n.isFunction(t[u.p.id].afterSubmit)&&(i=t[u.p.id].afterSubmit.call(u,c,h)),i[0]===!1)n("#DelError>td","#"+f).html(i[1]),n("#DelError","#"+f).show();else{if(t[u.p.id].reloadAfterSubmit&&u.p.datatype!="local")n(u).trigger("reloadGrid");else{if(u.p.treeGrid===!0)try{n(u).jqGrid("delTreeNode",u.p.idPrefix+o[0])}catch(v){}else for(a=0;a<o.length;a++)n(u).jqGrid("delRowData",u.p.idPrefix+o[a]);u.p.selrow=null;u.p.selarrrow=[]}n.isFunction(t[u.p.id].afterComplete)&&setTimeout(function(){t[u.p.id].afterComplete.call(u,c,o)},500)}t[u.p.id].processing=!1;n("#dData","#"+f+"_2").removeClass("ui-state-active");i[0]&&n.jgrid.hideModal("#"+n.jgrid.jqID(s.themodal),{gb:"#gbox_"+n.jgrid.jqID(e),jqm:r.jqModal,onClose:t[u.p.id].onClose})}},n.jgrid.ajaxOptions,t[u.p.id].ajaxDelOptions);c.url||t[u.p.id].useDataProxy||(n.isFunction(u.p.dataProxy)?t[u.p.id].useDataProxy=!0:(i[0]=!1,i[1]=i[1]+(" "+n.jgrid.errors.nourl)));i[0]&&(t[u.p.id].useDataProxy?(c=u.p.dataProxy.call(u,c,"del_"+u.p.id),c===void 0&&(c=[!0,""]),c[0]===!1?(i[0]=!1,i[1]=c[1]||"Error deleting the selected row!"):n.jgrid.hideModal("#"+n.jgrid.jqID(s.themodal),{gb:"#gbox_"+n.jgrid.jqID(e),jqm:r.jqModal,onClose:t[u.p.id].onClose})):n.ajax(c))}return i[0]===!1&&(n("#DelError>td","#"+f).html(i[1]),n("#DelError","#"+f).show()),!1});n("#eData","#"+f+"_2").click(function(){return n.jgrid.hideModal("#"+n.jgrid.jqID(s.themodal),{gb:"#gbox_"+n.jgrid.jqID(e),jqm:t[u.p.id].jqModal,onClose:t[u.p.id].onClose}),!1});y&&t[u.p.id].beforeShowForm.call(u,n("#"+f));n.jgrid.viewModal("#"+n.jgrid.jqID(s.themodal),{gbox:"#gbox_"+n.jgrid.jqID(e),jqm:t[u.p.id].jqModal,overlay:t[u.p.id].overlay,modal:t[u.p.id].modal})}b&&t[u.p.id].afterShowForm.call(u,n("#"+f));!0===t[u.p.id].closeOnEscape&&setTimeout(function(){n(".ui-jqdialog-titlebar-close","#"+n.jgrid.jqID(s.modalhead)).focus()},0)}})},navGrid:function(t,i,r,u,f,e,o){return i=n.extend({edit:!0,editicon:"ui-icon-pencil",add:!0,addicon:"ui-icon-plus",del:!0,delicon:"ui-icon-trash",search:!0,searchicon:"ui-icon-search",refresh:!0,refreshicon:"ui-icon-refresh",refreshstate:"firstpage",view:!1,viewicon:"ui-icon-document",position:"left",closeOnEscape:!0,beforeRefresh:null,afterRefresh:null,cloneToTop:!1,alertwidth:200,alertheight:"auto",alerttop:null,alertleft:null,alertzIndex:null},n.jgrid.nav,i||{}),this.each(function(){var v,s,h,c,a,l;if(!this.nav&&(v={themodal:"alertmod_"+this.p.id,modalhead:"alerthd_"+this.p.id,modalcontent:"alertcnt_"+this.p.id},s=this,s.grid&&"string"==typeof t)){void 0===n("#"+v.themodal)[0]&&(!i.alerttop&&!i.alertleft&&(void 0!==window.innerWidth?(i.alertleft=window.innerWidth,i.alerttop=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(i.alertleft=document.documentElement.clientWidth,i.alerttop=document.documentElement.clientHeight):(i.alertleft=1024,i.alerttop=768),i.alertleft=i.alertleft/2-parseInt(i.alertwidth,10)/2,i.alerttop=i.alerttop/2-25),n.jgrid.createModal(v,"<div>"+i.alerttext+"<\/div><span tabindex='0'><span tabindex='-1' id='jqg_alrt'><\/span><\/span>",{gbox:"#gbox_"+n.jgrid.jqID(s.p.id),jqModal:!0,drag:!0,resize:!0,caption:i.alertcap,top:i.alerttop,left:i.alertleft,width:i.alertwidth,height:i.alertheight,closeOnEscape:i.closeOnEscape,zIndex:i.alertzIndex},"#gview_"+n.jgrid.jqID(s.p.id),n("#gbox_"+n.jgrid.jqID(s.p.id))[0],!0));var b=1,w,y=function(){n(this).hasClass("ui-state-disabled")||n(this).addClass("ui-state-hover")},p=function(){n(this).removeClass("ui-state-hover")};for(i.cloneToTop&&s.p.toppager&&(b=2),w=0;w<b;w++)c=n("<table cellspacing='0' cellpadding='0' border='0' class='ui-pg-table navtable' style='float:left;table-layout:auto;'><tbody><tr><\/tr><\/tbody><\/table>"),0===w?(a=t,l=s.p.id,a==s.p.toppager&&(l+="_top",b=1)):(a=s.p.toppager,l=s.p.id+"_top"),"rtl"==s.p.direction&&n(c).attr("dir","rtl").css("float","right"),i.add&&(u=u||{},h=n("<td class='ui-pg-button ui-corner-all'><\/td>"),n(h).append("<div class='ui-pg-div'><span class='ui-icon "+i.addicon+"'><\/span>"+i.addtext+"<\/div>"),n("tr",c).append(h),n(h,c).attr({title:i.addtitle||"",id:u.id||"add_"+l}).click(function(){return n(this).hasClass("ui-state-disabled")||(n.isFunction(i.addfunc)?i.addfunc.call(s):n(s).jqGrid("editGridRow","new",u)),!1}).hover(y,p),h=null),i.edit&&(h=n("<td class='ui-pg-button ui-corner-all'><\/td>"),r=r||{},n(h).append("<div class='ui-pg-div'><span class='ui-icon "+i.editicon+"'><\/span>"+i.edittext+"<\/div>"),n("tr",c).append(h),n(h,c).attr({title:i.edittitle||"",id:r.id||"edit_"+l}).click(function(){if(!n(this).hasClass("ui-state-disabled")){var t=s.p.selrow;t?n.isFunction(i.editfunc)?i.editfunc.call(s,t):n(s).jqGrid("editGridRow",t,r):(n.jgrid.viewModal("#"+v.themodal,{gbox:"#gbox_"+n.jgrid.jqID(s.p.id),jqm:!0}),n("#jqg_alrt").focus())}return!1}).hover(y,p),h=null),i.view&&(h=n("<td class='ui-pg-button ui-corner-all'><\/td>"),o=o||{},n(h).append("<div class='ui-pg-div'><span class='ui-icon "+i.viewicon+"'><\/span>"+i.viewtext+"<\/div>"),n("tr",c).append(h),n(h,c).attr({title:i.viewtitle||"",id:o.id||"view_"+l}).click(function(){if(!n(this).hasClass("ui-state-disabled")){var t=s.p.selrow;t?n.isFunction(i.viewfunc)?i.viewfunc.call(s,t):n(s).jqGrid("viewGridRow",t,o):(n.jgrid.viewModal("#"+v.themodal,{gbox:"#gbox_"+n.jgrid.jqID(s.p.id),jqm:!0}),n("#jqg_alrt").focus())}return!1}).hover(y,p),h=null),i.del&&(h=n("<td class='ui-pg-button ui-corner-all'><\/td>"),f=f||{},n(h).append("<div class='ui-pg-div'><span class='ui-icon "+i.delicon+"'><\/span>"+i.deltext+"<\/div>"),n("tr",c).append(h),n(h,c).attr({title:i.deltitle||"",id:f.id||"del_"+l}).click(function(){if(!n(this).hasClass("ui-state-disabled")){var t;s.p.multiselect?(t=s.p.selarrrow,t.length===0&&(t=null)):t=s.p.selrow;t?n.isFunction(i.delfunc)?i.delfunc.call(s,t):n(s).jqGrid("delGridRow",t,f):(n.jgrid.viewModal("#"+v.themodal,{gbox:"#gbox_"+n.jgrid.jqID(s.p.id),jqm:!0}),n("#jqg_alrt").focus())}return!1}).hover(y,p),h=null),(i.add||i.edit||i.del||i.view)&&n("tr",c).append("<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'><\/span><\/td>"),i.search&&(h=n("<td class='ui-pg-button ui-corner-all'><\/td>"),e=e||{},n(h).append("<div class='ui-pg-div'><span class='ui-icon "+i.searchicon+"'><\/span>"+i.searchtext+"<\/div>"),n("tr",c).append(h),n(h,c).attr({title:i.searchtitle||"",id:e.id||"search_"+l}).click(function(){return n(this).hasClass("ui-state-disabled")||(n.isFunction(i.searchfunc)?i.searchfunc.call(s,e):n(s).jqGrid("searchGrid",e)),!1}).hover(y,p),e.showOnLoad&&!0===e.showOnLoad&&n(h,c).click(),h=null),i.refresh&&(h=n("<td class='ui-pg-button ui-corner-all'><\/td>"),n(h).append("<div class='ui-pg-div'><span class='ui-icon "+i.refreshicon+"'><\/span>"+i.refreshtext+"<\/div>"),n("tr",c).append(h),n(h,c).attr({title:i.refreshtitle||"",id:"refresh_"+l}).click(function(){if(!n(this).hasClass("ui-state-disabled")){n.isFunction(i.beforeRefresh)&&i.beforeRefresh.call(s);s.p.search=!1;try{var t=s.p.id;s.p.postData.filters="";n("#fbox_"+n.jgrid.jqID(t)).jqFilter("resetFilter");n.isFunction(s.clearToolbar)&&s.clearToolbar.call(s,!1)}catch(r){}switch(i.refreshstate){case"firstpage":n(s).trigger("reloadGrid",[{page:1}]);break;case"current":n(s).trigger("reloadGrid",[{current:!0}])}n.isFunction(i.afterRefresh)&&i.afterRefresh.call(s)}return!1}).hover(y,p),h=null),h=n(".ui-jqgrid").css("font-size")||"11px",n("body").append("<div id='testpg2' class='ui-jqgrid ui-widget ui-widget-content' style='font-size:"+h+";visibility:hidden;' ><\/div>"),h=n(c).clone().appendTo("#testpg2").width(),n("#testpg2").remove(),n(a+"_"+i.position,a).append(c),s.p._nvtd&&(h>s.p._nvtd[0]&&(n(a+"_"+i.position,a).width(h),s.p._nvtd[0]=h),s.p._nvtd[1]=h),c=h=h=null,this.nav=!0}})},navButtonAdd:function(t,i){return i=n.extend({caption:"newButton",title:"",buttonicon:"ui-icon-newwin",onClickButton:null,position:"last",cursor:"pointer"},i||{}),this.each(function(){var r,f,u;this.grid&&("string"==typeof t&&0!==t.indexOf("#")&&(t="#"+n.jgrid.jqID(t)),r=n(".navtable",t)[0],f=this,!r||i.id&&void 0!==n("#"+n.jgrid.jqID(i.id),r)[0]||(u=n("<td><\/td>"),"NONE"==i.buttonicon.toString().toUpperCase()?n(u).addClass("ui-pg-button ui-corner-all").append("<div class='ui-pg-div'>"+i.caption+"<\/div>"):n(u).addClass("ui-pg-button ui-corner-all").append("<div class='ui-pg-div'><span class='ui-icon "+i.buttonicon+"'><\/span>"+i.caption+"<\/div>"),i.id&&n(u).attr("id",i.id),"first"==i.position?0===r.rows[0].cells.length?n("tr",r).append(u):n("tr td:eq(0)",r).before(u):n("tr",r).append(u),n(u,r).attr("title",i.title||"").click(function(t){return n(this).hasClass("ui-state-disabled")||n.isFunction(i.onClickButton)&&i.onClickButton.call(f,t),!1}).hover(function(){n(this).hasClass("ui-state-disabled")||n(this).addClass("ui-state-hover")},function(){n(this).removeClass("ui-state-hover")})))})},navSeparatorAdd:function(t,i){return i=n.extend({sepclass:"ui-separator",sepcontent:"",position:"last"},i||{}),this.each(function(){var r,u;this.grid&&("string"==typeof t&&0!==t.indexOf("#")&&(t="#"+n.jgrid.jqID(t)),r=n(".navtable",t)[0],r&&(u="<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='"+i.sepclass+"'><\/span>"+i.sepcontent+"<\/td>","first"===i.position?0===r.rows[0].cells.length?n("tr",r).append(u):n("tr td:eq(0)",r).before(u):n("tr",r).append(u)))})},GridToForm:function(t,i){return this.each(function(){var f=this,r,u;if(f.grid&&(u=n(f).jqGrid("getRowData",t),u))for(r in u)u.hasOwnProperty(r)&&(n("[name="+n.jgrid.jqID(r)+"]",i).is("input:radio")||n("[name="+n.jgrid.jqID(r)+"]",i).is("input:checkbox")?n("[name="+n.jgrid.jqID(r)+"]",i).each(function(){n(this).val()==u[r]?n(this)[f.p.useProp?"prop":"attr"]("checked",!0):n(this)[f.p.useProp?"prop":"attr"]("checked",!1)}):n("[name="+n.jgrid.jqID(r)+"]",i).val(u[r]))})},FormToGrid:function(t,i,r,u){return this.each(function(){if(this.grid){r||(r="set");u||(u="first");var e=n(i).serializeArray(),f={};n.each(e,function(n,t){f[t.name]=t.value});"add"==r?n(this).jqGrid("addRowData",t,f,u):"set"==r&&n(this).jqGrid("setRowData",t,f)}})}})}(jQuery),function(n){n.fn.jqFilter=function(t){var r,u,i;if("string"==typeof t){if(r=n.fn.jqFilter[t],!r)throw"jqFilter - No such method: "+t;return u=n.makeArray(arguments).slice(1),r.apply(this,u)}return i=n.extend(!0,{filter:null,columns:[],onChange:null,afterRedraw:null,checkValues:null,error:!1,errmsg:"",errorcheck:!0,showQuery:!0,sopt:null,ops:[{name:"eq",description:"equal",operator:"="},{name:"ne",description:"not equal",operator:"<>"},{name:"lt",description:"less",operator:"<"},{name:"le",description:"less or equal",operator:"<="},{name:"gt",description:"greater",operator:">"},{name:"ge",description:"greater or equal",operator:">="},{name:"bw",description:"begins with",operator:"LIKE"},{name:"bn",description:"does not begin with",operator:"NOT LIKE"},{name:"in",description:"in",operator:"IN"},{name:"ni",description:"not in",operator:"NOT IN"},{name:"ew",description:"ends with",operator:"LIKE"},{name:"en",description:"does not end with",operator:"NOT LIKE"},{name:"cn",description:"contains",operator:"LIKE"},{name:"nc",description:"does not contain",operator:"NOT LIKE"},{name:"nu",description:"is null",operator:"IS NULL"},{name:"nn",description:"is not null",operator:"IS NOT NULL"}],numopts:"eq,ne,lt,le,gt,ge,nu,nn,in,ni".split(","),stropts:"eq,ne,bw,bn,ew,en,cn,nc,nu,nn,in,ni".split(","),strarr:["text","string","blob"],_gridsopt:[],groupOps:[{op:"AND",text:"AND"},{op:"OR",text:"OR"}],groupButton:!0,ruleButtons:!0,direction:"ltr"},n.jgrid.filter,t||{}),this.each(function(){var r,u,t,f,e;if(!this.filter){if(this.p=i,(null===this.p.filter||void 0===this.p.filter)&&(this.p.filter={groupOp:this.p.groupOps[0].op,rules:[],groups:[]}),u=this.p.columns.length,f=/msie/i.test(navigator.userAgent)&&!window.opera,this.p._gridsopt.length)for(r=0;r<this.p._gridsopt.length;r++)this.p.ops[r].description=this.p._gridsopt[r];if(this.p.initFilter=n.extend(!0,{},this.p.filter),u){for(r=0;r<u;r++)(t=this.p.columns[r],t.stype?t.inputtype=t.stype:t.inputtype||(t.inputtype="text"),t.sorttype?t.searchtype=t.sorttype:t.searchtype||(t.searchtype="string"),void 0===t.hidden&&(t.hidden=!1),t.label||(t.label=t.name),t.index&&(t.name=t.index),t.hasOwnProperty("searchoptions")||(t.searchoptions={}),t.hasOwnProperty("searchrules"))||(t.searchrules={});this.p.showQuery&&n(this).append("<table class='queryresult ui-widget ui-widget-content' style='display:block;max-width:440px;border:0px none;' dir='"+this.p.direction+"'><tbody><tr><td class='query'><\/td><\/tr><\/tbody><\/table>");e=function(t,r){var u=[!0,""];if(n.isFunction(r.searchrules))u=r.searchrules(t,r);else if(n.jgrid&&n.jgrid.checkValues)try{u=n.jgrid.checkValues(t,-1,null,r.searchrules,r.label)}catch(f){}u&&u.length&&!1===u[0]&&(i.error=!u[0],i.errmsg=u[1])};this.onchange=function(){return this.p.error=!1,this.p.errmsg="",n.isFunction(this.p.onChange)?this.p.onChange.call(this,this.p):!1};this.reDraw=function(){n("table.group:first",this).remove();var t=this.createTableForGroup(i.filter,null);n(this).append(t);n.isFunction(this.p.afterRedraw)&&this.p.afterRedraw.call(this,this.p)};this.createTableForGroup=function(t,r){var f=this,u,s=n("<table class='group ui-widget ui-widget-content' style='border:0px none;'><tbody><\/tbody><\/table>"),o="left",c,l,e,h;if("rtl"==this.p.direction&&(o="right",s.attr("dir","rtl")),null===r&&s.append("<tr class='error' style='display:none;'><th colspan='5' class='ui-state-error' align='"+o+"'><\/th><\/tr>"),e=n("<tr><\/tr>"),s.append(e),o=n("<th colspan='5' align='"+o+"'><\/th>"),e.append(o),!0===this.p.ruleButtons){for(c=n("<select class='opsel'><\/select>"),o.append(c),e="",u=0;u<i.groupOps.length;u++)l=t.groupOp===f.p.groupOps[u].op?" selected='selected'":"",e+="<option value='"+f.p.groupOps[u].op+"'"+l+">"+f.p.groupOps[u].text+"<\/option>";c.append(e).bind("change",function(){t.groupOp=n(c).val();f.onchange()})}if(e="<span><\/span>",this.p.groupButton&&(e=n("<input type='button' value='+ {}' title='Add subgroup' class='add-group'/>"),e.bind("click",function(){return t.groups===void 0&&(t.groups=[]),t.groups.push({groupOp:i.groupOps[0].op,rules:[],groups:[]}),f.reDraw(),f.onchange(),!1})),o.append(e),!0===this.p.ruleButtons&&(e=n("<input type='button' value='+' title='Add rule' class='add-rule ui-add'/>"),e.bind("click",function(){for(t.rules===void 0&&(t.rules=[]),u=0;u<f.p.columns.length;u++){var i=f.p.columns[u].search===void 0?!0:f.p.columns[u].search,r=f.p.columns[u].hidden===!0;if(f.p.columns[u].searchoptions.searchhidden===!0&&i||i&&!r){h=f.p.columns[u];break}}return i=h.searchoptions.sopt?h.searchoptions.sopt:f.p.sopt?f.p.sopt:n.inArray(h.searchtype,f.p.strarr)!==-1?f.p.stropts:f.p.numopts,t.rules.push({field:h.name,op:i[0],data:""}),f.reDraw(),!1}),o.append(e)),null!==r&&(e=n("<input type='button' value='-' title='Delete group' class='delete-group'/>"),o.append(e),e.bind("click",function(){for(u=0;u<r.groups.length;u++)if(r.groups[u]===t){r.groups.splice(u,1);break}return f.reDraw(),f.onchange(),!1})),void 0!==t.groups)for(u=0;u<t.groups.length;u++)o=n("<tr><\/tr>"),s.append(o),e=n("<td class='first'><\/td>"),o.append(e),e=n("<td colspan='4'><\/td>"),e.append(this.createTableForGroup(t.groups[u],t)),o.append(e);if(void 0===t.groupOp&&(t.groupOp=f.p.groupOps[0].op),void 0!==t.rules)for(u=0;u<t.rules.length;u++)s.append(this.createTableRowForRule(t.rules[u],t));return s};this.createTableRowForRule=function(t,r){var u=this,v=n("<tr><\/tr>"),e,y,c,o,h="",a,s,w,l,p,k,b;for(v.append("<td class='first'><\/td>"),s=n("<td class='columns'><\/td>"),v.append(s),w=n("<select><\/select>"),p=[],s.append(w),w.bind("change",function(){var i,r,s;for(t.field=n(w).val(),c=n(this).parents("tr:first"),e=0;e<u.p.columns.length;e++)if(u.p.columns[e].name===t.field){o=u.p.columns[e];break}if(o){for(o.searchoptions.id=n.jgrid.randId(),f&&"text"===o.inputtype&&!o.searchoptions.size&&(o.searchoptions.size=10),i=n.jgrid.createEl(o.inputtype,o.searchoptions,"",!0,u.p.ajaxSelectOptions,!0),n(i).addClass("input-elm"),y=o.searchoptions.sopt?o.searchoptions.sopt:u.p.sopt?u.p.sopt:-1!==n.inArray(o.searchtype,u.p.strarr)?u.p.stropts:u.p.numopts,r="",s=0,p=[],n.each(u.p.ops,function(){p.push(this.name)}),e=0;e<y.length;e++)l=n.inArray(y[e],p),-1!==l&&(0===s&&(t.op=u.p.ops[l].name),r+="<option value='"+u.p.ops[l].name+"'>"+u.p.ops[l].description+"<\/option>",s++);n(".selectopts",c).empty().append(r);n(".selectopts",c)[0].selectedIndex=0;n.jgrid.msie&&9>n.jgrid.msiever()&&(r=parseInt(n("select.selectopts",c)[0].offsetWidth,10)+1,n(".selectopts",c).width(r),n(".selectopts",c).css("width","auto"));n(".data",c).empty().append(i);n.jgrid.bindEv(i,o.searchoptions,u);n(".input-elm",c).bind("change",function(i){var r=n(this).hasClass("ui-autocomplete-input")?200:0;setTimeout(function(){var r=i.target;t.data=r.nodeName.toUpperCase()==="SPAN"&&o.searchoptions&&n.isFunction(o.searchoptions.custom_value)?o.searchoptions.custom_value(n(r).children(".customelement:first"),"get"):r.value;u.onchange()},r)});setTimeout(function(){t.data=n(i).val();u.onchange()},0)}}),e=s=0;e<u.p.columns.length;e++)a=void 0===u.p.columns[e].search?!0:u.p.columns[e].search,k=!0===u.p.columns[e].hidden,(!0===u.p.columns[e].searchoptions.searchhidden&&a||a&&!k)&&(a="",t.field===u.p.columns[e].name&&(a=" selected='selected'",s=e),h+="<option value='"+u.p.columns[e].name+"'"+a+">"+u.p.columns[e].label+"<\/option>");for(w.append(h),h=n("<td class='operators'><\/td>"),v.append(h),o=i.columns[s],o.searchoptions.id=n.jgrid.randId(),f&&"text"===o.inputtype&&!o.searchoptions.size&&(o.searchoptions.size=10),s=n.jgrid.createEl(o.inputtype,o.searchoptions,t.data,!0,u.p.ajaxSelectOptions,!0),("nu"==t.op||"nn"==t.op)&&(n(s).attr("readonly","true"),n(s).attr("disabled","true")),b=n("<select class='selectopts'><\/select>"),h.append(b),b.bind("change",function(){t.op=n(b).val();c=n(this).parents("tr:first");var i=n(".input-elm",c)[0];t.op==="nu"||t.op==="nn"?(t.data="",i.value="",i.setAttribute("readonly","true"),i.setAttribute("disabled","true")):(i.removeAttribute("readonly"),i.removeAttribute("disabled"));u.onchange()}),y=o.searchoptions.sopt?o.searchoptions.sopt:u.p.sopt?u.p.sopt:-1!==n.inArray(o.searchtype,u.p.strarr)?u.p.stropts:u.p.numopts,h="",n.each(u.p.ops,function(){p.push(this.name)}),e=0;e<y.length;e++)l=n.inArray(y[e],p),-1!==l&&(a=t.op===u.p.ops[l].name?" selected='selected'":"",h+="<option value='"+u.p.ops[l].name+"'"+a+">"+u.p.ops[l].description+"<\/option>");return b.append(h),h=n("<td class='data'><\/td>"),v.append(h),h.append(s),n.jgrid.bindEv(s,o.searchoptions,u),n(s).addClass("input-elm").bind("change",function(){t.data=o.inputtype==="custom"?o.searchoptions.custom_value(n(this).children(".customelement:first"),"get"):n(this).val();u.onchange()}),h=n("<td><\/td>"),v.append(h),!0===this.p.ruleButtons&&(s=n("<input type='button' value='-' title='Delete rule' class='delete-rule ui-del'/>"),h.append(s),s.bind("click",function(){for(e=0;e<r.rules.length;e++)if(r.rules[e]===t){r.rules.splice(e,1);break}return u.reDraw(),u.onchange(),!1})),v};this.getStringForGroup=function(n){var t="(",i;if(void 0!==n.groups)for(i=0;i<n.groups.length;i++){1<t.length&&(t+=" "+n.groupOp+" ");try{t+=this.getStringForGroup(n.groups[i])}catch(r){alert(r)}}if(void 0!==n.rules)try{for(i=0;i<n.rules.length;i++)1<t.length&&(t+=" "+n.groupOp+" "),t+=this.getStringForRule(n.rules[i])}catch(u){alert(u)}return t+=")","()"===t?"":t};this.getStringForRule=function(t){for(var o="",u="",f,r=0;r<this.p.ops.length;r++)if(this.p.ops[r].name===t.op){o=this.p.ops[r].operator;u=this.p.ops[r].name;break}for(r=0;r<this.p.columns.length;r++)if(this.p.columns[r].name===t.field){f=this.p.columns[r];break}return null==f?"":(r=t.data,("bw"===u||"bn"===u)&&(r+="%"),("ew"===u||"en"===u)&&(r="%"+r),("cn"===u||"nc"===u)&&(r="%"+r+"%"),("in"===u||"ni"===u)&&(r=" ("+r+")"),i.errorcheck&&e(t.data,f),-1!==n.inArray(f.searchtype,["int","integer","float","number","currency"])||"nn"===u||"nu"===u?t.field+" "+o+" "+r:t.field+" "+o+' "'+r+'"')};this.resetFilter=function(){this.p.filter=n.extend(!0,{},this.p.initFilter);this.reDraw();this.onchange()};this.hideError=function(){n("th.ui-state-error",this).html("");n("tr.error",this).hide()};this.showError=function(){n("th.ui-state-error",this).html(this.p.errmsg);n("tr.error",this).show()};this.toUserFriendlyString=function(){return this.getStringForGroup(i.filter)};this.toString=function(){function t(i){var r="(",u,f;if(void 0!==i.groups)for(u=0;u<i.groups.length;u++)1<r.length&&(r="OR"===i.groupOp?r+" || ":r+" && "),r+=t(i.groups[u]);if(void 0!==i.rules)for(u=0;u<i.rules.length;u++){if(1<r.length&&(r="OR"===i.groupOp?r+" || ":r+" && "),f=i.rules[u],n.p.errorcheck){for(var o=void 0,s=void 0,o=0;o<n.p.columns.length;o++)if(n.p.columns[o].name===f.field){s=n.p.columns[o];break}s&&e(f.data,s)}r+=f.op+"(item."+f.field+",'"+f.data+"')"}return r+=")","()"===r?"":r}var n=this;return t(this.p.filter)};this.reDraw();this.p.showQuery&&this.onchange();this.filter=!0}}})};n.extend(n.fn.jqFilter,{toSQLString:function(){var n="";return this.each(function(){n=this.toUserFriendlyString()}),n},filterData:function(){var n;return this.each(function(){n=this.p.filter}),n},getParameter:function(n){return void 0!==n&&this.p.hasOwnProperty(n)?this.p[n]:this.p},resetFilter:function(){return this.each(function(){this.resetFilter()})},addFilter:function(t){"string"==typeof t&&(t=n.jgrid.parse(t));this.each(function(){this.p.filter=t;this.reDraw();this.onchange()})}})}(jQuery),function(n){n.jgrid.inlineEdit=n.jgrid.inlineEdit||{};n.jgrid.extend({editRow:function(t,i,r,u,f,e,o,s,h){var c={},l=n.makeArray(arguments).slice(1);return"object"===n.type(l[0])?c=l[0]:(void 0!==i&&(c.keys=i),n.isFunction(r)&&(c.oneditfunc=r),n.isFunction(u)&&(c.successfunc=u),void 0!==f&&(c.url=f),void 0!==e&&(c.extraparam=e),n.isFunction(o)&&(c.aftersavefunc=o),n.isFunction(s)&&(c.errorfunc=s),n.isFunction(h))&&(c.afterrestorefunc=h),c=n.extend(!0,{keys:!1,oneditfunc:null,successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,mtype:"POST"},n.jgrid.inlineEdit,c),this.each(function(){var i=this,f,u,h=0,o=null,s={},e,r;i.grid&&(e=n(i).jqGrid("getInd",t,!0),!1!==e&&"0"==(n(e).attr("editable")||"0")&&!n(e).hasClass("not-editable-row"))&&(r=i.p.colModel,n('td[role="gridcell"]',e).each(function(e){var l,a,c;if(f=r[e].name,l=!0===i.p.treeGrid&&f==i.p.ExpandColumn,l)u=n("span:first",this).html();else try{u=n.unformat.call(i,this,{rowId:t,colModel:r[e]},e)}catch(v){u=r[e].edittype&&"textarea"==r[e].edittype?n(this).text():n(this).html()}"cb"!=f&&"subgrid"!=f&&"rn"!=f&&(i.p.autoencode&&(u=n.jgrid.htmlDecode(u)),s[f]=u,!0===r[e].editable)&&(null===o&&(o=e),l?n("span:first",this).html(""):n(this).html(""),a=n.extend({},r[e].editoptions||{},{id:t+"_"+f,name:f}),r[e].edittype||(r[e].edittype="text"),("&nbsp;"==u||"&#160;"==u||1==u.length&&160==u.charCodeAt(0))&&(u=""),c=n.jgrid.createEl.call(i,r[e].edittype,a,u,!0,n.extend({},n.jgrid.ajaxOptions,i.p.ajaxSelectOptions||{})),n(c).addClass("editable"),l?n("span:first",this).append(c):n(this).append(c),n.jgrid.bindEv(c,a,i),"select"==r[e].edittype&&void 0!==r[e].editoptions&&!0===r[e].editoptions.multiple&&void 0===r[e].editoptions.dataUrl&&n.jgrid.msie&&n(c).width(n(c).width()),h++)}),0<h&&(s.id=t,i.p.savedRow.push(s),n(e).attr("editable","1"),n("td:eq("+o+") input",e).focus(),!0===c.keys&&n(e).bind("keydown",function(r){if(27===r.keyCode){if(n(i).jqGrid("restoreRow",t,c.afterrestorefunc),i.p._inlinenav)try{n(i).jqGrid("showAddEditButtons")}catch(u){}return!1}if(13===r.keyCode){if("TEXTAREA"==r.target.tagName)return!0;if(n(i).jqGrid("saveRow",t,c)&&i.p._inlinenav)try{n(i).jqGrid("showAddEditButtons")}catch(f){}return!1}}),n(i).triggerHandler("jqGridInlineEditRow",[t,c]),n.isFunction(c.oneditfunc)&&c.oneditfunc.call(i,t)))})},saveRow:function(t,i,r,u,f,e,o){var a=n.makeArray(arguments).slice(1),c={},y,d;"object"===n.type(a[0])?c=a[0]:(n.isFunction(i)&&(c.successfunc=i),void 0!==r&&(c.url=r),void 0!==u&&(c.extraparam=u),n.isFunction(f)&&(c.aftersavefunc=f),n.isFunction(e)&&(c.errorfunc=e),n.isFunction(o))&&(c.afterrestorefunc=o);var c=n.extend(!0,{successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,mtype:"POST"},n.jgrid.inlineEdit,c),g=!1,s=this[0],l,h={},nt={},w={},k,b,p;if(!s.grid||(p=n(s).jqGrid("getInd",t,!0),!1===p))return g;if(a=n(p).attr("editable"),c.url=c.url||s.p.editurl,"1"===a){if(n('td[role="gridcell"]',p).each(function(t){var i,r;if(y=s.p.colModel[t],l=y.name,"cb"!=l&&"subgrid"!=l&&!0===y.editable&&"rn"!=l&&!n(this).hasClass("not-editable-cell")){switch(y.edittype){case"checkbox":i=["Yes","No"];y.editoptions&&(i=y.editoptions.value.split(":"));h[l]=n("input",this).is(":checked")?i[0]:i[1];break;case"text":case"password":case"textarea":case"button":h[l]=n("input, textarea",this).val();break;case"select":y.editoptions.multiple?(i=n("select",this),r=[],h[l]=n(i).val(),h[l]=h[l]?h[l].join(","):"",n("select option:selected",this).each(function(t,i){r[t]=n(i).text()}),nt[l]=r.join(",")):(h[l]=n("select option:selected",this).val(),nt[l]=n("select option:selected",this).text());y.formatter&&"select"==y.formatter&&(nt={});break;case"custom":try{if(y.editoptions&&n.isFunction(y.editoptions.custom_value)){if(h[l]=y.editoptions.custom_value.call(s,n(".customelement",this),"get"),void 0===h[l])throw"e2";}else throw"e1";}catch(u){"e1"==u&&n.jgrid.info_dialog(n.jgrid.errors.errcap,"function 'custom_value' "+n.jgrid.edit.msg.nodefined,n.jgrid.edit.bClose);"e2"==u?n.jgrid.info_dialog(n.jgrid.errors.errcap,"function 'custom_value' "+n.jgrid.edit.msg.novalue,n.jgrid.edit.bClose):n.jgrid.info_dialog(n.jgrid.errors.errcap,u.message,n.jgrid.edit.bClose)}}if(b=n.jgrid.checkValues(h[l],t,s),!1===b[0])return b[1]=h[l]+" "+b[1],!1;s.p.autoencode&&(h[l]=n.jgrid.htmlEncode(h[l]));"clientArray"!==c.url&&y.editoptions&&!0===y.editoptions.NullIfEmpty&&""===h[l]&&(w[l]="null")}}),!1===b[0]){try{d=n.jgrid.findPos(n("#"+n.jgrid.jqID(t),s.grid.bDiv)[0]);n.jgrid.info_dialog(n.jgrid.errors.errcap,b[1],n.jgrid.edit.bClose,{left:d[0],top:d[1]})}catch(tt){alert(b[1])}return g}var v=s.p.prmNames,d=t,a=!1===s.p.keyIndex?v.id:s.p.colModel[s.p.keyIndex+(!0===s.p.rownumbers?1:0)+(!0===s.p.multiselect?1:0)+(!0===s.p.subGrid?1:0)].name;if(h&&(h[v.oper]=v.editoper,void 0===h[a]?h[a]=t:p.id!==s.p.idPrefix+h[a]&&(v=n.jgrid.stripPref(s.p.idPrefix,t),void 0!==s.p._index[v]&&(s.p._index[h[a]]=s.p._index[v],delete s.p._index[v]),t=s.p.idPrefix+h[a],n(p).attr("id",t),s.p.selrow===d&&(s.p.selrow=t),n.isArray(s.p.selarrrow)&&(v=n.inArray(d,s.p.selarrrow),0<=v&&(s.p.selarrrow[v]=t)),s.p.multiselect)&&(v="jqg_"+s.p.id+"_"+t,n("input.cbox",p).attr("id",v).attr("name",v)),void 0===s.p.inlineData&&(s.p.inlineData={}),h=n.extend({},h,s.p.inlineData,c.extraparam)),"clientArray"==c.url){for(h=n.extend({},h,nt),s.p.autoencode&&n.each(h,function(t,i){h[t]=n.jgrid.htmlDecode(i)}),v=n(s).jqGrid("setRowData",t,h),n(p).attr("editable","0"),a=0;a<s.p.savedRow.length;a++)if(s.p.savedRow[a].id==d){k=a;break}0<=k&&s.p.savedRow.splice(k,1);n(s).triggerHandler("jqGridInlineAfterSaveRow",[t,v,h,c]);n.isFunction(c.aftersavefunc)&&c.aftersavefunc.call(s,t,v,c);g=!0;n(p).unbind("keydown")}else n("#lui_"+n.jgrid.jqID(s.p.id)).show(),w=n.extend({},h,w),w[a]=n.jgrid.stripPref(s.p.idPrefix,w[a]),n.ajax(n.extend({url:c.url,data:n.isFunction(s.p.serializeRowData)?s.p.serializeRowData.call(s,w):w,type:c.mtype,"async":!1,complete:function(i,r){if(n("#lui_"+n.jgrid.jqID(s.p.id)).hide(),"success"===r){var f=!0,u;if(u=n(s).triggerHandler("jqGridInlineSuccessSaveRow",[i,t,c]),n.isArray(u)||(u=[!0,h]),u[0]&&n.isFunction(c.successfunc)&&(u=c.successfunc.call(s,i)),n.isArray(u)?(f=u[0],h=u[1]||h):f=u,!0===f){for(s.p.autoencode&&n.each(h,function(t,i){h[t]=n.jgrid.htmlDecode(i)}),h=n.extend({},h,nt),n(s).jqGrid("setRowData",t,h),n(p).attr("editable","0"),f=0;f<s.p.savedRow.length;f++)if(s.p.savedRow[f].id==t){k=f;break}0<=k&&s.p.savedRow.splice(k,1);n(s).triggerHandler("jqGridInlineAfterSaveRow",[t,i,h,c]);n.isFunction(c.aftersavefunc)&&c.aftersavefunc.call(s,t,i);g=!0;n(p).unbind("keydown")}else n(s).triggerHandler("jqGridInlineErrorSaveRow",[t,i,r,null,c]),n.isFunction(c.errorfunc)&&c.errorfunc.call(s,t,i,r,null),!0===c.restoreAfterError&&n(s).jqGrid("restoreRow",t,c.afterrestorefunc)}},error:function(i,r,u){if(n("#lui_"+n.jgrid.jqID(s.p.id)).hide(),n(s).triggerHandler("jqGridInlineErrorSaveRow",[t,i,r,u,c]),n.isFunction(c.errorfunc))c.errorfunc.call(s,t,i,r,u);else{i=i.responseText||i.statusText;try{n.jgrid.info_dialog(n.jgrid.errors.errcap,'<div class="ui-state-error">'+i+"<\/div>",n.jgrid.edit.bClose,{buttonalign:"right"})}catch(f){alert(i)}}!0===c.restoreAfterError&&n(s).jqGrid("restoreRow",t,c.afterrestorefunc)}},n.jgrid.ajaxOptions,s.p.ajaxRowOptions||{}))}return g},restoreRow:function(t,i){var u=n.makeArray(arguments).slice(1),r={};return"object"===n.type(u[0])?r=u[0]:n.isFunction(i)&&(r.afterrestorefunc=i),r=n.extend(!0,n.jgrid.inlineEdit,r),this.each(function(){var i=this,u,e,o={},f;if(i.grid&&(e=n(i).jqGrid("getInd",t,!0),e!==!1)){for(f=0;f<i.p.savedRow.length;f++)if(i.p.savedRow[f].id==t){u=f;break}if(u>=0){if(n.isFunction(n.fn.datepicker))try{n("input.hasDatepicker","#"+n.jgrid.jqID(e.id)).datepicker("hide")}catch(s){}n.each(i.p.colModel,function(){this.editable===!0&&i.p.savedRow[u].hasOwnProperty(this.name)&&(o[this.name]=i.p.savedRow[u][this.name])});n(i).jqGrid("setRowData",t,o);n(e).attr("editable","0").unbind("keydown");i.p.savedRow.splice(u,1);n("#"+n.jgrid.jqID(t),"#"+n.jgrid.jqID(i.p.id)).hasClass("jqgrid-new-row")&&setTimeout(function(){n(i).jqGrid("delRowData",t)},0)}n(i).triggerHandler("jqGridInlineAfterRestoreRow",[t]);n.isFunction(r.afterrestorefunc)&&r.afterrestorefunc.call(i,t)}})},addRow:function(t){return t=n.extend(!0,{rowID:null,initdata:{},position:"first",useDefValues:!0,useFormatter:!1,addRowParams:{extraparam:{}}},t||{}),this.each(function(){var i,r;this.grid&&(i=this,t.rowID=n.isFunction(t.rowID)?t.rowID.call(i,t):null!=t.rowID?t.rowID:n.jgrid.randId(),!0===t.useDefValues&&n(i.p.colModel).each(function(){if(this.editoptions&&this.editoptions.defaultValue){var r=this.editoptions.defaultValue,r=n.isFunction(r)?r.call(i):r;t.initdata[this.name]=r}}),n(i).jqGrid("addRowData",t.rowID,t.initdata,t.position),t.rowID=i.p.idPrefix+t.rowID,n("#"+n.jgrid.jqID(t.rowID),"#"+n.jgrid.jqID(i.p.id)).addClass("jqgrid-new-row"),t.useFormatter?n("#"+n.jgrid.jqID(t.rowID)+" .ui-inline-edit","#"+n.jgrid.jqID(i.p.id)).click():(r=i.p.prmNames,t.addRowParams.extraparam[r.oper]=r.addoper,n(i).jqGrid("editRow",t.rowID,t.addRowParams),n(i).jqGrid("setSelection",t.rowID)))})},inlineNav:function(t,i){return i=n.extend({edit:!0,editicon:"ui-icon-pencil",add:!0,addicon:"ui-icon-plus",save:!0,saveicon:"ui-icon-disk",cancel:!0,cancelicon:"ui-icon-cancel",addParams:{},editParams:{},restoreAfterSelect:!0},n.jgrid.nav,i||{}),this.each(function(){var r,o,u,f,e;if(this.grid){if(r=this,u=n.jgrid.jqID(r.p.id),r.p._inlinenav=!0,!0===i.addParams.useFormatter)for(f=r.p.colModel,e=0;e<f.length;e++)if(f[e].formatter&&"actions"===f[e].formatter){f[e].formatoptions&&(f=n.extend({keys:!1,onEdit:null,onSuccess:null,afterSave:null,onError:null,afterRestore:null,extraparam:{},url:null},f[e].formatoptions),i.addParams.addRowParams={keys:f.keys,oneditfunc:f.onEdit,successfunc:f.onSuccess,url:f.url,extraparam:f.extraparam,aftersavefunc:f.afterSavef,errorfunc:f.onError,afterrestorefunc:f.afterRestore});break}i.add&&n(r).jqGrid("navButtonAdd",t,{caption:i.addtext,title:i.addtitle,buttonicon:i.addicon,id:r.p.id+"_iladd",onClickButton:function(){n(r).jqGrid("addRow",i.addParams);i.addParams.useFormatter||(n("#"+u+"_ilsave").removeClass("ui-state-disabled"),n("#"+u+"_ilcancel").removeClass("ui-state-disabled"),n("#"+u+"_iladd").addClass("ui-state-disabled"),n("#"+u+"_iledit").addClass("ui-state-disabled"))}});i.edit&&n(r).jqGrid("navButtonAdd",t,{caption:i.edittext,title:i.edittitle,buttonicon:i.editicon,id:r.p.id+"_iledit",onClickButton:function(){var t=n(r).jqGrid("getGridParam","selrow");t?(n(r).jqGrid("editRow",t,i.editParams),n("#"+u+"_ilsave").removeClass("ui-state-disabled"),n("#"+u+"_ilcancel").removeClass("ui-state-disabled"),n("#"+u+"_iladd").addClass("ui-state-disabled"),n("#"+u+"_iledit").addClass("ui-state-disabled")):(n.jgrid.viewModal("#alertmod",{gbox:"#gbox_"+u,jqm:!0}),n("#jqg_alrt").focus())}});i.save&&(n(r).jqGrid("navButtonAdd",t,{caption:i.savetext||"",title:i.savetitle||"Save row",buttonicon:i.saveicon,id:r.p.id+"_ilsave",onClickButton:function(){var f=r.p.savedRow[0].id,t,e;f?(t=r.p.prmNames,e=t.oper,i.editParams.extraparam||(i.editParams.extraparam={}),i.editParams.extraparam[e]=n("#"+n.jgrid.jqID(f),"#"+u).hasClass("jqgrid-new-row")?t.addoper:t.editoper,n(r).jqGrid("saveRow",f,i.editParams)&&n(r).jqGrid("showAddEditButtons")):(n.jgrid.viewModal("#alertmod",{gbox:"#gbox_"+u,jqm:!0}),n("#jqg_alrt").focus())}}),n("#"+u+"_ilsave").addClass("ui-state-disabled"));i.cancel&&(n(r).jqGrid("navButtonAdd",t,{caption:i.canceltext||"",title:i.canceltitle||"Cancel row editing",buttonicon:i.cancelicon,id:r.p.id+"_ilcancel",onClickButton:function(){var t=r.p.savedRow[0].id;t?(n(r).jqGrid("restoreRow",t,i.editParams),n(r).jqGrid("showAddEditButtons")):(n.jgrid.viewModal("#alertmod",{gbox:"#gbox_"+u,jqm:!0}),n("#jqg_alrt").focus())}}),n("#"+u+"_ilcancel").addClass("ui-state-disabled"));!0===i.restoreAfterSelect&&(o=n.isFunction(r.p.beforeSelectRow)?r.p.beforeSelectRow:!1,r.p.beforeSelectRow=function(t,u){var f=!0;return r.p.savedRow.length>0&&r.p._inlinenav===!0&&t!==r.p.selrow&&r.p.selrow!==null&&(r.p.selrow==i.addParams.rowID?n(r).jqGrid("delRowData",r.p.selrow):n(r).jqGrid("restoreRow",r.p.selrow,i.editParams),n(r).jqGrid("showAddEditButtons")),o&&(f=o.call(r,t,u)),f})}})},showAddEditButtons:function(){return this.each(function(){if(this.grid){var t=n.jgrid.jqID(this.p.id);n("#"+t+"_ilsave").addClass("ui-state-disabled");n("#"+t+"_ilcancel").addClass("ui-state-disabled");n("#"+t+"_iladd").removeClass("ui-state-disabled");n("#"+t+"_iledit").removeClass("ui-state-disabled")}})}})}(jQuery),function(n){n.jgrid.extend({editCell:function(t,i,r){return this.each(function(){var u=this,e,f,o,s,h,c;if(u.grid&&!0===u.p.cellEdit){if(i=parseInt(i,10),u.p.selrow=u.rows[t].id,u.p.knv||n(u).jqGrid("GridNav"),0<u.p.savedRow.length){if(!0===r&&t==u.p.iRow&&i==u.p.iCol)return;n(u).jqGrid("saveCell",u.p.savedRow[0].id,u.p.savedRow[0].ic)}else window.setTimeout(function(){n("#"+n.jgrid.jqID(u.p.knv)).attr("tabindex","-1").focus()},0);if(s=u.p.colModel[i],e=s.name,!("subgrid"==e||"cb"==e||"rn"==e)){if(o=n("td:eq("+i+")",u.rows[t]),!0!==s.editable||!0!==r||o.hasClass("not-editable-cell"))0<=parseInt(u.p.iCol,10)&&0<=parseInt(u.p.iRow,10)&&(n("td:eq("+u.p.iCol+")",u.rows[u.p.iRow]).removeClass("edit-cell ui-state-highlight"),n(u.rows[u.p.iRow]).removeClass("selected-row ui-state-hover")),o.addClass("edit-cell ui-state-highlight"),n(u.rows[t]).addClass("selected-row ui-state-hover"),f=o.html().replace(/\&#160\;/ig,""),n(u).triggerHandler("jqGridSelectCell",[u.rows[t].id,e,f,t,i]),n.isFunction(u.p.onSelectCell)&&u.p.onSelectCell.call(u,u.rows[t].id,e,f,t,i);else{0<=parseInt(u.p.iCol,10)&&0<=parseInt(u.p.iRow,10)&&(n("td:eq("+u.p.iCol+")",u.rows[u.p.iRow]).removeClass("edit-cell ui-state-highlight"),n(u.rows[u.p.iRow]).removeClass("selected-row ui-state-hover"));n(o).addClass("edit-cell ui-state-highlight");n(u.rows[t]).addClass("selected-row ui-state-hover");try{f=n.unformat.call(u,o,{rowId:u.rows[t].id,colModel:s},i)}catch(l){f=s.edittype&&"textarea"==s.edittype?n(o).text():n(o).html()}u.p.autoencode&&(f=n.jgrid.htmlDecode(f));s.edittype||(s.edittype="text");u.p.savedRow.push({id:t,ic:i,name:e,v:f});("&nbsp;"===f||"&#160;"===f||1===f.length&&160===f.charCodeAt(0))&&(f="");n.isFunction(u.p.formatCell)&&(h=u.p.formatCell.call(u,u.rows[t].id,e,f,t,i),void 0!==h&&(f=h));h=n.extend({},s.editoptions||{},{id:t+"_"+e,name:e});c=n.jgrid.createEl.call(u,s.edittype,h,f,!0,n.extend({},n.jgrid.ajaxOptions,u.p.ajaxSelectOptions||{}));n(u).triggerHandler("jqGridBeforeEditCell",[u.rows[t].id,e,f,t,i]);n.isFunction(u.p.beforeEditCell)&&u.p.beforeEditCell.call(u,u.rows[t].id,e,f,t,i);n(o).html("").append(c).attr("tabindex","0");n.jgrid.bindEv(c,h,u);window.setTimeout(function(){n(c).focus()},0);n("input, select, textarea",o).bind("keydown",function(r){if(r.keyCode===27&&(n("input.hasDatepicker",o).length>0?n(".ui-datepicker").is(":hidden")?n(u).jqGrid("restoreCell",t,i):n("input.hasDatepicker",o).datepicker("hide"):n(u).jqGrid("restoreCell",t,i)),r.keyCode===13)return n(u).jqGrid("saveCell",t,i),!1;if(r.keyCode===9){if(u.grid.hDiv.loading)return!1;r.shiftKey?n(u).jqGrid("prevCell",t,i):n(u).jqGrid("nextCell",t,i)}r.stopPropagation()});n(u).triggerHandler("jqGridAfterEditCell",[u.rows[t].id,e,f,t,i]);n.isFunction(u.p.afterEditCell)&&u.p.afterEditCell.call(u,u.rows[t].id,e,f,t,i)}u.p.iCol=i;u.p.iRow=t}}})},saveCell:function(t,i){return this.each(function(){var r=this,e,h,v,l,p,c;if(r.grid&&!0===r.p.cellEdit){if(e=1<=r.p.savedRow.length?0:null,null!==e){var a=n("td:eq("+i+")",r.rows[t]),u,o,s=r.p.colModel[i],f=s.name,h=n.jgrid.jqID(f);switch(s.edittype){case"select":s.editoptions.multiple?(h=n("#"+t+"_"+h,r.rows[t]),v=[],(u=n(h).val())?u.join(","):u="",n("option:selected",h).each(function(t,i){v[t]=n(i).text()}),o=v.join(",")):(u=n("#"+t+"_"+h+" option:selected",r.rows[t]).val(),o=n("#"+t+"_"+h+" option:selected",r.rows[t]).text());s.formatter&&(o=u);break;case"checkbox":l=["Yes","No"];s.editoptions&&(l=s.editoptions.value.split(":"));o=u=n("#"+t+"_"+h,r.rows[t]).is(":checked")?l[0]:l[1];break;case"password":case"text":case"textarea":case"button":o=u=n("#"+t+"_"+h,r.rows[t]).val();break;case"custom":try{if(s.editoptions&&n.isFunction(s.editoptions.custom_value)){if(u=s.editoptions.custom_value.call(r,n(".customelement",a),"get"),void 0===u)throw"e2";o=u}else throw"e1";}catch(y){"e1"==y&&n.jgrid.info_dialog(n.jgrid.errors.errcap,"function 'custom_value' "+n.jgrid.edit.msg.nodefined,n.jgrid.edit.bClose);"e2"==y?n.jgrid.info_dialog(n.jgrid.errors.errcap,"function 'custom_value' "+n.jgrid.edit.msg.novalue,n.jgrid.edit.bClose):n.jgrid.info_dialog(n.jgrid.errors.errcap,y.message,n.jgrid.edit.bClose)}}if(o!==r.p.savedRow[e].v)if((e=n(r).triggerHandler("jqGridBeforeSaveCell",[r.rows[t].id,f,u,t,i]))&&(o=u=e),n.isFunction(r.p.beforeSaveCell)&&(e=r.p.beforeSaveCell.call(r,r.rows[t].id,f,u,t,i))&&(o=u=e),p=n.jgrid.checkValues(u,i,r),!0===p[0]){if(e=n(r).triggerHandler("jqGridBeforeSubmitCell",[r.rows[t].id,f,u,t,i])||{},n.isFunction(r.p.beforeSubmitCell)&&((e=r.p.beforeSubmitCell.call(r,r.rows[t].id,f,u,t,i))||(e={})),0<n("input.hasDatepicker",a).length&&n("input.hasDatepicker",a).datepicker("hide"),"remote"==r.p.cellsubmit)if(r.p.cellurl)c={},r.p.autoencode&&(u=n.jgrid.htmlEncode(u)),c[f]=u,l=r.p.prmNames,s=l.id,h=l.oper,c[s]=n.jgrid.stripPref(r.p.idPrefix,r.rows[t].id),c[h]=l.editoper,c=n.extend(e,c),n("#lui_"+n.jgrid.jqID(r.p.id)).show(),r.grid.hDiv.loading=!0,n.ajax(n.extend({url:r.p.cellurl,data:n.isFunction(r.p.serializeCellData)?r.p.serializeCellData.call(r,c):c,type:"POST",complete:function(e,s){if(n("#lui_"+r.p.id).hide(),r.grid.hDiv.loading=!1,s=="success"){var h=n(r).triggerHandler("jqGridAfterSubmitCell",[r,e,c.id,f,u,t,i])||[!0,""];h[0]===!0&&n.isFunction(r.p.afterSubmitCell)&&(h=r.p.afterSubmitCell.call(r,e,c.id,f,u,t,i));h[0]===!0?(n(a).empty(),n(r).jqGrid("setCell",r.rows[t].id,i,o,!1,!1,!0),n(a).addClass("dirty-cell"),n(r.rows[t]).addClass("edited"),n(r).triggerHandler("jqGridAfterSaveCell",[r.rows[t].id,f,u,t,i]),n.isFunction(r.p.afterSaveCell)&&r.p.afterSaveCell.call(r,r.rows[t].id,f,u,t,i),r.p.savedRow.splice(0,1)):(n.jgrid.info_dialog(n.jgrid.errors.errcap,h[1],n.jgrid.edit.bClose),n(r).jqGrid("restoreCell",t,i))}},error:function(u,f,e){n("#lui_"+n.jgrid.jqID(r.p.id)).hide();r.grid.hDiv.loading=!1;n(r).triggerHandler("jqGridErrorCell",[u,f,e]);n.isFunction(r.p.errorCell)?r.p.errorCell.call(r,u,f,e):n.jgrid.info_dialog(n.jgrid.errors.errcap,u.status+" : "+u.statusText+"<br/>"+f,n.jgrid.edit.bClose);n(r).jqGrid("restoreCell",t,i)}},n.jgrid.ajaxOptions,r.p.ajaxCellOptions||{}));else try{n.jgrid.info_dialog(n.jgrid.errors.errcap,n.jgrid.errors.nourl,n.jgrid.edit.bClose);n(r).jqGrid("restoreCell",t,i)}catch(w){}"clientArray"==r.p.cellsubmit&&(n(a).empty(),n(r).jqGrid("setCell",r.rows[t].id,i,o,!1,!1,!0),n(a).addClass("dirty-cell"),n(r.rows[t]).addClass("edited"),n(r).triggerHandler("jqGridAfterSaveCell",[r.rows[t].id,f,u,t,i]),n.isFunction(r.p.afterSaveCell)&&r.p.afterSaveCell.call(r,r.rows[t].id,f,u,t,i),r.p.savedRow.splice(0,1))}else try{window.setTimeout(function(){n.jgrid.info_dialog(n.jgrid.errors.errcap,u+" "+p[1],n.jgrid.edit.bClose)},100);n(r).jqGrid("restoreCell",t,i)}catch(b){}else n(r).jqGrid("restoreCell",t,i)}window.setTimeout(function(){n("#"+n.jgrid.jqID(r.p.knv)).attr("tabindex","-1").focus()},0)}})},restoreCell:function(t,i){return this.each(function(){var r=this,u,f;if(r.grid&&!0===r.p.cellEdit){if(u=1<=r.p.savedRow.length?0:null,null!==u){if(f=n("td:eq("+i+")",r.rows[t]),n.isFunction(n.fn.datepicker))try{n("input.hasDatepicker",f).datepicker("hide")}catch(e){}n(f).empty().attr("tabindex","-1");n(r).jqGrid("setCell",r.rows[t].id,i,r.p.savedRow[u].v,!1,!1,!0);n(r).triggerHandler("jqGridAfterRestoreCell",[r.rows[t].id,r.p.savedRow[u].v,t,i]);n.isFunction(r.p.afterRestoreCell)&&r.p.afterRestoreCell.call(r,r.rows[t].id,r.p.savedRow[u].v,t,i);r.p.savedRow.splice(0,1)}window.setTimeout(function(){n("#"+r.p.knv).attr("tabindex","-1").focus()},0)}})},nextCell:function(t,i){return this.each(function(){var u=!1,r;if(this.grid&&!0===this.p.cellEdit){for(r=i+1;r<this.p.colModel.length;r++)if(!0===this.p.colModel[r].editable){u=r;break}!1!==u?n(this).jqGrid("editCell",t,u,!0):0<this.p.savedRow.length&&n(this).jqGrid("saveCell",t,i)}})},prevCell:function(t,i){return this.each(function(){var u=!1,r;if(this.grid&&!0===this.p.cellEdit){for(r=i-1;0<=r;r--)if(!0===this.p.colModel[r].editable){u=r;break}!1!==u?n(this).jqGrid("editCell",t,u,!0):0<this.p.savedRow.length&&n(this).jqGrid("saveCell",t,i)}})},GridNav:function(){return this.each(function(){function u(i,r,u){if("v"==u.substr(0,1)){var f=n(t.grid.bDiv)[0].clientHeight,e=n(t.grid.bDiv)[0].scrollTop,o=t.rows[i].offsetTop+t.rows[i].clientHeight,s=t.rows[i].offsetTop;"vd"==u&&o>=f&&(n(t.grid.bDiv)[0].scrollTop=n(t.grid.bDiv)[0].scrollTop+t.rows[i].clientHeight);"vu"==u&&s<e&&(n(t.grid.bDiv)[0].scrollTop=n(t.grid.bDiv)[0].scrollTop-t.rows[i].clientHeight)}"h"==u&&(u=n(t.grid.bDiv)[0].clientWidth,f=n(t.grid.bDiv)[0].scrollLeft,e=t.rows[i].cells[r].offsetLeft,t.rows[i].cells[r].offsetLeft+t.rows[i].cells[r].clientWidth>=u+parseInt(f,10)?n(t.grid.bDiv)[0].scrollLeft=n(t.grid.bDiv)[0].scrollLeft+t.rows[i].cells[r].clientWidth:e<f&&(n(t.grid.bDiv)[0].scrollLeft=n(t.grid.bDiv)[0].scrollLeft-t.rows[i].cells[r].clientWidth))}function f(n,i){var u,r;if("lft"==i)for(u=n+1,r=n;0<=r;r--)if(!0!==t.p.colModel[r].hidden){u=r;break}if("rgt"==i)for(u=n-1,r=n;r<t.p.colModel.length;r++)if(!0!==t.p.colModel[r].hidden){u=r;break}return u}var t=this,e,i,r;t.grid&&!0===t.p.cellEdit&&(t.p.knv=t.p.id+"_kn",e=n("<div style='position:fixed;top:-1000000px;width:1px;height:1px;' tabindex='0'><div tabindex='-1' style='width:1px;height:1px;' id='"+t.p.knv+"'><\/div><\/div>"),n(e).insertBefore(t.grid.cDiv),n("#"+t.p.knv).focus().keydown(function(e){r=e.keyCode;"rtl"==t.p.direction&&(37===r?r=39:39===r&&(r=37));switch(r){case 38:0<t.p.iRow-1&&(u(t.p.iRow-1,t.p.iCol,"vu"),n(t).jqGrid("editCell",t.p.iRow-1,t.p.iCol,!1));break;case 40:t.p.iRow+1<=t.rows.length-1&&(u(t.p.iRow+1,t.p.iCol,"vd"),n(t).jqGrid("editCell",t.p.iRow+1,t.p.iCol,!1));break;case 37:0<=t.p.iCol-1&&(i=f(t.p.iCol-1,"lft"),u(t.p.iRow,i,"h"),n(t).jqGrid("editCell",t.p.iRow,i,!1));break;case 39:t.p.iCol+1<=t.p.colModel.length-1&&(i=f(t.p.iCol+1,"rgt"),u(t.p.iRow,i,"h"),n(t).jqGrid("editCell",t.p.iRow,i,!1));break;case 13:0<=parseInt(t.p.iCol,10)&&0<=parseInt(t.p.iRow,10)&&n(t).jqGrid("editCell",t.p.iRow,t.p.iCol,!0);break;default:return!0}return!1}))})},getChangedCells:function(t){var i=[];return t||(t="all"),this.each(function(){var r=this,u;r.grid&&!0===r.p.cellEdit&&n(r.rows).each(function(f){var e={};n(this).hasClass("edited")&&(n("td",this).each(function(i){if(u=r.p.colModel[i].name,"cb"!==u&&"subgrid"!==u)if("dirty"==t){if(n(this).hasClass("dirty-cell"))try{e[u]=n.unformat.call(r,this,{rowId:r.rows[f].id,colModel:r.p.colModel[i]},i)}catch(o){e[u]=n.jgrid.htmlDecode(n(this).html())}}else try{e[u]=n.unformat.call(r,this,{rowId:r.rows[f].id,colModel:r.p.colModel[i]},i)}catch(s){e[u]=n.jgrid.htmlDecode(n(this).html())}}),e.id=this.id,i.push(e))})}),i}})}(jQuery),function(n){n.fn.jqm=function(r){var f={overlay:50,closeoverlay:!0,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:t,ajaxText:"",target:t,modal:t,toTop:t,onShow:t,onHide:t,onLoad:t};return this.each(function(){if(this._jqm)return i[this._jqm].c=n.extend({},i[this._jqm].c,r);u++;this._jqm=u;i[u]={c:n.extend(f,n.jqm.params,r),a:t,w:n(this).addClass("jqmID"+u),s:u};f.trigger&&n(this).jqmAddTrigger(f.trigger)})};n.fn.jqmAddClose=function(n){return s(this,n,"jqmHide")};n.fn.jqmAddTrigger=function(n){return s(this,n,"jqmShow")};n.fn.jqmShow=function(t){return this.each(function(){n.jqm.open(this._jqm,t)})};n.fn.jqmHide=function(t){return this.each(function(){n.jqm.close(this._jqm,t)})};n.jqm={hash:{},open:function(u,e){var s=i[u],h=s.c,a="."+h.closeClass,c=parseInt(s.w.css("z-index")),c=0<c?c:3e3,l=n("<div><\/div>").css({height:"100%",width:"100%",position:"fixed",left:0,top:0,"z-index":c-1,opacity:h.overlay/100});return s.a?t:(s.t=e,s.a=!0,s.w.css("z-index",c),h.modal?(r[0]||setTimeout(function(){o("bind")},1),r.push(u)):0<h.overlay?h.closeoverlay&&s.w.jqmAddClose(l):l=t,s.o=l?l.addClass(h.overlayClass).prependTo("body"):t,h.ajax?(c=h.target||s.w,l=h.ajax,c="string"==typeof c?n(c,s.w):n(c),l="@"==l.substr(0,1)?n(e).attr(l.substring(1)):l,c.html(h.ajaxText).load(l,function(){h.onLoad&&h.onLoad.call(this,s);a&&s.w.jqmAddClose(n(a,s.w));f(s)})):a&&s.w.jqmAddClose(n(a,s.w)),h.toTop&&s.o&&s.w.before('<span id="jqmP'+s.w[0]._jqm+'"><\/span>').insertAfter(s.o),h.onShow?h.onShow(s):s.w.show(),f(s),t)},close:function(u){if(u=i[u],!u.a)return t;if(u.a=t,r[0]&&(r.pop(),r[0]||o("unbind")),u.c.toTop&&u.o&&n("#jqmP"+u.w[0]._jqm).after(u.w).remove(),u.c.onHide)u.c.onHide(u);else u.w.hide(),u.o&&u.o.remove();return t},params:{}};var u=0,i=n.jqm.hash,r=[],t=!1,f=function(t){try{n(":input:visible",t.w)[0].focus()}catch(i){}},o=function(t){n(document)[t]("keypress",e)[t]("keydown",e)[t]("mousedown",e)},e=function(t){var u=i[r[r.length-1]];return(t=!n(t.target).parents(".jqmID"+u.s)[0])&&f(u),!t},s=function(r,u,f){return r.each(function(){var r=this._jqm;n(u).each(function(){this[f]||(this[f]=[],n(this).click(function(){var n,r;for(n in{jqmShow:1,jqmHide:1})for(r in this[n])i[this[n][r]]&&i[this[n][r]].w[n](this);return t}));this[f].push(r)})})}}(jQuery),function(n){n.fn.jqDrag=function(n){return s(this,n,"d")};n.fn.jqResize=function(n,t){return s(this,n,"r",t)};n.jqDnR={dnr:{},e:0,drag:function(n){return"d"==t.k?i.css({left:t.X+n.pageX-t.pX,top:t.Y+n.pageY-t.pY}):(i.css({width:Math.max(n.pageX-t.pX+t.W,0),height:Math.max(n.pageY-t.pY+t.H,0)}),u&&r.css({width:Math.max(n.pageX-u.pX+u.W,0),height:Math.max(n.pageY-u.pY+u.H,0)})),!1},stop:function(){n(document).unbind("mousemove",f.drag).unbind("mouseup",f.stop)}};var f=n.jqDnR,t=f.dnr,i=f.e,r,u,s=function(f,s,h,c){return f.each(function(){s=s?n(s,f):f;s.bind("mousedown",{e:f,k:h},function(f){var h=f.data,s={};if(i=h.e,r=c?n(c):!1,"relative"!=i.css("position"))try{i.position(s)}catch(l){}if(t={X:s.left||e("left")||0,Y:s.top||e("top")||0,W:e("width")||i[0].scrollWidth||0,H:e("height")||i[0].scrollHeight||0,pX:f.pageX,pY:f.pageY,k:h.k},u=r&&"d"!=h.k?{X:s.left||o("left")||0,Y:s.top||o("top")||0,W:r[0].offsetWidth||o("width")||0,H:r[0].offsetHeight||o("height")||0,pX:f.pageX,pY:f.pageY,k:h.k}:!1,n("input.hasDatepicker",i[0])[0])try{n("input.hasDatepicker",i[0]).datepicker("hide")}catch(a){}return n(document).mousemove(n.jqDnR.drag).mouseup(n.jqDnR.stop),!1})})},e=function(n){return parseInt(i.css(n),10)||!1},o=function(n){return parseInt(r.css(n),10)||!1}}(jQuery),function(n){n.jgrid.extend({setSubGrid:function(){return this.each(function(){var t,i;if(this.p.subGridOptions=n.extend({plusicon:"ui-icon-plus",minusicon:"ui-icon-minus",openicon:"ui-icon-carat-1-sw",expandOnLoad:!1,delayOnLoad:50,selectOnExpand:!1,reloadOnExpand:!0},this.p.subGridOptions||{}),this.p.colNames.unshift(""),this.p.colModel.unshift({name:"subgrid",width:n.jgrid.cell_width?this.p.subGridWidth+this.p.cellLayout:this.p.subGridWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,fixed:!0}),t=this.p.subGridModel,t[0])for(t[0].align=n.extend([],t[0].align||[]),i=0;i<t[0].name.length;i++)t[0].align[i]=t[0].align[i]||"left"})},addSubGridCell:function(n,t){var i="",r,u;return this.each(function(){i=this.formatCol(n,t);u=this.p.id;r=this.p.subGridOptions.plusicon}),'<td role="gridcell" aria-describedby="'+u+'_subgrid" class="ui-sgcollapsed sgcollapsed" '+i+"><a href='javascript:void(0);'><span class='ui-icon "+r+"'><\/span><\/a><\/td>"},addSubGrid:function(t,i){return this.each(function(){var r=this,c,s;if(r.grid){var h=function(t,i,u){i=n("<td align='"+r.p.subGridModel[0].align[u]+"'><\/td>").html(i);n(t).append(i)},l=function(t,i){for(var f,o,s=n("<table cellspacing='0' cellpadding='0' border='0'><tbody><\/tbody><\/table>"),e=n("<tr><\/tr>"),u=0;u<r.p.subGridModel[0].name.length;u++)f=n("<th class='ui-state-default ui-th-subgrid ui-th-column ui-th-"+r.p.direction+"'><\/th>"),n(f).html(r.p.subGridModel[0].name[u]),n(f).width(r.p.subGridModel[0].width[u]),n(e).append(f);return n(s).append(e),t&&(o=r.p.xmlReader.subgrid,n(o.root+" "+o.row,t).each(function(){if(e=n("<tr class='ui-widget-content ui-subtblcell'><\/tr>"),!0===o.repeatitems)n(o.cell,this).each(function(t){h(e,n(this).text()||"&#160;",t)});else{var t=r.p.subGridModel[0].mapping||r.p.subGridModel[0].name;if(t)for(u=0;u<t.length;u++)h(e,n(t[u],this).text()||"&#160;",u)}n(s).append(e)})),f=n("table:first",r.grid.bDiv).attr("id")+"_",n("#"+n.jgrid.jqID(f+i)).append(s),r.grid.hDiv.loading=!1,n("#load_"+n.jgrid.jqID(r.p.id)).hide(),!1},a=function(t,i){for(var e,o,c,f,a=n("<table cellspacing='0' cellpadding='0' border='0'><tbody><\/tbody><\/table>"),s=n("<tr><\/tr>"),l,u=0;u<r.p.subGridModel[0].name.length;u++)e=n("<th class='ui-state-default ui-th-subgrid ui-th-column ui-th-"+r.p.direction+"'><\/th>"),n(e).html(r.p.subGridModel[0].name[u]),n(e).width(r.p.subGridModel[0].width[u]),n(s).append(e);if(n(a).append(s),t&&(c=r.p.jsonReader.subgrid,e=n.jgrid.getAccessor(t,c.root),void 0!==e))for(u=0;u<e.length;u++){if(o=e[u],s=n("<tr class='ui-widget-content ui-subtblcell'><\/tr>"),!0===c.repeatitems)for(c.cell&&(o=o[c.cell]),f=0;f<o.length;f++)h(s,o[f]||"&#160;",f);else if(l=r.p.subGridModel[0].mapping||r.p.subGridModel[0].name,l.length)for(f=0;f<l.length;f++)h(s,o[l[f]]||"&#160;",f);n(a).append(s)}return u=n("table:first",r.grid.bDiv).attr("id")+"_",n("#"+n.jgrid.jqID(u+i)).append(a),r.grid.hDiv.loading=!1,n("#load_"+n.jgrid.jqID(r.p.id)).hide(),!1},p=function(t){var f,i,u,e;if(f=n(t).attr("id"),i={nd_:(new Date).getTime()},i[r.p.prmNames.subgridid]=f,!r.p.subGridModel[0])return!1;if(r.p.subGridModel[0].params)for(e=0;e<r.p.subGridModel[0].params.length;e++)for(u=0;u<r.p.colModel.length;u++)r.p.colModel[u].name===r.p.subGridModel[0].params[e]&&(i[r.p.colModel[u].name]=n("td:eq("+u+")",t).text().replace(/\&#160\;/ig,""));if(!r.grid.hDiv.loading)switch(r.grid.hDiv.loading=!0,n("#load_"+n.jgrid.jqID(r.p.id)).show(),r.p.subgridtype||(r.p.subgridtype=r.p.datatype),n.isFunction(r.p.subgridtype)?r.p.subgridtype.call(r,i):r.p.subgridtype=r.p.subgridtype.toLowerCase(),r.p.subgridtype){case"xml":case"json":n.ajax(n.extend({type:r.p.mtype,url:r.p.subGridUrl,dataType:r.p.subgridtype,data:n.isFunction(r.p.serializeSubGridData)?r.p.serializeSubGridData.call(r,i):i,complete:function(t){r.p.subgridtype==="xml"?l(t.responseXML,f):a(n.jgrid.parse(t.responseText),f)}},n.jgrid.ajaxOptions,r.p.ajaxSubgridOptions||{}))}return!1},u,e,v,y=0,f,o;for(n.each(r.p.colModel,function(){(!0===this.hidden||"rn"===this.name||"cb"===this.name)&&y++}),c=r.rows.length,s=1,void 0!==i&&0<i&&(s=i,c=i+1);s<c;)n(r.rows[s]).hasClass("jqgrow")&&n(r.rows[s].cells[t]).bind("click",function(){var i=n(this).parent("tr")[0];if(o=i.nextSibling,n(this).hasClass("sgcollapsed")){if(e=r.p.id,u=i.id,r.p.subGridOptions.reloadOnExpand!==!0&&(r.p.subGridOptions.reloadOnExpand!==!1||n(o).hasClass("ui-subgrid")))n(o).show();else{if(v=t>=1?"<td colspan='"+t+"'>&#160;<\/td>":"",f=n(r).triggerHandler("jqGridSubGridBeforeExpand",[e+"_"+u,u]),(f=f===!1||f==="stop"?!1:!0)&&n.isFunction(r.p.subGridBeforeExpand)&&(f=r.p.subGridBeforeExpand.call(r,e+"_"+u,u)),f===!1)return!1;n(i).after("<tr role='row' class='ui-subgrid'>"+v+"<td class='ui-widget-content subgrid-cell'><span class='ui-icon "+r.p.subGridOptions.openicon+"'><\/span><\/td><td colspan='"+parseInt(r.p.colNames.length-1-y,10)+"' class='ui-widget-content subgrid-data'><div id="+e+"_"+u+" class='tablediv'><\/div><\/td><\/tr>");n(r).triggerHandler("jqGridSubGridRowExpanded",[e+"_"+u,u]);n.isFunction(r.p.subGridRowExpanded)?r.p.subGridRowExpanded.call(r,e+"_"+u,u):p(i)}n(this).html("<a href='javascript:void(0);'><span class='ui-icon "+r.p.subGridOptions.minusicon+"'><\/span><\/a>").removeClass("sgcollapsed").addClass("sgexpanded");r.p.subGridOptions.selectOnExpand&&n(r).jqGrid("setSelection",u)}else if(n(this).hasClass("sgexpanded")){if(f=n(r).triggerHandler("jqGridSubGridRowColapsed",[e+"_"+u,u]),(f=f===!1||f==="stop"?!1:!0)&&n.isFunction(r.p.subGridRowColapsed)&&(u=i.id,f=r.p.subGridRowColapsed.call(r,e+"_"+u,u)),f===!1)return!1;r.p.subGridOptions.reloadOnExpand===!0?n(o).remove(".ui-subgrid"):n(o).hasClass("ui-subgrid")&&n(o).hide();n(this).html("<a href='javascript:void(0);'><span class='ui-icon "+r.p.subGridOptions.plusicon+"'><\/span><\/a>").removeClass("sgexpanded").addClass("sgcollapsed")}return!1}),s++;!0===r.p.subGridOptions.expandOnLoad&&n(r.rows).filter(".jqgrow").each(function(t,i){n(i.cells[0]).click()});r.subGridXml=function(n,t){l(n,t)};r.subGridJson=function(n,t){a(n,t)}}})},expandSubGridRow:function(t){return this.each(function(){if((this.grid||t)&&!0===this.p.subGrid){var i=n(this).jqGrid("getInd",t,!0);i&&(i=n("td.sgcollapsed",i)[0])&&n(i).trigger("click")}})},collapseSubGridRow:function(t){return this.each(function(){if((this.grid||t)&&!0===this.p.subGrid){var i=n(this).jqGrid("getInd",t,!0);i&&(i=n("td.sgexpanded",i)[0])&&n(i).trigger("click")}})},toggleSubGridRow:function(t){return this.each(function(){var r,i;(this.grid||t)&&!0===this.p.subGrid&&(r=n(this).jqGrid("getInd",t,!0),r&&(i=n("td.sgcollapsed",r)[0],i?n(i).trigger("click"):(i=n("td.sgexpanded",r)[0])&&n(i).trigger("click")))})}})}(jQuery),function(n){n.extend(n.jgrid,{template:function(t){var r=n.makeArray(arguments).slice(1),i,u=r.length;return null==t&&(t=""),t.replace(/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,function(t,f){if(!isNaN(parseInt(f,10)))return r[parseInt(f,10)];for(i=0;i<u;i++)if(n.isArray(r[i]))for(var e=r[i],o=e.length;o--;)if(f===e[o].nm)return e[o].v})}});n.jgrid.extend({groupingSetup:function(){return this.each(function(){var i,u,r=this.p.colModel,t=this.p.groupingView;if(null!==t&&("object"==typeof t||n.isFunction(t)))if(t.groupField.length){for(void 0===t.visibiltyOnNextGrouping&&(t.visibiltyOnNextGrouping=[]),t.lastvalues=[],t.groups=[],t.counters=[],i=0;i<t.groupField.length;i++)t.groupOrder[i]||(t.groupOrder[i]="asc"),t.groupText[i]||(t.groupText[i]="{0}"),"boolean"!=typeof t.groupColumnShow[i]&&(t.groupColumnShow[i]=!0),"boolean"!=typeof t.groupSummary[i]&&(t.groupSummary[i]=!1),!0===t.groupColumnShow[i]?(t.visibiltyOnNextGrouping[i]=!0,n(this).jqGrid("showCol",t.groupField[i])):(t.visibiltyOnNextGrouping[i]=n("#"+n.jgrid.jqID(this.p.id+"_"+t.groupField[i])).is(":visible"),n(this).jqGrid("hideCol",t.groupField[i]));for(t.summary=[],i=0,u=r.length;i<u;i++)r[i].summaryType&&t.summary.push({nm:r[i].name,st:r[i].summaryType,v:"",sr:r[i].summaryRound,srt:r[i].summaryRoundType||"round"})}else this.p.grouping=!1;else this.p.grouping=!1})},groupingPrepare:function(t,i,r,u){return this.each(function(){for(var f=this.p.groupingView,c=this,a=f.groupField.length,h,o,s,l=0,e=0;e<a;e++)h=f.groupField[e],s=f.displayField[e],o=r[h],s=null==s?null:r[s],null==s&&(s=o),void 0!==o&&(0===u?(f.groups.push({idx:e,dataIndex:h,value:o,displayValue:s,startRow:u,cnt:1,summary:[]}),f.lastvalues[e]=o,f.counters[e]={cnt:1,pos:f.groups.length-1,summary:n.extend(!0,[],f.summary)}):"object"!=typeof o&&f.lastvalues[e]!==o?(f.groups.push({idx:e,dataIndex:h,value:o,displayValue:s,startRow:u,cnt:1,summary:[]}),f.lastvalues[e]=o,l=1,f.counters[e]={cnt:1,pos:f.groups.length-1,summary:n.extend(!0,[],f.summary)}):1===l?(f.groups.push({idx:e,dataIndex:h,value:o,displayValue:s,startRow:u,cnt:1,summary:[]}),f.lastvalues[e]=o,f.counters[e]={cnt:1,pos:f.groups.length-1,summary:n.extend(!0,[],f.summary)}):(f.counters[e].cnt+=1,f.groups[f.counters[e].pos].cnt=f.counters[e].cnt),n.each(f.counters[e].summary,function(){this.v=n.isFunction(this.st)?this.st.call(c,this.v,this.nm,r):n(c).jqGrid("groupingCalculations.handler",this.st,this.v,this.nm,this.sr,this.srt,r)}),f.groups[f.counters[e].pos].summary=f.counters[e].summary);i.push(t)}),i},groupingToggle:function(t){return this.each(function(){var u=this.p.groupingView,r=t.split("_"),f=parseInt(r[r.length-2],10);r.splice(r.length-2,2);var r=r.join("_"),e=u.minusicon,o=u.plusicon,i=n("#"+n.jgrid.jqID(t)),i=i.length?i[0].nextSibling:null,s=n("#"+n.jgrid.jqID(t)+" span.tree-wrap-"+this.p.direction),h=!1;if(s.hasClass(e)){if(u.showSummaryOnHide){if(i)for(;i&&!(n(i).hasClass("jqfoot")&&parseInt(n(i).attr("jqfootlevel"),10)<=f);)n(i).hide(),i=i.nextSibling}else if(i)for(;i&&!n(i).hasClass(r+"_"+(""+f))&&!n(i).hasClass(r+"_"+(""+(f-1)));)n(i).hide(),i=i.nextSibling;s.removeClass(e).addClass(o);h=!0}else{if(i)for(;i&&!n(i).hasClass(r+"_"+(""+f))&&!n(i).hasClass(r+"_"+(""+(f-1)));)n(i).show(),(u=n(i).find("span.tree-wrap-"+this.p.direction))&&n(u).hasClass(o)&&n(u).removeClass(o).addClass(e),i=i.nextSibling;s.removeClass(o).addClass(e)}n(this).triggerHandler("jqGridGroupingClickGroup",[t,h]);n.isFunction(this.p.onClickGroup)&&this.p.onClickGroup.call(this,t,h)}),!1},groupingRender:function(t,i){return this.each(function(){function p(n,t,i){var r=!1,u;if(0===t)r=i[n];else if(u=i[n].idx,0===u)r=i[n];else for(;0<=n;n--)if(i[n].idx===u-t){r=i[n];break}return r}var u=this,r=u.p.groupingView,f="",l="",o,s,a=r.groupCollapse?r.plusicon:r.minusicon,h,v=[],y=r.groupField.length,a=a+(" tree-wrap-"+u.p.direction),e,c;n.each(u.p.colModel,function(n,t){for(var i=0;i<y;i++)if(r.groupField[i]===t.name){v[i]=n;break}});e=0;c=n.makeArray(r.groupSummary);c.reverse();n.each(r.groups,function(w,b){var k,g,d,et,nt,tt,it,rt,ut,ft;e++;s=u.p.id+"ghead_"+b.idx;o=s+"_"+w;l="<span style='cursor:pointer;' class='ui-icon "+a+"' onclick=\"jQuery('#"+n.jgrid.jqID(u.p.id)+"').jqGrid('groupingToggle','"+o+"');return false;\"><\/span>";try{h=u.formatter(o,b.displayValue,v[b.idx],b.value)}catch(ot){h=b.displayValue}if(f+='<tr id="'+o+'" role="row" class= "ui-widget-content jqgroup ui-row-'+u.p.direction+" "+s+'"><td style="padding-left:'+12*b.idx+'px;" colspan="'+i+'">'+l+n.jgrid.template(r.groupText[b.idx],h,b.cnt,b.summary)+"<\/td><\/tr>",y-1===b.idx){for(k=r.groups[w+1],et=void 0!==k?r.groups[w+1].startRow:t.length,d=b.startRow;d<et;d++)f+=t[d].join("");if(void 0!==k){for(nt=0;nt<r.groupField.length&&k.dataIndex!==r.groupField[nt];nt++);e=r.groupField.length-nt}for(k=0;k<e;k++)if(c[k]){for(d="",r.groupCollapse&&!r.showSummaryOnHide&&(d=' style="display:none;"'),f+="<tr"+d+' jqfootlevel="'+(b.idx-k)+'" role="row" class="ui-widget-content jqfoot ui-row-'+u.p.direction+'">',d=p(w,k,r.groups),tt=u.p.colModel,rt=d.cnt,g=0;g<i;g++)ut="<td "+u.formatCol(g,1,"")+">&#160;<\/td>",ft="{0}",n.each(d.summary,function(){if(this.nm===tt[g].name){tt[g].summaryTpl&&(ft=tt[g].summaryTpl);"string"==typeof this.st&&"avg"===this.st.toLowerCase()&&this.v&&0<rt&&(this.v/=rt);try{it=u.formatter("",this.v,g,this)}catch(t){it=this.v}return ut="<td "+u.formatCol(g,1,"")+">"+n.jgrid.format(ft,it)+"<\/td>",!1}}),f+=ut;f+="<\/tr>"}e=nt}});n("#"+n.jgrid.jqID(u.p.id)+" tbody:first").append(f);f=null})},groupingGroupBy:function(t,i){return this.each(function(){var u,r;for("string"==typeof t&&(t=[t]),u=this.p.groupingView,this.p.grouping=!0,void 0===u.visibiltyOnNextGrouping&&(u.visibiltyOnNextGrouping=[]),r=0;r<u.groupField.length;r++)!u.groupColumnShow[r]&&u.visibiltyOnNextGrouping[r]&&n(this).jqGrid("showCol",u.groupField[r]);for(r=0;r<t.length;r++)u.visibiltyOnNextGrouping[r]=n("#"+n.jgrid.jqID(this.p.id)+"_"+n.jgrid.jqID(t[r])).is(":visible");this.p.groupingView=n.extend(this.p.groupingView,i||{});u.groupField=t;n(this).trigger("reloadGrid")})},groupingRemove:function(t){return this.each(function(){if(void 0===t&&(t=!0),this.p.grouping=!1,!0===t){for(var r=this.p.groupingView,i=0;i<r.groupField.length;i++)!r.groupColumnShow[i]&&r.visibiltyOnNextGrouping[i]&&n(this).jqGrid("showCol",r.groupField);n("tr.jqgroup, tr.jqfoot","#"+n.jgrid.jqID(this.p.id)+" tbody:first").remove();n("tr.jqgrow:hidden","#"+n.jgrid.jqID(this.p.id)+" tbody:first").show()}else n(this).trigger("reloadGrid")})},groupingCalculations:{handler:function(n,t,i,r,u,f){var e={sum:function(){return parseFloat(t||0)+parseFloat(f[i]||0)},min:function(){return""===t?parseFloat(f[i]||0):Math.min(parseFloat(t),parseFloat(f[i]||0))},max:function(){return""===t?parseFloat(f[i]||0):Math.max(parseFloat(t),parseFloat(f[i]||0))},count:function(){return""===t&&(t=0),f.hasOwnProperty(i)?t+1:0},avg:function(){return e.sum()}};if(!e[n])throw"jqGrid Grouping No such method: "+n;return n=e[n](),null!=r&&("fixed"==u?n=n.toFixed(r):(r=Math.pow(10,r),n=Math.round(n*r)/r)),n}}})}(jQuery),function(n){n.jgrid.extend({setTreeNode:function(t,i){return this.each(function(){var r=this;if(r.grid&&r.p.treeGrid)for(var l=r.p.expColInd,o=r.p.treeReader.expanded_field,f=r.p.treeReader.leaf_field,v=r.p.treeReader.level_field,a=r.p.treeReader.icon_field,c=r.p.treeReader.loaded,s,h,e,u;t<i;)u=r.p.data[r.p._index[r.rows[t].id]],"nested"==r.p.treeGridModel&&!u[f]&&(s=parseInt(u[r.p.treeReader.left_field],10),h=parseInt(u[r.p.treeReader.right_field],10),u[f]=h===s+1?"true":"false",r.rows[t].cells[r.p._treeleafpos].innerHTML=u[f]),s=parseInt(u[v],10),0===r.p.tree_root_level?(e=s+1,h=s):(e=s,h=s-1),e="<div class='tree-wrap tree-wrap-"+r.p.direction+"' style='width:"+18*e+"px;'>",e+="<div style='"+("rtl"==r.p.direction?"right:":"left:")+18*h+"px;' class='ui-icon ",void 0!==u[c]&&(u[c]="true"==u[c]||!0===u[c]?!0:!1),"true"==u[f]||!0===u[f]?(e+=(void 0!==u[a]&&""!==u[a]?u[a]:r.p.treeIcons.leaf)+" tree-leaf treeclick",u[f]=!0,h="leaf"):(u[f]=!1,h=""),u[o]=("true"==u[o]||!0===u[o]?!0:!1)&&(u[c]||void 0===u[c]),e=!1===u[o]?e+(!0===u[f]?"'":r.p.treeIcons.plus+" tree-plus treeclick'"):e+(!0===u[f]?"'":r.p.treeIcons.minus+" tree-minus treeclick'"),e+="><\/div><\/div>",n(r.rows[t].cells[l]).wrapInner("<span class='cell-wrapper"+h+"'><\/span>").prepend(e),s!==parseInt(r.p.tree_root_level,10)&&((u=(u=n(r).jqGrid("getNodeParent",u))&&u.hasOwnProperty(o)?u[o]:!0)||n(r.rows[t]).css("display","none")),n(r.rows[t].cells[l]).find("div.treeclick").bind("click",function(t){return t=n(t.target||t.srcElement,r.rows).closest("tr.jqgrow")[0].id,t=r.p._index[t],r.p.data[t][f]||(r.p.data[t][o]?(n(r).jqGrid("collapseRow",r.p.data[t]),n(r).jqGrid("collapseNode",r.p.data[t])):(n(r).jqGrid("expandRow",r.p.data[t]),n(r).jqGrid("expandNode",r.p.data[t]))),!1}),!0===r.p.ExpandColClick&&n(r.rows[t].cells[l]).find("span.cell-wrapper").css("cursor","pointer").bind("click",function(t){var t=n(t.target||t.srcElement,r.rows).closest("tr.jqgrow")[0].id,i=r.p._index[t];return r.p.data[i][f]||(r.p.data[i][o]?(n(r).jqGrid("collapseRow",r.p.data[i]),n(r).jqGrid("collapseNode",r.p.data[i])):(n(r).jqGrid("expandRow",r.p.data[i]),n(r).jqGrid("expandNode",r.p.data[i]))),n(r).jqGrid("setSelection",t),!1}),t++})},setTreeGrid:function(){return this.each(function(){var t=this,i=0,e=!1,r,u,f,o=[];if(t.p.treeGrid){t.p.treedatatype||n.extend(t.p,{treedatatype:t.p.datatype});t.p.subGrid=!1;t.p.altRows=!1;t.p.pgbuttons=!1;t.p.pginput=!1;t.p.gridview=!0;null===t.p.rowTotal&&(t.p.rowNum=1e4);t.p.multiselect=!1;t.p.rowList=[];t.p.expColInd=0;t.p.treeIcons=n.extend({plus:"ui-icon-triangle-1-"+("rtl"==t.p.direction?"w":"e"),minus:"ui-icon-triangle-1-s",leaf:"ui-icon-radio-off"},t.p.treeIcons||{});"nested"==t.p.treeGridModel?t.p.treeReader=n.extend({level_field:"level",left_field:"lft",right_field:"rgt",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},t.p.treeReader):"adjacency"==t.p.treeGridModel&&(t.p.treeReader=n.extend({level_field:"level",parent_id_field:"parent",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},t.p.treeReader));for(u in t.p.colModel)if(t.p.colModel.hasOwnProperty(u))for(f in r=t.p.colModel[u].name,r==t.p.ExpandColumn&&!e&&(e=!0,t.p.expColInd=i),i++,t.p.treeReader)t.p.treeReader.hasOwnProperty(f)&&t.p.treeReader[f]==r&&o.push(r);n.each(t.p.treeReader,function(r,u){u&&n.inArray(u,o)===-1&&(r==="leaf_field"&&(t.p._treeleafpos=i),i++,t.p.colNames.push(u),t.p.colModel.push({name:u,width:1,hidden:!0,sortable:!1,resizable:!1,hidedlg:!0,editable:!0,search:!1}))})}})},expandRow:function(t){this.each(function(){var i=this;if(i.grid&&i.p.treeGrid){var r=n(i).jqGrid("getNodeChildren",t),u=i.p.treeReader.expanded_field,f=i.rows;n(r).each(function(){var t=n.jgrid.getAccessor(this,i.p.localReader.id);n(f.namedItem(t)).css("display","");this[u]&&n(i).jqGrid("expandRow",this)})}})},collapseRow:function(t){this.each(function(){var i=this;if(i.grid&&i.p.treeGrid){var r=n(i).jqGrid("getNodeChildren",t),u=i.p.treeReader.expanded_field,f=i.rows;n(r).each(function(){var t=n.jgrid.getAccessor(this,i.p.localReader.id);n(f.namedItem(t)).css("display","none");this[u]&&n(i).jqGrid("collapseRow",this)})}})},getRootNodes:function(){var t=[];return this.each(function(){var i=this,u,r;if(i.grid&&i.p.treeGrid)switch(i.p.treeGridModel){case"nested":u=i.p.treeReader.level_field;n(i.p.data).each(function(){parseInt(this[u],10)===parseInt(i.p.tree_root_level,10)&&t.push(this)});break;case"adjacency":r=i.p.treeReader.parent_id_field;n(i.p.data).each(function(){(null===this[r]||"null"==(""+this[r]).toLowerCase())&&t.push(this)})}}),t},getNodeDepth:function(t){var i=null;return this.each(function(){if(this.grid&&this.p.treeGrid)switch(this.p.treeGridModel){case"nested":i=parseInt(t[this.p.treeReader.level_field],10)-parseInt(this.p.tree_root_level,10);break;case"adjacency":i=n(this).jqGrid("getNodeAncestors",t).length}}),i},getNodeParent:function(t){var i=null;return this.each(function(){var e,o;if(this.grid&&this.p.treeGrid)switch(this.p.treeGridModel){case"nested":var r=this.p.treeReader.left_field,u=this.p.treeReader.right_field,f=this.p.treeReader.level_field,s=parseInt(t[r],10),h=parseInt(t[u],10),c=parseInt(t[f],10);n(this.p.data).each(function(){if(parseInt(this[f],10)===c-1&&parseInt(this[r],10)<s&&parseInt(this[u],10)>h)return i=this,!1});break;case"adjacency":e=this.p.treeReader.parent_id_field;o=this.p.localReader.id;n(this.p.data).each(function(){if(this[o]==t[e])return i=this,!1})}}),i},getNodeChildren:function(t){var i=[];return this.each(function(){var e,o;if(this.grid&&this.p.treeGrid)switch(this.p.treeGridModel){case"nested":var r=this.p.treeReader.left_field,u=this.p.treeReader.right_field,f=this.p.treeReader.level_field,s=parseInt(t[r],10),h=parseInt(t[u],10),c=parseInt(t[f],10);n(this.p.data).each(function(){parseInt(this[f],10)===c+1&&parseInt(this[r],10)>s&&parseInt(this[u],10)<h&&i.push(this)});break;case"adjacency":e=this.p.treeReader.parent_id_field;o=this.p.localReader.id;n(this.p.data).each(function(){this[e]==t[o]&&i.push(this)})}}),i},getFullTreeNode:function(t){var i=[];return this.each(function(){var u,e,o;if(this.grid&&this.p.treeGrid)switch(this.p.treeGridModel){case"nested":var r=this.p.treeReader.left_field,s=this.p.treeReader.right_field,f=this.p.treeReader.level_field,h=parseInt(t[r],10),c=parseInt(t[s],10),l=parseInt(t[f],10);n(this.p.data).each(function(){parseInt(this[f],10)>=l&&parseInt(this[r],10)>=h&&parseInt(this[r],10)<=c&&i.push(this)});break;case"adjacency":t&&(i.push(t),e=this.p.treeReader.parent_id_field,o=this.p.localReader.id,n(this.p.data).each(function(n){for(u=i.length,n=0;n<u;n++)if(i[n][o]==this[e]){i.push(this);break}}))}}),i},getNodeAncestors:function(t){var i=[];return this.each(function(){if(this.grid&&this.p.treeGrid)for(var r=n(this).jqGrid("getNodeParent",t);r;)i.push(r),r=n(this).jqGrid("getNodeParent",r)}),i},isVisibleNode:function(t){var i=!0;return this.each(function(){if(this.grid&&this.p.treeGrid){var r=n(this).jqGrid("getNodeAncestors",t),u=this.p.treeReader.expanded_field;n(r).each(function(){return i=i&&this[u],i?void 0:!1})}}),i},isNodeLoaded:function(t){var i;return this.each(function(){if(this.grid&&this.p.treeGrid){var r=this.p.treeReader.leaf_field;i=void 0!==t?void 0!==t.loaded?t.loaded:t[r]||0<n(this).jqGrid("getNodeChildren",t).length?!0:!1:!1}}),i},expandNode:function(t){return this.each(function(){if(this.grid&&this.p.treeGrid){var r=this.p.treeReader.expanded_field,e=this.p.treeReader.parent_id_field,o=this.p.treeReader.loaded,f=this.p.treeReader.level_field,s=this.p.treeReader.left_field,h=this.p.treeReader.right_field;if(!t[r]){var i=n.jgrid.getAccessor(t,this.p.localReader.id),u=n("#"+n.jgrid.jqID(i),this.grid.bDiv)[0],c=this.p._index[i];n(this).jqGrid("isNodeLoaded",this.p.data[c])?(t[r]=!0,n("div.treeclick",u).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus")):this.grid.hDiv.loading||(t[r]=!0,n("div.treeclick",u).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus"),this.p.treeANode=u.rowIndex,this.p.datatype=this.p.treedatatype,"nested"==this.p.treeGridModel?n(this).jqGrid("setGridParam",{postData:{nodeid:i,n_left:t[s],n_right:t[h],n_level:t[f]}}):n(this).jqGrid("setGridParam",{postData:{nodeid:i,parentid:t[e],n_level:t[f]}}),n(this).trigger("reloadGrid"),t[o]=!0,"nested"==this.p.treeGridModel?n(this).jqGrid("setGridParam",{postData:{nodeid:"",n_left:"",n_right:"",n_level:""}}):n(this).jqGrid("setGridParam",{postData:{nodeid:"",parentid:"",n_level:""}}))}}})},collapseNode:function(t){return this.each(function(){if(this.grid&&this.p.treeGrid){var i=this.p.treeReader.expanded_field;t[i]&&(t[i]=!1,i=n.jgrid.getAccessor(t,this.p.localReader.id),i=n("#"+n.jgrid.jqID(i),this.grid.bDiv)[0],n("div.treeclick",i).removeClass(this.p.treeIcons.minus+" tree-minus").addClass(this.p.treeIcons.plus+" tree-plus"))}})},SortTree:function(t,i,r,u){return this.each(function(){if(this.grid&&this.p.treeGrid){var f,c,s,e=[],h=this,o;for(f=n(this).jqGrid("getRootNodes"),f=n.jgrid.from(f),f.orderBy(t,i,r,u),o=f.select(),f=0,c=o.length;f<c;f++)s=o[f],e.push(s),n(this).jqGrid("collectChildrenSortTree",e,s,t,i,r,u);n.each(e,function(t){var i=n.jgrid.getAccessor(this,h.p.localReader.id);n("#"+n.jgrid.jqID(h.p.id)+" tbody tr:eq("+t+")").after(n("tr#"+n.jgrid.jqID(i),h.grid.bDiv))});e=o=f=null}})},collectChildrenSortTree:function(t,i,r,u,f,e){return this.each(function(){if(this.grid&&this.p.treeGrid){var o,c,s,h;for(o=n(this).jqGrid("getNodeChildren",i),o=n.jgrid.from(o),o.orderBy(r,u,f,e),h=o.select(),o=0,c=h.length;o<c;o++)s=h[o],t.push(s),n(this).jqGrid("collectChildrenSortTree",t,s,r,u,f,e)}})},setTreeRow:function(t,i){var r=!1;return this.each(function(){this.grid&&this.p.treeGrid&&(r=n(this).jqGrid("setRowData",t,i))}),r},delTreeNode:function(t){return this.each(function(){var i=this.p.localReader.id,r,f=this.p.treeReader.left_field,e=this.p.treeReader.right_field,o,h,u,s;if(this.grid&&this.p.treeGrid&&(r=this.p._index[t],void 0!==r)){if(o=parseInt(this.p.data[r][e],10),h=o-parseInt(this.p.data[r][f],10)+1,s=n(this).jqGrid("getFullTreeNode",this.p.data[r]),0<s.length)for(r=0;r<s.length;r++)n(this).jqGrid("delRowData",s[r][i]);if("nested"===this.p.treeGridModel){if(i=n.jgrid.from(this.p.data).greater(f,o,{stype:"integer"}).select(),i.length)for(u in i)i.hasOwnProperty(u)&&(i[u][f]=parseInt(i[u][f],10)-h);if(i=n.jgrid.from(this.p.data).greater(e,o,{stype:"integer"}).select(),i.length)for(u in i)i.hasOwnProperty(u)&&(i[u][e]=parseInt(i[u][e],10)-h)}}})},addChildNode:function(t,i,r,u){var f=this[0],p,d,g,o;if(r){var w=f.p.treeReader.expanded_field,s=f.p.treeReader.leaf_field,e=f.p.treeReader.level_field,nt=f.p.treeReader.parent_id_field,a=f.p.treeReader.left_field,c=f.p.treeReader.right_field,b=f.p.treeReader.loaded,v,y,l,k,h;if(v=0,p=i,void 0===u&&(u=!1),void 0===t||null===t){if(h=f.p.data.length-1,0<=h)for(;0<=h;)v=Math.max(v,parseInt(f.p.data[h][f.p.localReader.id],10)),h--;t=v+1}if(g=n(f).jqGrid("getInd",i),d=!1,void 0===i||null===i||""===i?(p=i=null,v="last",k=f.p.tree_root_level,h=f.p.data.length+1):(v="after",y=f.p._index[i],l=f.p.data[y],i=l[f.p.localReader.id],k=parseInt(l[e],10)+1,h=n(f).jqGrid("getFullTreeNode",l),h.length?(p=h=h[h.length-1][f.p.localReader.id],h=n(f).jqGrid("getInd",p)+1):h=n(f).jqGrid("getInd",i)+1,l[s])&&(d=!0,l[w]=!0,n(f.rows[g]).find("span.cell-wrapperleaf").removeClass("cell-wrapperleaf").addClass("cell-wrapper").end().find("div.tree-leaf").removeClass(f.p.treeIcons.leaf+" tree-leaf").addClass(f.p.treeIcons.minus+" tree-minus"),f.p.data[y][s]=!1,l[b]=!0),y=h+1,void 0===r[w]&&(r[w]=!1),void 0===r[b]&&(r[b]=!1),r[e]=k,void 0===r[s]&&(r[s]=!0),"adjacency"===f.p.treeGridModel&&(r[nt]=i),"nested"===f.p.treeGridModel)if(null!==i){if(s=parseInt(l[c],10),e=n.jgrid.from(f.p.data),e=e.greaterOrEquals(c,s,{stype:"integer"}),e=e.select(),e.length)for(o in e)e.hasOwnProperty(o)&&(e[o][a]=e[o][a]>s?parseInt(e[o][a],10)+2:e[o][a],e[o][c]=e[o][c]>=s?parseInt(e[o][c],10)+2:e[o][c]);r[a]=s;r[c]=s+1}else{if(s=parseInt(n(f).jqGrid("getCol",c,!1,"max"),10),e=n.jgrid.from(f.p.data).greater(a,s,{stype:"integer"}).select(),e.length)for(o in e)e.hasOwnProperty(o)&&(e[o][a]=parseInt(e[o][a],10)+2);if(e=n.jgrid.from(f.p.data).greater(c,s,{stype:"integer"}).select(),e.length)for(o in e)e.hasOwnProperty(o)&&(e[o][c]=parseInt(e[o][c],10)+2);r[a]=s+1;r[c]=s+2}(null===i||n(f).jqGrid("isNodeLoaded",l)||d)&&(n(f).jqGrid("addRowData",t,r,v,p),n(f).jqGrid("setTreeNode",h,y));l&&!l[w]&&u&&n(f.rows[g]).find("div.treeclick").click()}}})}(jQuery),function(n){n.jgrid.extend({jqGridImport:function(t){return t=n.extend({imptype:"xml",impstring:"",impurl:"",mtype:"GET",impData:{},xmlGrid:{config:"roots>grid",data:"roots>rows"},jsonGrid:{config:"grid",data:"data"},ajaxOptions:{}},t||{}),this.each(function(){var i=this,u=function(t,r){var u=n(r.xmlGrid.config,t)[0],f=n(r.xmlGrid.data,t)[0],e,o;if(xmlJsonClass.xml2json&&n.jgrid.parse){u=xmlJsonClass.xml2json(u," ");u=n.jgrid.parse(u);for(o in u)u.hasOwnProperty(o)&&(e=u[o]);f?(f=u.grid.datatype,u.grid.datatype="xmlstring",u.grid.datastr=t,n(i).jqGrid(e).jqGrid("setGridParam",{datatype:f})):n(i).jqGrid(e)}else alert("xml2json or parse are not present")},f=function(t,r){var u,f,e;t&&"string"==typeof t&&(u=!1,n.jgrid.useJSON&&(n.jgrid.useJSON=!1,u=!0),f=n.jgrid.parse(t),u&&(n.jgrid.useJSON=!0),u=f[r.jsonGrid.config],(f=f[r.jsonGrid.data])?(e=u.datatype,u.datatype="jsonstring",u.datastr=f,n(i).jqGrid(u).jqGrid("setGridParam",{datatype:e})):n(i).jqGrid(u))},r;switch(t.imptype){case"xml":n.ajax(n.extend({url:t.impurl,type:t.mtype,data:t.impData,dataType:"xml",complete:function(r,f){"success"==f&&(u(r.responseXML,t),n(i).triggerHandler("jqGridImportComplete",[r,t]),n.isFunction(t.importComplete)&&t.importComplete(r))}},t.ajaxOptions));break;case"xmlstring":t.impstring&&"string"==typeof t.impstring&&(r=n.jgrid.stringToDoc(t.impstring),r&&(u(r,t),n(i).triggerHandler("jqGridImportComplete",[r,t]),n.isFunction(t.importComplete)&&t.importComplete(r),t.impstring=null),r=null);break;case"json":n.ajax(n.extend({url:t.impurl,type:t.mtype,data:t.impData,dataType:"json",complete:function(r){try{f(r.responseText,t);n(i).triggerHandler("jqGridImportComplete",[r,t]);n.isFunction(t.importComplete)&&t.importComplete(r)}catch(u){}}},t.ajaxOptions));break;case"jsonstring":t.impstring&&"string"==typeof t.impstring&&(f(t.impstring,t),n(i).triggerHandler("jqGridImportComplete",[t.impstring,t]),n.isFunction(t.importComplete)&&t.importComplete(t.impstring),t.impstring=null)}})},jqGridExport:function(t){var t=n.extend({exptype:"xmlstring",root:"grid",ident:"\t"},t||{}),i=null;return this.each(function(){if(this.grid){var u,r=n.extend(!0,{},n(this).jqGrid("getGridParam"));if(r.rownumbers&&(r.colNames.splice(0,1),r.colModel.splice(0,1)),r.multiselect&&(r.colNames.splice(0,1),r.colModel.splice(0,1)),r.subGrid&&(r.colNames.splice(0,1),r.colModel.splice(0,1)),r.knv=null,r.treeGrid)for(u in r.treeReader)r.treeReader.hasOwnProperty(u)&&(r.colNames.splice(r.colNames.length-1),r.colModel.splice(r.colModel.length-1));switch(t.exptype){case"xmlstring":i="<"+t.root+">"+xmlJsonClass.json2xml(r,t.ident)+"<\/"+t.root+">";break;case"jsonstring":i="{"+xmlJsonClass.toJson(r,t.root,t.ident,!1)+"}";void 0!==r.postData.filters&&(i=i.replace(/filters":"/,'filters":'),i=i.replace(/}]}"/,"}]}"))}}}),i},excelExport:function(t){return t=n.extend({exptype:"remote",url:null,oper:"oper",tag:"excel",exportOptions:{}},t||{}),this.each(function(){if(this.grid){var i;"remote"==t.exptype&&(i=n.extend({},this.p.postData),i[t.oper]=t.tag,i=jQuery.param(i),i=-1!=t.url.indexOf("?")?t.url+"&"+i:t.url+"?"+i,window.location=i)}})}})}(jQuery);xmlJsonClass={xml2json:function(n,t){9===n.nodeType&&(n=n.documentElement);var i=this.toJson(this.toObj(this.removeWhite(n)),n.nodeName,"\t");return"{\n"+t+(t?i.replace(/\t/g,t):i.replace(/\t|\n/g,""))+"\n}"},json2xml:function(n,t){var i=function(n,t,r){var u="",e,f,o;if(n instanceof Array)if(0===n.length)u+=r+"<"+t+">__EMPTY_ARRAY_<\/"+t+">\n";else for(e=0,f=n.length;e<f;e+=1)o=r+i(n[e],t,r+"\t")+"\n",u=u+o;else if("object"==typeof n){e=!1;u+=r+"<"+t;for(f in n)n.hasOwnProperty(f)&&("@"===f.charAt(0)?u+=" "+f.substr(1)+'="'+n[f].toString()+'"':e=!0);if(u+=e?">":"/>",e){for(f in n)n.hasOwnProperty(f)&&("#text"===f?u+=n[f]:"#cdata"===f?u+="<![CDATA["+n[f]+"]\]>":"@"!==f.charAt(0)&&(u+=i(n[f],f,r+"\t")));u+=("\n"===u.charAt(u.length-1)?r:"")+"<\/"+t+">"}}else"function"==typeof n?u+=r+"<"+t+"><![CDATA["+n+"]\]><\/"+t+">":(void 0===n&&(n=""),u='""'===n.toString()||0===n.toString().length?u+(r+"<"+t+">__EMPTY_STRING_<\/"+t+">"):u+(r+"<"+t+">"+n.toString()+"<\/"+t+">"));return u},r="";for(var u in n)n.hasOwnProperty(u)&&(r+=i(n[u],u,""));return t?r.replace(/\t/g,t):r.replace(/\t|\n/g,"")},toObj:function(n){var i={},e=/function/i,r,u,f,t;if(1===n.nodeType){if(n.attributes.length)for(r=0;r<n.attributes.length;r+=1)i["@"+n.attributes[r].nodeName]=(n.attributes[r].nodeValue||"").toString();if(n.firstChild){for(u=r=0,f=!1,t=n.firstChild;t;t=t.nextSibling)1===t.nodeType?f=!0:3===t.nodeType&&t.nodeValue.match(/[^ \f\n\r\t\v]/)?r+=1:4===t.nodeType&&(u+=1);if(f)if(2>r&&2>u)for(this.removeWhite(n),t=n.firstChild;t;t=t.nextSibling)3===t.nodeType?i["#text"]=this.escape(t.nodeValue):4===t.nodeType?e.test(t.nodeValue)?i[t.nodeName]=[i[t.nodeName],t.nodeValue]:i["#cdata"]=this.escape(t.nodeValue):i[t.nodeName]?i[t.nodeName]instanceof Array?i[t.nodeName][i[t.nodeName].length]=this.toObj(t):i[t.nodeName]=[i[t.nodeName],this.toObj(t)]:i[t.nodeName]=this.toObj(t);else n.attributes.length?i["#text"]=this.escape(this.innerXml(n)):i=this.escape(this.innerXml(n));else if(r)n.attributes.length?i["#text"]=this.escape(this.innerXml(n)):(i=this.escape(this.innerXml(n)),"__EMPTY_ARRAY_"===i?i="[]":"__EMPTY_STRING_"===i&&(i=""));else if(u)if(1<u)i=this.escape(this.innerXml(n));else for(t=n.firstChild;t;t=t.nextSibling)if(e.test(n.firstChild.nodeValue)){i=n.firstChild.nodeValue;break}else i["#cdata"]=this.escape(t.nodeValue)}n.attributes.length||n.firstChild||(i=null)}else 9===n.nodeType?i=this.toObj(n.documentElement):alert("unhandled node type: "+n.nodeType);return i},toJson:function(n,t,i,r){var e,u,h;void 0===r&&(r=!0);var f=t?'"'+t+'"':"",o="\t",s="\n";if(r||(s=o=""),"[]"===n)f+=t?":[]":"[]";else if(n instanceof Array){for(h=[],u=0,e=n.length;u<e;u+=1)h[u]=this.toJson(n[u],"",i+o,r);f+=(t?":[":"[")+(1<h.length?s+i+o+h.join(","+s+i+o)+s+i:h.join(""))+"]"}else if(null===n)f+=(t&&":")+"null";else if("object"==typeof n){e=[];for(u in n)n.hasOwnProperty(u)&&(e[e.length]=this.toJson(n[u],u,i+o,r));f+=(t?":{":"{")+(1<e.length?s+i+o+e.join(","+s+i+o)+s+i:e.join(""))+"}"}else f="string"==typeof n?f+((t&&":")+'"'+n.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"'):f+((t&&":")+n.toString());return f},innerXml:function(n){var t="",i,n;if("innerHTML"in n)t=n.innerHTML;else for(i=function(n){var r="",t;if(1===n.nodeType){for(r+="<"+n.nodeName,t=0;t<n.attributes.length;t+=1)r+=" "+n.attributes[t].nodeName+'="'+(n.attributes[t].nodeValue||"").toString()+'"';if(n.firstChild){for(r+=">",t=n.firstChild;t;t=t.nextSibling)r+=i(t);r+="<\/"+n.nodeName+">"}else r+="/>"}else 3===n.nodeType?r+=n.nodeValue:4===n.nodeType&&(r+="<![CDATA["+n.nodeValue+"]\]>");return r},n=n.firstChild;n;n=n.nextSibling)t+=i(n);return t},escape:function(n){return n.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r")},removeWhite:function(n){var t,i;for(n.normalize(),t=n.firstChild;t;)3===t.nodeType?t.nodeValue.match(/[^ \f\n\r\t\v]/)?t=t.nextSibling:(i=t.nextSibling,n.removeChild(t),t=i):(1===t.nodeType&&this.removeWhite(t),t=t.nextSibling);return n}},function(n){if(n.jgrid.msie&&8==n.jgrid.msiever()&&(n.expr[":"].hidden=function(n){return 0===n.offsetWidth||0===n.offsetHeight||"none"==n.style.display}),n.jgrid._multiselect=!1,n.ui&&n.ui.multiselect){if(n.ui.multiselect.prototype._setSelected){var t=n.ui.multiselect.prototype._setSelected;n.ui.multiselect.prototype._setSelected=function(i,r){var f=t.call(this,i,r),u;return r&&this.selectedList&&(u=this.element,this.selectedList.find("li").each(function(){n(this).data("optionLink")&&n(this).data("optionLink").remove().appendTo(u)})),f}}n.ui.multiselect.prototype.destroy&&(n.ui.multiselect.prototype.destroy=function(){this.element.show();this.container.remove();n.Widget===void 0?n.widget.prototype.destroy.apply(this,arguments):n.Widget.prototype.destroy.apply(this,arguments)});n.jgrid._multiselect=!0}n.jgrid.extend({sortableColumns:function(t){return this.each(function(){function u(){i.p.disableClick=!0}var i=this,r=n.jgrid.jqID(i.p.id),r={tolerance:"pointer",axis:"x",scrollSensitivity:"1",items:">th:not(:has(#jqgh_"+r+"_cb,#jqgh_"+r+"_rn,#jqgh_"+r+"_subgrid),:hidden)",placeholder:{element:function(t){return n(document.createElement(t[0].nodeName)).addClass(t[0].className+" ui-sortable-placeholder ui-state-highlight").removeClass("ui-sortable-helper")[0]},update:function(n,t){t.height(n.currentItem.innerHeight()-parseInt(n.currentItem.css("paddingTop")||0,10)-parseInt(n.currentItem.css("paddingBottom")||0,10));t.width(n.currentItem.innerWidth()-parseInt(n.currentItem.css("paddingLeft")||0,10)-parseInt(n.currentItem.css("paddingRight")||0,10))}},update:function(t,r){var e=n(r.item).parent(),e=n(">th",e),f={},o=i.p.id+"_",u;n.each(i.p.colModel,function(n){f[this.name]=n});u=[];e.each(function(){var t=n(">div",this).get(0).id.replace(/^jqgh_/,"").replace(o,"");f.hasOwnProperty(t)&&u.push(f[t])});n(i).jqGrid("remapColumns",u,!0,!0);n.isFunction(i.p.sortable.update)&&i.p.sortable.update(u);setTimeout(function(){i.p.disableClick=!1},50)}},f;i.p.sortable.options?n.extend(r,i.p.sortable.options):n.isFunction(i.p.sortable)&&(i.p.sortable={update:i.p.sortable});r.start?(f=r.start,r.start=function(n,t){u();f.call(this,n,t)}):r.start=u;i.p.sortable.exclude&&(r.items=r.items+(":not("+i.p.sortable.exclude+")"));t.sortable(r).data("sortable").floating=!0})},columnChooser:function(t){function f(t,i){t&&(typeof t=="string"?n.fn[t]&&n.fn[t].apply(i,n.makeArray(arguments).slice(2)):n.isFunction(t)&&t.apply(i,n.makeArray(arguments).slice(2)))}var i=this,o;if(!n("#colchooser_"+n.jgrid.jqID(i[0].p.id)).length){var u=n('<div id="colchooser_'+i[0].p.id+'" style="position:relative;overflow:hidden"><div><select multiple="multiple"><\/select><\/div><\/div>'),r=n("select",u),t=n.extend({width:420,height:240,classname:null,done:function(n){n&&i.jqGrid("remapColumns",n,!0)},msel:"multiselect",dlog:"dialog",dialog_opts:{minWidth:470},dlog_opts:function(t){var i={};return i[t.bSubmit]=function(){t.apply_perm();t.cleanup(!1)},i[t.bCancel]=function(){t.cleanup(!0)},n.extend(!0,{buttons:i,close:function(){t.cleanup(!0)},modal:t.modal||!1,resizable:t.resizable||!0,width:t.width+20},t.dialog_opts||{})},apply_perm:function(){n("option",r).each(function(){this.selected?i.jqGrid("showCol",e[this.value].name):i.jqGrid("hideCol",e[this.value].name)});var u=[];n("option:selected",r).each(function(){u.push(parseInt(this.value,10))});n.each(u,function(){delete s[e[parseInt(this,10)].name]});n.each(s,function(){var r=parseInt(this,10),t=u,n=r,i,f;n>=0?(i=t.slice(),f=i.splice(n,Math.max(t.length-n,n)),n>t.length&&(n=t.length),i[n]=r,u=i.concat(f)):u=void 0});t.done&&t.done.call(i,u)},cleanup:function(n){f(t.dlog,u,"destroy");f(t.msel,r,"destroy");u.remove();n&&t.done&&t.done.call(i)},msel_opts:{}},n.jgrid.col,t||{});if(n.ui&&n.ui.multiselect&&t.msel=="multiselect"){if(!n.jgrid._multiselect){alert("Multiselect plugin loaded after jqGrid. Please load the plugin before the jqGrid!");return}t.msel_opts=n.extend(n.ui.multiselect.defaults,t.msel_opts)}t.caption&&u.attr("title",t.caption);t.classname&&(u.addClass(t.classname),r.addClass(t.classname));t.width&&(n(">div",u).css({width:t.width,margin:"0 auto"}),r.css("width",t.width));t.height&&(n(">div",u).css("height",t.height),r.css("height",t.height-10));var e=i.jqGrid("getGridParam","colModel"),h=i.jqGrid("getGridParam","colNames"),s={},c=[];r.empty();n.each(e,function(t){s[this.name]=t;this.hidedlg?this.hidden||c.push(t):r.append("<option value='"+t+"' "+(this.hidden?"":"selected='selected'")+">"+n.jgrid.stripHtml(h[t])+"<\/option>")});o=n.isFunction(t.dlog_opts)?t.dlog_opts.call(i,t):t.dlog_opts;f(t.dlog,u,o);o=n.isFunction(t.msel_opts)?t.msel_opts.call(i,t):t.msel_opts;f(t.msel,r,o)}},sortableRows:function(t){return this.each(function(){var i=this;i.grid&&!i.p.treeGrid&&n.fn.sortable&&(t=n.extend({cursor:"move",axis:"y",items:".jqgrow"},t||{}),t.start&&n.isFunction(t.start)?(t._start_=t.start,delete t.start):t._start_=!1,t.update&&n.isFunction(t.update)?(t._update_=t.update,delete t.update):t._update_=!1,t.start=function(r,u){if(n(u.item).css("border-width","0px"),n("td",u.item).each(function(n){this.style.width=i.grid.cols[n].style.width}),i.p.subGrid){var f=n(u.item).attr("id");try{n(i).jqGrid("collapseSubGridRow",f)}catch(e){}}t._start_&&t._start_.apply(this,[r,u])},t.update=function(r,u){n(u.item).css("border-width","");i.p.rownumbers===!0&&n("td.jqgrid-rownum",i.rows).each(function(t){n(this).html(t+1+(parseInt(i.p.page,10)-1)*parseInt(i.p.rowNum,10))});t._update_&&t._update_.apply(this,[r,u])},n("tbody:first",i).sortable(t),n("tbody:first",i).disableSelection())})},gridDnD:function(t){return this.each(function(){function u(){var t=n.data(i,"dnd");n("tr.jqgrow:not(.ui-draggable)",i).draggable(n.isFunction(t.drag)?t.drag.call(n(i),t):t.drag)}var i=this,r,f;if(i.grid&&!i.p.treeGrid&&n.fn.draggable&&n.fn.droppable)if(n("#jqgrid_dnd")[0]===void 0&&n("body").append("<table id='jqgrid_dnd' class='ui-jqgrid-dnd'><\/table>"),typeof t=="string"&&t=="updateDnD"&&i.p.jqgdnd===!0)u();else if(t=n.extend({drag:function(t){return n.extend({start:function(r,u){var f;if(i.p.subGrid){f=n(u.helper).attr("id");try{n(i).jqGrid("collapseSubGridRow",f)}catch(e){}}for(f=0;f<n.data(i,"dnd").connectWith.length;f++)n(n.data(i,"dnd").connectWith[f]).jqGrid("getGridParam","reccount")=="0"&&n(n.data(i,"dnd").connectWith[f]).jqGrid("addRowData","jqg_empty_row",{});u.helper.addClass("ui-state-highlight");n("td",u.helper).each(function(n){this.style.width=i.grid.headers[n].width+"px"});t.onstart&&n.isFunction(t.onstart)&&t.onstart.call(n(i),r,u)},stop:function(r,u){var f;for(u.helper.dropped&&!t.dragcopy&&(f=n(u.helper).attr("id"),f===void 0&&(f=n(this).attr("id")),n(i).jqGrid("delRowData",f)),f=0;f<n.data(i,"dnd").connectWith.length;f++)n(n.data(i,"dnd").connectWith[f]).jqGrid("delRowData","jqg_empty_row");t.onstop&&n.isFunction(t.onstop)&&t.onstop.call(n(i),r,u)}},t.drag_opts||{})},drop:function(t){return n.extend({accept:function(t){return n(t).hasClass("jqgrow")?(t=n(t).closest("table.ui-jqgrid-btable"),t.length>0&&n.data(t[0],"dnd")!==void 0)?(t=n.data(t[0],"dnd").connectWith,n.inArray("#"+n.jgrid.jqID(this.id),t)!=-1?!0:!1):!1:t},drop:function(r,u){var f,o;if(n(u.draggable).hasClass("jqgrow")){if(f=n(u.draggable).attr("id"),f=u.draggable.parent().parent().jqGrid("getRowData",f),!t.dropbyname){var h=0,c={},e,s,l=n("#"+n.jgrid.jqID(this.id)).jqGrid("getGridParam","colModel");try{for(s in f)f.hasOwnProperty(s)&&(e=l[h].name,e=="cb"||e=="rn"||e=="subgrid"||f.hasOwnProperty(s)&&l[h]&&(c[e]=f[s]),h++);f=c}catch(a){}}u.helper.dropped=!0;t.beforedrop&&n.isFunction(t.beforedrop)&&(e=t.beforedrop.call(this,r,u,f,n("#"+n.jgrid.jqID(i.p.id)),n(this)),e!==void 0&&e!==null&&typeof e=="object"&&(f=e));u.helper.dropped&&(t.autoid&&(n.isFunction(t.autoid)?o=t.autoid.call(this,f):(o=Math.ceil(Math.random()*1e3),o=t.autoidprefix+o)),n("#"+n.jgrid.jqID(this.id)).jqGrid("addRowData",o,f,t.droppos));t.ondrop&&n.isFunction(t.ondrop)&&t.ondrop.call(this,r,u,f)}}},t.drop_opts||{})},onstart:null,onstop:null,beforedrop:null,ondrop:null,drop_opts:{activeClass:"ui-state-active",hoverClass:"ui-state-hover"},drag_opts:{revert:"invalid",helper:"clone",cursor:"move",appendTo:"#jqgrid_dnd",zIndex:5e3},dragcopy:!1,dropbyname:!1,droppos:"first",autoid:!0,autoidprefix:"dnd_"},t||{}),t.connectWith)for(t.connectWith=t.connectWith.split(","),t.connectWith=n.map(t.connectWith,function(t){return n.trim(t)}),n.data(i,"dnd",t),i.p.reccount=="0"||i.p.jqgdnd||u(),i.p.jqgdnd=!0,r=0;r<t.connectWith.length;r++)f=t.connectWith[r],n(f).droppable(n.isFunction(t.drop)?t.drop.call(n(i),t):t.drop)})},gridResize:function(t){return this.each(function(){var i=this,r=n.jgrid.jqID(i.p.id);i.grid&&n.fn.resizable&&(t=n.extend({},t||{}),t.alsoResize?(t._alsoResize_=t.alsoResize,delete t.alsoResize):t._alsoResize_=!1,t.stop&&n.isFunction(t.stop)?(t._stop_=t.stop,delete t.stop):t._stop_=!1,t.stop=function(u,f){n(i).jqGrid("setGridParam",{height:n("#gview_"+r+" .ui-jqgrid-bdiv").height()});n(i).jqGrid("setGridWidth",f.size.width,t.shrinkToFit);t._stop_&&t._stop_.call(i,u,f)},t.alsoResize=t._alsoResize_?eval("("+("{'#gview_"+r+" .ui-jqgrid-bdiv':true,'"+t._alsoResize_+"':true}")+")"):n(".ui-jqgrid-bdiv","#gview_"+r),delete t._alsoResize_,n("#gbox_"+r).resizable(t))})}})}(jQuery),function(n){n.jgrid=n.jgrid||{};n.extend(n.jgrid,{version:"4.4.4",htmlDecode:function(n){return n&&("&nbsp;"==n||"&#160;"==n||1===n.length&&160===n.charCodeAt(0))?"":n?(""+n).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):n},htmlEncode:function(n){return n?(""+n).replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):n},format:function(t){var i=n.makeArray(arguments).slice(1);return null==t&&(t=""),t.replace(/\{(\d+)\}/g,function(n,t){return i[t]})},msie:"Microsoft Internet Explorer"==navigator.appName,msiever:function(){var n=-1;return null!=/MSIE ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent)&&(n=parseFloat(RegExp.$1)),n},getCellIndex:function(t){return(t=n(t),t.is("tr"))?-1:(t=(!t.is("td")&&!t.is("th")?t.closest("td,th"):t)[0],n.jgrid.msie?n.inArray(t,t.parentNode.cells):t.cellIndex)},stripHtml:function(n){var n=""+n;return n?(n=n.replace(/<("[^"]*"|'[^']*'|[^'">])*>/gi,""))&&"&nbsp;"!==n&&"&#160;"!==n?n.replace(/\"/g,"'"):"":n},stripPref:function(t,i){var r=n.type(t);return("string"==r||"number"==r)&&(t=""+t,i=""!==t?(""+i).replace(""+t,""):i),i},stringToDoc:function(n){var t;if("string"!=typeof n)return n;try{t=(new DOMParser).parseFromString(n,"text/xml")}catch(i){t=new ActiveXObject("Microsoft.XMLDOM");t.async=!1;t.loadXML(n)}return t&&t.documentElement&&"parsererror"!=t.documentElement.tagName?t:null},parse:function(t){return"while(1);"==t.substr(0,9)&&(t=t.substr(9)),"/*"==t.substr(0,2)&&(t=t.substr(2,t.length-4)),t||(t="{}"),!0===n.jgrid.useJSON&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(t):eval("("+t+")")},parseDate:function(t,i){var u={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},r,o,f;if(r=/[\\\/:_;.,\t\T\s-]/,i&&null!=i){i=n.trim(i);i=i.split(r);void 0!==n.jgrid.formatter.date.masks[t]&&(t=n.jgrid.formatter.date.masks[t]);var t=t.split(r),s=n.jgrid.formatter.date.monthNames,e=n.jgrid.formatter.date.AmPm,h=function(n,t){return 0===n?12===t&&(t=0):12!==t&&(t+=12),t};for(r=0,o=t.length;r<o;r++)"M"==t[r]&&(f=n.inArray(i[r],s),-1!==f&&12>f&&(i[r]=f+1,u.m=i[r])),"F"==t[r]&&(f=n.inArray(i[r],s),-1!==f&&11<f&&(i[r]=f+1-12,u.m=i[r])),"a"==t[r]&&(f=n.inArray(i[r],e),-1!==f&&2>f&&i[r]==e[f]&&(i[r]=f,u.h=h(i[r],u.h))),"A"==t[r]&&(f=n.inArray(i[r],e),-1!==f&&1<f&&i[r]==e[f]&&(i[r]=f-2,u.h=h(i[r],u.h))),"g"===t[r]&&(u.h=parseInt(i[r],10)),void 0!==i[r]&&(u[t[r].toLowerCase()]=parseInt(i[r],10));u.m=parseInt(u.m,10)-1;r=u.y;70<=r&&99>=r?u.y=1900+u.y:0<=r&&69>=r&&(u.y=2e3+u.y);void 0!==u.j&&(u.d=u.j);void 0!==u.n&&(u.m=parseInt(u.n,10)-1)}return new Date(u.y,u.m,u.d,u.h,u.i,u.s,u.u)},jqID:function(n){return(""+n).replace(/[!"#$%&'()*+,.\/:; <=>?@\[\\\]\^`{|}~]/g,"\\$&")},guid:1,uidPref:"jqg",randId:function(t){return(t||n.jgrid.uidPref)+n.jgrid.guid++},getAccessor:function(n,t){var i,u,r=[],f;if("function"==typeof t)return t(n);if(i=n[t],void 0===i)try{if("string"==typeof t&&(r=t.split(".")),f=r.length)for(i=n;i&&f--;)u=r.shift(),i=i[u]}catch(e){}return i},getXmlData:function(t,i,r){var u="string"==typeof i?i.match(/^(.*)\[(\w+)\]$/):null;return"function"==typeof i?i(t):u&&u[2]?u[1]?n(u[1],t).attr(u[2]):n(t).attr(u[2]):(t=n(i,t),r?t:0<t.length?n(t).text():void 0)},cellWidth:function(){var t=n("<div class='ui-jqgrid' style='left:10000px'><table class='ui-jqgrid-btable' style='width:5px;'><tr class='jqgrow'><td style='width:5px;'><\/td><\/tr><\/table><\/div>"),i=t.appendTo("body").find("td").width();return t.remove(),5!==i},cell_width:!0,ajaxOptions:{},from:function(t){return new function(t,i){"string"==typeof t&&(t=n.data(t));var r=this,u=t,h=!0,o=!1,f=i,v=/[\$,%]/g,l=null,y=null,p=0,e=!1,a="",s=[],c=!0;if("object"==typeof t&&t.push)0<t.length&&(c="object"!=typeof t[0]?!1:!0);else throw"data provides is not an array";return this._hasData=function(){return null===u?!1:0===u.length?!1:!0},this._getStr=function(n){var t=[];return o&&t.push("jQuery.trim("),t.push("String("+n+")"),o&&t.push(")"),h||t.push(".toLowerCase()"),t.join("")},this._strComp=function(n){return"string"==typeof n?".toString()":""},this._group=function(n,t){return{field:n.toString(),unique:t,items:[]}},this._toStr=function(t){return o&&(t=n.trim(t)),t=t.toString().replace(/\\/g,"\\\\").replace(/\"/g,'\\"'),h?t:t.toLowerCase()},this._funcLoop=function(t){var i=[];return n.each(u,function(n,r){i.push(t(r))}),i},this._append=function(n){var t;for(f=null===f?"":f+(""===a?" && ":a),t=0;t<p;t++)f+="(";e&&(f+="!");f+="("+n+")";e=!1;a="";p=0},this._setCommand=function(n,t){l=n;y=t},this._resetNegate=function(){e=!1},this._repeatCommand=function(n,t){return null===l?r:null!==n&&null!==t?l(n,t):null===y||!c?l(n):l(y,n)},this._equals=function(n,t){return 0===r._compare(n,t,1)},this._compare=function(n,t,i){var r=Object.prototype.toString;return(void 0===i&&(i=1),void 0===n&&(n=null),void 0===t&&(t=null),null===n&&null===t)?0:null===n&&null!==t?1:null!==n&&null===t?-1:"[object Date]"===r.call(n)&&"[object Date]"===r.call(t)?n<t?-i:n>t?i:0:(h||"number"==typeof n||"number"==typeof t||(n=""+n,t=""+t),n<t?-i:n>t?i:0)},this._performSort=function(){0!==s.length&&(u=r._doSort(u,0))},this._doSort=function(n,t){var f=s[t].by,e=s[t].dir,u=s[t].type,i=s[t].datefmt;if(t==s.length-1)return r._getOrder(n,f,e,u,i);t++;for(var f=r._getGroup(n,f,e,u,i),e=[],o,u=0;u<f.length;u++)for(o=r._doSort(f[u].items,t),i=0;i<o.length;i++)e.push(o[i]);return e},this._getOrder=function(t,i,u,f,e){var c=[],s=[],y="a"==u?1:-1,o,l,f,a;for(void 0===f&&(f="text"),l="float"==f||"number"==f||"currency"==f||"numeric"==f?function(n){return n=parseFloat((""+n).replace(v,"")),isNaN(n)?0:n}:"int"==f||"integer"==f?function(n){return n?parseFloat((""+n).replace(v,"")):0}:"date"==f||"datetime"==f?function(t){return n.jgrid.parseDate(e,t).getTime()}:n.isFunction(f)?f:function(t){return t=t?n.trim(""+t):"",h?t:t.toLowerCase()},n.each(t,function(t,r){o=""!==i?n.jgrid.getAccessor(r,i):r;void 0===o&&(o="");o=l(o,r);s.push({vSort:o,index:t})}),s.sort(function(n,t){return n=n.vSort,t=t.vSort,r._compare(n,t,y)}),f=0,a=t.length;f<a;)u=s[f].index,c.push(t[u]),f++;return c},this._getGroup=function(t,i,u,f,e){var h=[],o=null,c=null,s;return n.each(r._getOrder(t,i,u,f,e),function(t,u){s=n.jgrid.getAccessor(u,i);null==s&&(s="");r._equals(c,s)||(c=s,null!==o&&h.push(o),o=r._group(i,s));o.items.push(u)}),null!==o&&h.push(o),h},this.ignoreCase=function(){return h=!1,r},this.useCase=function(){return h=!0,r},this.trim=function(){return o=!0,r},this.noTrim=function(){return o=!1,r},this.execute=function(){var t=f,i=[];return null===t?r:(n.each(u,function(){eval(t)&&i.push(this)}),u=i,r)},this.data=function(){return u},this.select=function(t){if(r._performSort(),!r._hasData())return[];if(r.execute(),n.isFunction(t)){var i=[];return n.each(u,function(n,r){i.push(t(r))}),i}return u},this.hasMatch=function(){return r._hasData()?(r.execute(),0<u.length):!1},this.andNot=function(n,t,i){return e=!e,r.and(n,t,i)},this.orNot=function(n,t,i){return e=!e,r.or(n,t,i)},this.not=function(n,t,i){return r.andNot(n,t,i)},this.and=function(n,t,i){return a=" && ",void 0===n?r:r._repeatCommand(n,t,i)},this.or=function(n,t,i){return a=" || ",void 0===n?r:r._repeatCommand(n,t,i)},this.orBegin=function(){return p++,r},this.orEnd=function(){return null!==f&&(f+=")"),r},this.isNot=function(n){return e=!e,r.is(n)},this.is=function(n){return r._append("this."+n),r._resetNegate(),r},this._compareValues=function(t,i,u,f,e){var s,o,h;if(s=c?"jQuery.jgrid.getAccessor(this,'"+i+"')":"this",void 0===u&&(u=null),o=u,h=void 0===e.stype?"text":e.stype,null!==u)switch(h){case"int":case"integer":o=isNaN(Number(o))||""===o?"0":o;s="parseInt("+s+",10)";o="parseInt("+o+",10)";break;case"float":case"number":case"numeric":o=(""+o).replace(v,"");o=isNaN(Number(o))||""===o?"0":o;s="parseFloat("+s+")";o="parseFloat("+o+")";break;case"date":case"datetime":o=""+n.jgrid.parseDate(e.newfmt||"Y-m-d",o).getTime();s='jQuery.jgrid.parseDate("'+e.srcfmt+'",'+s+").getTime()";break;default:s=r._getStr(s);o=r._getStr('"'+r._toStr(o)+'"')}return r._append(s+" "+f+" "+o),r._setCommand(t,i),r._resetNegate(),r},this.equals=function(n,t,i){return r._compareValues(r.equals,n,t,"==",i)},this.notEquals=function(n,t,i){return r._compareValues(r.equals,n,t,"!==",i)},this.isNull=function(n,t,i){return r._compareValues(r.equals,n,null,"===",i)},this.greater=function(n,t,i){return r._compareValues(r.greater,n,t,">",i)},this.less=function(n,t,i){return r._compareValues(r.less,n,t,"<",i)},this.greaterOrEquals=function(n,t,i){return r._compareValues(r.greaterOrEquals,n,t,">=",i)},this.lessOrEquals=function(n,t,i){return r._compareValues(r.lessOrEquals,n,t,"<=",i)},this.startsWith=function(t,i){var u=null==i?t:i,u=o?n.trim(u.toString()).length:u.toString().length;return c?r._append(r._getStr("jQuery.jgrid.getAccessor(this,'"+t+"')")+".substr(0,"+u+") == "+r._getStr('"'+r._toStr(i)+'"')):(u=o?n.trim(i.toString()).length:i.toString().length,r._append(r._getStr("this")+".substr(0,"+u+") == "+r._getStr('"'+r._toStr(t)+'"'))),r._setCommand(r.startsWith,t),r._resetNegate(),r},this.endsWith=function(t,i){var u=null==i?t:i,u=o?n.trim(u.toString()).length:u.toString().length;return c?r._append(r._getStr("jQuery.jgrid.getAccessor(this,'"+t+"')")+".substr("+r._getStr("jQuery.jgrid.getAccessor(this,'"+t+"')")+".length-"+u+","+u+') == "'+r._toStr(i)+'"'):r._append(r._getStr("this")+".substr("+r._getStr("this")+'.length-"'+r._toStr(t)+'".length,"'+r._toStr(t)+'".length) == "'+r._toStr(t)+'"'),r._setCommand(r.endsWith,t),r._resetNegate(),r},this.contains=function(n,t){return c?r._append(r._getStr("jQuery.jgrid.getAccessor(this,'"+n+"')")+'.indexOf("'+r._toStr(t)+'",0) > -1'):r._append(r._getStr("this")+'.indexOf("'+r._toStr(n)+'",0) > -1'),r._setCommand(r.contains,n),r._resetNegate(),r},this.groupBy=function(n,t,i,f){return r._hasData()?r._getGroup(u,n,t,i,f):null},this.orderBy=function(t,i,u,f){return i=null==i?"a":n.trim(i.toString().toLowerCase()),null==u&&(u="text"),null==f&&(f="Y-m-d"),("desc"==i||"descending"==i)&&(i="d"),("asc"==i||"ascending"==i)&&(i="a"),s.push({by:t,dir:i,type:u,datefmt:f}),r},r}(t,null)},getMethod:function(t){return this.getAccessor(n.fn.jqGrid,t)},extend:function(t){n.extend(n.fn.jqGrid,t);this.no_legacy_api||n.fn.extend(t)}});n.fn.jqGrid=function(t){var i,r;if("string"==typeof t){if(i=n.jgrid.getMethod(t),!i)throw"jqGrid - No such method: "+t;return r=n.makeArray(arguments).slice(1),i.apply(this,r)}return this.each(function(){var f,o,ft,b,ei,w,ct,lt,at,s,e,d,rt,g,l,nt,c,ut,h,v,kt,vt,oi;if(!this.grid){var u=n.extend(!0,{url:"",height:150,page:1,rowNum:20,rowTotal:null,records:0,pager:"",pgbuttons:!0,pginput:!0,colModel:[],rowList:[],colNames:[],sortorder:"asc",sortname:"",datatype:"xml",mtype:"GET",altRows:!1,selarrrow:[],savedRow:[],shrinkToFit:!0,xmlReader:{},jsonReader:{},subGrid:!1,subGridModel:[],reccount:0,lastpage:0,lastsort:0,selrow:null,beforeSelectRow:null,onSelectRow:null,onSortCol:null,ondblClickRow:null,onRightClickRow:null,onPaging:null,onSelectAll:null,onInitGrid:null,loadComplete:null,gridComplete:null,loadError:null,loadBeforeSend:null,afterInsertRow:null,beforeRequest:null,beforeProcessing:null,onHeaderClick:null,viewrecords:!1,loadonce:!1,multiselect:!1,multikey:!1,editurl:null,search:!1,caption:"",hidegrid:!0,hiddengrid:!1,postData:{},userData:{},treeGrid:!1,treeGridModel:"nested",treeReader:{},treeANode:-1,ExpandColumn:null,tree_root_level:0,prmNames:{page:"page",rows:"rows",sort:"sidx",order:"sord",search:"_search",nd:"nd",id:"id",oper:"oper",editoper:"edit",addoper:"add",deloper:"del",subgridid:"id",npage:null,totalrows:"totalrows"},forceFit:!1,gridstate:"visible",cellEdit:!1,cellsubmit:"remote",nv:0,loadui:"enable",toolbar:[!1,""],scroll:!1,multiboxonly:!1,deselectAfterSort:!0,scrollrows:!1,autowidth:!1,scrollOffset:18,cellLayout:5,subGridWidth:20,multiselectWidth:20,gridview:!1,rownumWidth:25,rownumbers:!1,pagerpos:"center",recordpos:"right",footerrow:!1,userDataOnFooter:!1,hoverrows:!0,altclass:"ui-priority-secondary",viewsortcols:[!1,"vertical",!0],resizeclass:"",autoencode:!1,remapColumns:[],ajaxGridOptions:{},direction:"ltr",toppager:!1,headertitles:!1,scrollTimeout:40,data:[],_index:{},grouping:!1,groupingView:{groupField:[],groupOrder:[],groupText:[],groupColumnShow:[],groupSummary:[],showSummaryOnHide:!1,sortitems:[],sortnames:[],summary:[],summaryval:[],plusicon:"ui-icon-circlesmall-plus",minusicon:"ui-icon-circlesmall-minus",displayField:[]},ignoreCase:!1,cmTemplate:{},idPrefix:""},n.jgrid.defaults,t||{}),i=this,r={headers:[],cols:[],footers:[],dragStart:function(t,r,f){this.resizing={idx:t,startX:r.clientX,sOL:f[0]};this.hDiv.style.cursor="col-resize";this.curGbox=n("#rs_m"+n.jgrid.jqID(u.id),"#gbox_"+n.jgrid.jqID(u.id));this.curGbox.css({display:"block",left:f[0],top:f[1],height:f[2]});n(i).triggerHandler("jqGridResizeStart",[r,t]);n.isFunction(u.resizeStart)&&u.resizeStart.call(this,r,t);document.onselectstart=function(){return!1}},dragMove:function(n){if(this.resizing){var t=n.clientX-this.resizing.startX,n=this.headers[this.resizing.idx],r="ltr"===u.direction?n.width+t:n.width-t,i;33<r&&(this.curGbox.css({left:this.resizing.sOL+t}),!0===u.forceFit?(i=this.headers[this.resizing.idx+u.nv],t="ltr"===u.direction?i.width-t:i.width+t,33<t&&(n.newWidth=r,i.newWidth=t)):(this.newWidth="ltr"===u.direction?u.tblwidth+t:u.tblwidth-t,n.newWidth=r))}},dragEnd:function(){if(this.hDiv.style.cursor="default",this.resizing){var t=this.resizing.idx,r=this.headers[t].newWidth||this.headers[t].width,r=parseInt(r,10);this.resizing=!1;n("#rs_m"+n.jgrid.jqID(u.id)).css("display","none");u.colModel[t].width=r;this.headers[t].width=r;this.headers[t].el.style.width=r+"px";this.cols[t].style.width=r+"px";0<this.footers.length&&(this.footers[t].style.width=r+"px");!0===u.forceFit?(r=this.headers[t+u.nv].newWidth||this.headers[t+u.nv].width,this.headers[t+u.nv].width=r,this.headers[t+u.nv].el.style.width=r+"px",this.cols[t+u.nv].style.width=r+"px",0<this.footers.length&&(this.footers[t+u.nv].style.width=r+"px"),u.colModel[t+u.nv].width=r):(u.tblwidth=this.newWidth||u.tblwidth,n("table:first",this.bDiv).css("width",u.tblwidth+"px"),n("table:first",this.hDiv).css("width",u.tblwidth+"px"),this.hDiv.scrollLeft=this.bDiv.scrollLeft,u.footerrow&&(n("table:first",this.sDiv).css("width",u.tblwidth+"px"),this.sDiv.scrollLeft=this.bDiv.scrollLeft));n(i).triggerHandler("jqGridResizeStop",[r,t]);n.isFunction(u.resizeStop)&&u.resizeStop.call(this,r,t)}this.curGbox=null;document.onselectstart=function(){return!0}},populateVisible:function(){var h,f,i,t,l,o,s,e,c,a;if(r.timer&&clearTimeout(r.timer),r.timer=null,h=n(r.bDiv).height(),h){if(f=n("table:first",r.bDiv),f[0].rows.length)try{t=(i=f[0].rows[1])?n(i).outerHeight()||r.prevRowHeight:r.prevRowHeight}catch(v){t=r.prevRowHeight}t&&(r.prevRowHeight=t,l=u.rowNum,i=r.scrollTop=r.bDiv.scrollTop,o=Math.round(f.position().top)-i,s=o+f.height(),t*=l,s<h&&0>=o&&(void 0===u.lastpage||parseInt((s+i+t-1)/t,10)<=u.lastpage)&&(c=parseInt((h-s+t-1)/t,10),0<=s||2>c||!0===u.scroll?(e=Math.round((s+i)/t)+1,o=-1):o=1),0<o&&(e=parseInt(i/t,10)+1,c=parseInt((i+h)/t,10)+2-e,a=!0),!c||u.lastpage&&(e>u.lastpage||1==u.lastpage||e===u.page&&e===u.lastpage)||(r.hDiv.loading?r.timer=setTimeout(r.populateVisible,u.scrollTimeout):(u.page=e,a&&(r.selectionPreserver(f[0]),r.emptyRows.call(f[0],!1,!1)),r.populate(c))))}},scrollGrid:function(n){if(u.scroll){var t=r.bDiv.scrollTop;void 0===r.scrollTop&&(r.scrollTop=0);t!=r.scrollTop&&(r.scrollTop=t,r.timer&&clearTimeout(r.timer),r.timer=setTimeout(r.populateVisible,u.scrollTimeout))}r.hDiv.scrollLeft=r.bDiv.scrollLeft;u.footerrow&&(r.sDiv.scrollLeft=r.bDiv.scrollLeft);n&&n.stopPropagation()},selectionPreserver:function(t){var i=t.p,u=i.selrow,r=i.selarrrow?n.makeArray(i.selarrrow):null,e=t.grid.bDiv.scrollLeft,f=function(){var o;if(i.selrow=null,i.selarrrow=[],i.multiselect&&r&&0<r.length)for(o=0;o<r.length;o++)r[o]!=u&&n(t).jqGrid("setSelection",r[o],!1,null);u&&n(t).jqGrid("setSelection",u,!1,null);t.grid.bDiv.scrollLeft=e;n(t).unbind(".selectionPreserver",f)};n(t).bind("jqGridGridComplete.selectionPreserver",f)}};if("TABLE"!=this.tagName.toUpperCase())alert("Element is not a table");else if(void 0!==document.documentMode&&5>=document.documentMode)alert("Grid can not be used in this ('quirks') mode!");else{if(n(this).empty().attr("tabindex","0"),this.p=u,this.p.useProp=!!n.fn.prop,0===this.p.colNames.length)for(f=0;f<this.p.colModel.length;f++)this.p.colNames[f]=this.p.colModel[f].label||this.p.colModel[f].name;if(this.p.colNames.length!==this.p.colModel.length)alert(n.jgrid.errors.model);else{c=n("<div class='ui-jqgrid-view'><\/div>");ft=n.jgrid.msie;i.p.direction=n.trim(i.p.direction.toLowerCase());-1==n.inArray(i.p.direction,["ltr","rtl"])&&(i.p.direction="ltr");o=i.p.direction;n(c).insertBefore(this);n(this).removeClass("scroll").appendTo(c);b=n("<div class='ui-jqgrid ui-widget ui-widget-content ui-corner-all'><\/div>");n(b).attr({id:"gbox_"+this.id,dir:o}).insertBefore(c);n(c).attr("id","gview_"+this.id).appendTo(b);n("<div class='ui-widget-overlay jqgrid-overlay' id='lui_"+this.id+"'><\/div>").insertBefore(c);n("<div class='loading ui-state-default ui-state-active' id='load_"+this.id+"'>"+this.p.loadtext+"<\/div>").insertBefore(c);n(this).attr({cellspacing:"0",cellpadding:"0",border:"0",role:"grid","aria-multiselectable":!!this.p.multiselect,"aria-labelledby":"gbox_"+this.id});var p=function(n,t){return n=parseInt(n,10),isNaN(n)?t||0:n},tt=function(t,u,f,e,o,s){var l=i.p.colModel[t],v=l.align,h='style="',a=l.classes,y=l.name,c=[];return v&&(h=h+("text-align:"+v+";")),l.hidden===!0&&(h=h+"display:none;"),u===0?h=h+("width: "+r.headers[t].width+"px;"):l.cellattr&&n.isFunction(l.cellattr)&&(t=l.cellattr.call(i,o,f,e,l,s))&&typeof t=="string"&&(t=t.replace(/style/i,"style").replace(/title/i,"title"),t.indexOf("title")>-1&&(l.title=!1),t.indexOf("class")>-1&&(a=void 0),c=t.split("style"),c.length===2?(c[1]=n.trim(c[1].replace("=","")),(c[1].indexOf("'")===0||c[1].indexOf('"')===0)&&(c[1]=c[1].substring(1)),h=h+c[1].replace(/'/gi,'"')):h=h+'"'),c.length||(c[0]="",h=h+'"'),h=h+((a!==void 0?' class="'+a+'"':"")+(l.title&&f?' title="'+n.jgrid.stripHtml(f)+'"':"")),h=h+(' aria-describedby="'+i.p.id+"_"+y+'"'),h+c[0]},dt=function(t){return t==null||t===""?"&#160;":i.p.autoencode?n.jgrid.htmlEncode(t):""+t},gt=function(t,r,u,f,e){var o=i.p.colModel[u];return o.formatter!==void 0?(t=""+i.p.idPrefix!=""?n.jgrid.stripPref(i.p.idPrefix,t):t,t={rowId:t,colModel:o,gid:i.p.id,pos:u},r=n.isFunction(o.formatter)?o.formatter.call(i,r,t,f,e):n.fmatter?n.fn.fmatter.call(i,o.formatter,r,t,f,e):dt(r)):r=dt(r),r},yt=function(n,t,i,r,u,f){return t=gt(n,t,i,u,"add"),'<td role="gridcell" '+tt(i,r,t,u,n,f)+">"+t+"<\/td>"},ni=function(n,t,r,u){return u='<input role="checkbox" type="checkbox" id="jqg_'+i.p.id+"_"+n+'" class="cbox" name="jqg_'+i.p.id+"_"+n+'"'+(u?'checked="checked"':"")+"/>",'<td role="gridcell" '+tt(t,r,"",null,n,!0)+">"+u+"<\/td>"},ti=function(n,t,i,r){return i=(parseInt(i,10)-1)*parseInt(r,10)+1+t,'<td role="gridcell" class="ui-state-default jqgrid-rownum" '+tt(n,t,i,null,t,!0)+">"+i+"<\/td>"},ii=function(n){for(var t,u=[],f=0,r=0;r<i.p.colModel.length;r++)t=i.p.colModel[r],t.name!=="cb"&&t.name!=="subgrid"&&t.name!=="rn"&&(u[f]=n=="local"?t.name:n=="xml"||n==="xmlstring"?t.xmlmap||t.name:t.jsonmap||t.name,f++);return u},et=function(t){var r=i.p.remapColumns;return r&&r.length||(r=n.map(i.p.colModel,function(n,t){return t})),t&&(r=n.map(r,function(n){return n<t?null:n-t})),r},it=function(t,i){var r;this.p.deepempty?n(this.rows).slice(1).remove():(r=this.rows.length>0?this.rows[0]:null,n(this.firstChild).empty().append(r));t&&this.p.scroll&&(n(this.grid.bDiv.firstChild).css({height:"auto"}),n(this.grid.bDiv.firstChild.firstChild).css({height:0,display:"none"}),this.grid.bDiv.scrollTop!==0&&(this.grid.bDiv.scrollTop=0));i===!0&&this.p.treeGrid&&(this.p.data=[],this.p._index={})},pt=function(){var f=i.p.data.length,u,t,r;for(u=i.p.rownumbers===!0?1:0,t=i.p.multiselect===!0?1:0,r=i.p.subGrid===!0?1:0,u=i.p.keyIndex===!1||i.p.loadonce===!0?i.p.localReader.id:i.p.colModel[i.p.keyIndex+t+r+u].name,t=0;t<f;t++)r=n.jgrid.getAccessor(i.p.data[t],u),r===void 0&&(r=""+(t+1)),i.p._index[r]=t},wt=function(t,r,u,f,e,o){var c="-1",h="",s,r=r?"display:none;":"",u="ui-widget-content jqgrow ui-row-"+i.p.direction+u+(o?" ui-state-highlight":""),f=n.isFunction(i.p.rowattr)?i.p.rowattr.call(i,f,e):{};if(!n.isEmptyObject(f)){f.hasOwnProperty("id")&&(t=f.id,delete f.id);f.hasOwnProperty("tabindex")&&(c=f.tabindex,delete f.tabindex);f.hasOwnProperty("style")&&(r=r+f.style,delete f.style);f.hasOwnProperty("class")&&(u=u+(" "+f["class"]),delete f["class"]);try{delete f.role}catch(l){}for(s in f)f.hasOwnProperty(s)&&(h=h+(" "+s+"="+f[s]))}return'<tr role="row" id="'+t+'" tabindex="'+c+'" class="'+u+'"'+(r===""?"":' style="'+r+'"')+h+">"},bt=function(t,r,u,f,e){var gt=new Date,ft=i.p.datatype!="local"&&i.p.loadonce||i.p.datatype=="xmlstring",o=i.p.xmlReader,ot=i.p.datatype=="local"?"local":"xml",e,ct,pt,bt,kt,dt;if(ft&&(i.p.data=[],i.p._index={},i.p.localReader.id="_id_"),i.p.reccount=0,n.isXMLDoc(t)){i.p.treeANode!==-1||i.p.scroll?u=u>1?u:1:(it.call(i,!1,!0),u=1);var nt=n(i),l,ut,d=0,w,y=i.p.multiselect===!0?1:0,b=0,lt,v=i.p.rownumbers===!0?1:0,k,g=[],rt,s={},a,h,c=[],ri=i.p.altRows===!0?" "+i.p.altclass:"",at;i.p.subGrid===!0&&(b=1,lt=n.jgrid.getMethod("addSubGridCell"));o.repeatitems||(g=ii(ot));k=i.p.keyIndex===!1?n.isFunction(o.id)?o.id.call(i,t):o.id:i.p.keyIndex;g.length>0&&!isNaN(k)&&(i.p.remapColumns&&i.p.remapColumns.length&&(k=n.inArray(k,i.p.remapColumns)),k=g[k]);ot=(""+k).indexOf("[")===-1?g.length?function(t,i){return n(k,t).text()||i}:function(t,i){return n(o.cell,t).eq(k).text()||i}:function(n,t){return n.getAttribute(k.replace(/[\[\]]/g,""))||t};i.p.userData={};i.p.page=n.jgrid.getXmlData(t,o.page)||i.p.page||0;i.p.lastpage=n.jgrid.getXmlData(t,o.total);i.p.lastpage===void 0&&(i.p.lastpage=1);i.p.records=n.jgrid.getXmlData(t,o.records)||0;n.isFunction(o.userdata)?i.p.userData=o.userdata.call(i,t)||{}:n.jgrid.getXmlData(t,o.userdata,!0).each(function(){i.p.userData[this.getAttribute("name")]=n(this).text()});t=n.jgrid.getXmlData(t,o.root,!0);(t=n.jgrid.getXmlData(t,o.row,!0))||(t=[]);var tt=t.length,p=0,st=[],ht=parseInt(i.p.rowNum,10),vt=i.p.scroll?n.jgrid.randId():1;if(tt>0&&i.p.page<=0&&(i.p.page=1),t&&tt)for(e&&(ht=ht*(e+1)),e=n.isFunction(i.p.afterInsertRow),ct=!1,i.p.grouping&&(ct=i.p.groupingView.groupCollapse===!0,pt=n.jgrid.getMethod("groupingPrepare"));p<tt;){if(a=t[p],h=ot(a,vt+p),h=i.p.idPrefix+h,l=u===0?0:u+1,at=(l+p)%2==1?ri:"",bt=c.length,c.push(""),v&&c.push(ti(0,p,i.p.page,i.p.rowNum)),y&&c.push(ni(h,v,p,!1)),b&&c.push(lt.call(nt,y+v,p+u)),o.repeatitems)rt||(rt=et(y+b+v)),kt=n.jgrid.getXmlData(a,o.cell,!0),n.each(rt,function(n){var t=kt[this];if(!t)return!1;w=t.textContent||t.text;s[i.p.colModel[n+y+b+v].name]=w;c.push(yt(h,w,n+y+b+v,p+u,a,s))});else for(l=0;l<g.length;l++)w=n.jgrid.getXmlData(a,g[l]),s[i.p.colModel[l+y+b+v].name]=w,c.push(yt(h,w,l+y+b+v,p+u,a,s));if(c[bt]=wt(h,ct,at,s,a,!1),c.push("<\/tr>"),i.p.grouping&&(st=pt.call(nt,c,st,s,p),c=[]),(ft||i.p.treeGrid===!0)&&(s._id_=h,i.p.data.push(s),i.p._index[h]=i.p.data.length-1),i.p.gridview===!1&&(n("tbody:first",r).append(c.join("")),nt.triggerHandler("jqGridAfterInsertRow",[h,s,a]),e&&i.p.afterInsertRow.call(i,h,s,a),c=[]),s={},d++,p++,d==ht)break}if(i.p.gridview===!0&&(ut=i.p.treeANode>-1?i.p.treeANode:0,i.p.grouping?(nt.jqGrid("groupingRender",st,i.p.colModel.length),st=null):i.p.treeGrid===!0&&ut>0?n(i.rows[ut]).after(c.join("")):n("tbody:first",r).append(c.join(""))),i.p.subGrid===!0)try{nt.jqGrid("addSubGrid",y+v)}catch(ui){}if(i.p.totaltime=new Date-gt,d>0&&i.p.records===0&&(i.p.records=tt),c=null,i.p.treeGrid===!0)try{nt.jqGrid("setTreeNode",ut+1,d+ut+1)}catch(fi){}if(i.p.treeGrid||i.p.scroll||(i.grid.bDiv.scrollTop=0),i.p.reccount=d,i.p.treeANode=-1,i.p.userDataOnFooter&&nt.jqGrid("footerData","set",i.p.userData,!0),ft&&(i.p.records=tt,i.p.lastpage=Math.ceil(tt/ht)),f||i.updatepager(!1,!0),ft)for(;d<tt;){if(a=t[d],h=ot(a,d+vt),h=i.p.idPrefix+h,o.repeatitems)rt||(rt=et(y+b+v)),dt=n.jgrid.getXmlData(a,o.cell,!0),n.each(rt,function(n){var t=dt[this];if(!t)return!1;w=t.textContent||t.text;s[i.p.colModel[n+y+b+v].name]=w});else for(l=0;l<g.length;l++)w=n.jgrid.getXmlData(a,g[l]),s[i.p.colModel[l+y+b+v].name]=w;s._id_=h;i.p.data.push(s);i.p._index[h]=i.p.data.length-1;s={};d++}}},ot=function(t,r,u,f,e){var s,c,tt,bt;if(r=new Date,t){i.p.treeANode!==-1||i.p.scroll?u=u>1?u:1:(it.call(i,!1,!0),u=1);tt=i.p.datatype!="local"&&i.p.loadonce||i.p.datatype=="jsonstring";tt&&(i.p.data=[],i.p._index={},i.p.localReader.id="_id_");i.p.reccount=0;i.p.datatype=="local"?(s=i.p.localReader,c="local"):(s=i.p.jsonReader,c="json");var d=n(i),v=0,y,a,rt=[],w,k=i.p.multiselect?1:0,g=0,ht,b=i.p.rownumbers===!0?1:0,p,nt,l={},ut,o,h=[],kt=i.p.altRows===!0?" "+i.p.altclass:"",ct;i.p.page=n.jgrid.getAccessor(t,s.page)||i.p.page||0;p=n.jgrid.getAccessor(t,s.total);i.p.subGrid===!0&&(g=1,ht=n.jgrid.getMethod("addSubGridCell"));i.p.lastpage=p===void 0?1:p;i.p.records=n.jgrid.getAccessor(t,s.records)||0;i.p.userData=n.jgrid.getAccessor(t,s.userdata)||{};s.repeatitems||(w=rt=ii(c));c=i.p.keyIndex===!1?n.isFunction(s.id)?s.id.call(i,t):s.id:i.p.keyIndex;rt.length>0&&!isNaN(c)&&(i.p.remapColumns&&i.p.remapColumns.length&&(c=n.inArray(c,i.p.remapColumns)),c=rt[c]);(nt=n.jgrid.getAccessor(t,s.root))||(nt=[]);p=nt.length;t=0;p>0&&i.p.page<=0&&(i.p.page=1);var ft=parseInt(i.p.rowNum,10),lt=i.p.scroll?n.jgrid.randId():1,at=!1,ot;e&&(ft=ft*(e+1));i.p.datatype!=="local"||i.p.deselectAfterSort||(at=!0);var dt=n.isFunction(i.p.afterInsertRow),st=[],vt=!1,pt;for(i.p.grouping&&(vt=i.p.groupingView.groupCollapse===!0,pt=n.jgrid.getMethod("groupingPrepare"));t<p;){for(e=nt[t],o=n.jgrid.getAccessor(e,c),o===void 0&&(o=lt+t,rt.length===0&&s.cell&&(y=n.jgrid.getAccessor(e,s.cell),o=y!==void 0?y[c]||o:o)),o=i.p.idPrefix+o,y=u===1?0:u,ct=(y+t)%2==1?kt:"",at&&(ot=i.p.multiselect?n.inArray(o,i.p.selarrrow)!==-1:o===i.p.selrow),bt=h.length,h.push(""),b&&h.push(ti(0,t,i.p.page,i.p.rowNum)),k&&h.push(ni(o,b,t,ot)),g&&h.push(ht.call(d,k+b,t+u)),s.repeatitems&&(s.cell&&(e=n.jgrid.getAccessor(e,s.cell)),w||(w=et(k+g+b))),a=0;a<w.length;a++)y=n.jgrid.getAccessor(e,w[a]),l[i.p.colModel[a+k+g+b].name]=y,h.push(yt(o,y,a+k+g+b,t+u,e,l));if(h[bt]=wt(o,vt,ct,l,e,ot),h.push("<\/tr>"),i.p.grouping&&(st=pt.call(d,h,st,l,t),h=[]),(tt||i.p.treeGrid===!0)&&(l._id_=o,i.p.data.push(l),i.p._index[o]=i.p.data.length-1),i.p.gridview===!1&&(n("#"+n.jgrid.jqID(i.p.id)+" tbody:first").append(h.join("")),d.triggerHandler("jqGridAfterInsertRow",[o,l,e]),dt&&i.p.afterInsertRow.call(i,o,l,e),h=[]),l={},v++,t++,v==ft)break}if(i.p.gridview===!0&&(ut=i.p.treeANode>-1?i.p.treeANode:0,i.p.grouping?d.jqGrid("groupingRender",st,i.p.colModel.length):i.p.treeGrid===!0&&ut>0?n(i.rows[ut]).after(h.join("")):n("#"+n.jgrid.jqID(i.p.id)+" tbody:first").append(h.join(""))),i.p.subGrid===!0)try{d.jqGrid("addSubGrid",k+b)}catch(gt){}if(i.p.totaltime=new Date-r,v>0&&i.p.records===0&&(i.p.records=p),i.p.treeGrid===!0)try{d.jqGrid("setTreeNode",ut+1,v+ut+1)}catch(ri){}if(i.p.treeGrid||i.p.scroll||(i.grid.bDiv.scrollTop=0),i.p.reccount=v,i.p.treeANode=-1,i.p.userDataOnFooter&&d.jqGrid("footerData","set",i.p.userData,!0),tt&&(i.p.records=p,i.p.lastpage=Math.ceil(p/ft)),f||i.updatepager(!1,!0),tt)for(;v<p&&nt[v];){if(e=nt[v],o=n.jgrid.getAccessor(e,c),o===void 0&&(o=lt+v,rt.length===0&&s.cell&&(o=n.jgrid.getAccessor(e,s.cell)[c]||o)),e){for(o=i.p.idPrefix+o,s.repeatitems&&(s.cell&&(e=n.jgrid.getAccessor(e,s.cell)),w||(w=et(k+g+b))),a=0;a<w.length;a++)y=n.jgrid.getAccessor(e,w[a]),l[i.p.colModel[a+k+g+b].name]=y;l._id_=o;i.p.data.push(l);i.p._index[o]=i.p.data.length-1;l={}}v++}}},si=function(){function k(n){var f=0,i,o,s,e,r;if(n.groups!=null){for((o=n.groups.length&&n.groupOp.toString().toUpperCase()==="OR")&&t.orBegin(),i=0;i<n.groups.length;i++){f>0&&o&&t.or();try{k(n.groups[i])}catch(h){alert(h)}f++}o&&t.orEnd()}if(n.rules!=null)try{for((s=n.rules.length&&n.groupOp.toString().toUpperCase()==="OR")&&t.orBegin(),i=0;i<n.rules.length;i++)r=n.rules[i],e=n.groupOp.toString().toUpperCase(),c[r.op]&&r.field&&(f>0&&e&&e==="OR"&&(t=t.or()),t=c[r.op](t,e)(r.field,r.data,u[r.field])),f++;s&&t.orEnd()}catch(l){alert(l)}}var e,l=!1,u={},a=[],d=[],v,s,y,h,p,r,c,t,f;if(n.isArray(i.p.data))if(h=i.p.grouping?i.p.groupingView:!1,n.each(i.p.colModel,function(){if(s=this.sorttype||"text",s=="date"||s=="datetime"?(this.formatter&&typeof this.formatter=="string"&&this.formatter=="date"?(v=this.formatoptions&&this.formatoptions.srcformat?this.formatoptions.srcformat:n.jgrid.formatter.date.srcformat,y=this.formatoptions&&this.formatoptions.newformat?this.formatoptions.newformat:n.jgrid.formatter.date.newformat):v=y=this.datefmt||"Y-m-d",u[this.name]={stype:s,srcfmt:v,newfmt:y}):u[this.name]={stype:s,srcfmt:"",newfmt:""},i.p.grouping)for(r=0,p=h.groupField.length;r<p;r++)if(this.name==h.groupField[r]){var t=this.name;this.index&&(t=this.index);a[r]=u[t];d[r]=t}l||this.index!=i.p.sortname&&this.name!=i.p.sortname||(e=this.name,l=!0)}),i.p.treeGrid)n(i).jqGrid("SortTree",e,i.p.sortorder,u[e].stype,u[e].srcfmt);else{if(c={eq:function(n){return n.equals},ne:function(n){return n.notEquals},lt:function(n){return n.less},le:function(n){return n.lessOrEquals},gt:function(n){return n.greater},ge:function(n){return n.greaterOrEquals},cn:function(n){return n.contains},nc:function(n,t){return t==="OR"?n.orNot().contains:n.andNot().contains},bw:function(n){return n.startsWith},bn:function(n,t){return t==="OR"?n.orNot().startsWith:n.andNot().startsWith},en:function(n,t){return t==="OR"?n.orNot().endsWith:n.andNot().endsWith},ew:function(n){return n.endsWith},ni:function(n,t){return t==="OR"?n.orNot().equals:n.andNot().equals},"in":function(n){return n.equals},nu:function(n){return n.isNull},nn:function(n,t){return t==="OR"?n.orNot().isNull:n.andNot().isNull}},t=n.jgrid.from(i.p.data),i.p.ignoreCase&&(t=t.ignoreCase()),i.p.search===!0)if(f=i.p.postData.filters,f)typeof f=="string"&&(f=n.jgrid.parse(f)),k(f);else try{t=c[i.p.postData.searchOper](t)(i.p.postData.searchField,i.p.postData.searchString,u[i.p.postData.searchField])}catch(tt){}if(i.p.grouping)for(r=0;r<p;r++)t.orderBy(d[r],h.groupOrder[r],a[r].stype,a[r].srcfmt);e&&i.p.sortorder&&l&&(i.p.sortorder.toUpperCase()=="DESC"?t.orderBy(i.p.sortname,"d",u[e].stype,u[e].srcfmt):t.orderBy(i.p.sortname,"a",u[e].stype,u[e].srcfmt));var f=t.select(),w=parseInt(i.p.rowNum,10),g=f.length,b=parseInt(i.p.page,10),nt=Math.ceil(g/w),o={},f=f.slice((b-1)*w,b*w),u=t=null;return o[i.p.localReader.total]=nt,o[i.p.localReader.page]=b,o[i.p.localReader.records]=g,o[i.p.localReader.root]=f,o[i.p.localReader.userdata]=i.p.userData,f=null,o}},st=function(){if(i.grid.hDiv.loading=!0,!i.p.hiddengrid)switch(i.p.loadui){case"enable":n("#load_"+n.jgrid.jqID(i.p.id)).show();break;case"block":n("#lui_"+n.jgrid.jqID(i.p.id)).show();n("#load_"+n.jgrid.jqID(i.p.id)).show()}},k=function(){i.grid.hDiv.loading=!1;switch(i.p.loadui){case"enable":n("#load_"+n.jgrid.jqID(i.p.id)).hide();break;case"block":n("#lui_"+n.jgrid.jqID(i.p.id)).hide();n("#load_"+n.jgrid.jqID(i.p.id)).hide()}},y=function(t){var c,e,l,a,v,r;if(!i.grid.hDiv.loading){var p=i.p.scroll&&t===!1,r={},o,u=i.p.prmNames;i.p.page<=0&&(i.p.page=1);u.search!==null&&(r[u.search]=i.p.search);u.nd!==null&&(r[u.nd]=(new Date).getTime());u.rows!==null&&(r[u.rows]=i.p.rowNum);u.page!==null&&(r[u.page]=i.p.page);u.sort!==null&&(r[u.sort]=i.p.sortname);u.order!==null&&(r[u.order]=i.p.sortorder);i.p.rowTotal!==null&&u.totalrows!==null&&(r[u.totalrows]=i.p.rowTotal);var s=n.isFunction(i.p.loadComplete),f=s?i.p.loadComplete:null,h=0,t=t||1;if(t>1?u.npage!==null?(r[u.npage]=t,h=t-1,t=1):f=function(n){i.p.page++;i.grid.hDiv.loading=!1;s&&i.p.loadComplete.call(i,n);y(t-1)}:u.npage!==null&&delete i.p.postData[u.npage],i.p.grouping){for(n(i).jqGrid("groupingSetup"),c=i.p.groupingView,l="",e=0;e<c.groupField.length;e++)a=c.groupField[e],n.each(i.p.colModel,function(n,t){t.name==a&&t.index&&(a=t.index)}),l=l+(a+" "+c.groupOrder[e]+", ");r[u.sort]=l+r[u.sort]}if(n.extend(i.p.postData,r),v=i.p.scroll?i.rows.length-1:1,r=n(i).triggerHandler("jqGridBeforeRequest"),!(r===!1||r==="stop"))if(n.isFunction(i.p.datatype))i.p.datatype.call(i,i.p.postData,"load_"+i.p.id);else{if(n.isFunction(i.p.beforeRequest)&&(r=i.p.beforeRequest.call(i),r===void 0&&(r=!0),r===!1))return;o=i.p.datatype.toLowerCase();switch(o){case"json":case"jsonp":case"xml":case"script":n.ajax(n.extend({url:i.p.url,type:i.p.mtype,dataType:o,data:n.isFunction(i.p.serializeGridData)?i.p.serializeGridData.call(i,i.p.postData):i.p.postData,success:function(r,u,e){n.isFunction(i.p.beforeProcessing)&&i.p.beforeProcessing.call(i,r,u,e)===!1?k():(o==="xml"?bt(r,i.grid.bDiv,v,t>1,h):ot(r,i.grid.bDiv,v,t>1,h),n(i).triggerHandler("jqGridLoadComplete",[r]),f&&f.call(i,r),n(i).triggerHandler("jqGridAfterLoadComplete",[r]),p&&i.grid.populateVisible(),(i.p.loadonce||i.p.treeGrid)&&(i.p.datatype="local"),t===1&&k())},error:function(r,u,f){n.isFunction(i.p.loadError)&&i.p.loadError.call(i,r,u,f);t===1&&k()},beforeSend:function(t,r){var u=!0;if(n.isFunction(i.p.loadBeforeSend)&&(u=i.p.loadBeforeSend.call(i,t,r)),u===void 0&&(u=!0),u===!1)return!1;st()}},n.jgrid.ajaxOptions,i.p.ajaxGridOptions));break;case"xmlstring":st();r=n.jgrid.stringToDoc(i.p.datastr);bt(r,i.grid.bDiv);n(i).triggerHandler("jqGridLoadComplete",[r]);s&&i.p.loadComplete.call(i,r);n(i).triggerHandler("jqGridAfterLoadComplete",[r]);i.p.datatype="local";i.p.datastr=null;k();break;case"jsonstring":st();r=typeof i.p.datastr=="string"?n.jgrid.parse(i.p.datastr):i.p.datastr;ot(r,i.grid.bDiv);n(i).triggerHandler("jqGridLoadComplete",[r]);s&&i.p.loadComplete.call(i,r);n(i).triggerHandler("jqGridAfterLoadComplete",[r]);i.p.datatype="local";i.p.datastr=null;k();break;case"local":case"clientside":st();i.p.datatype="local";r=si();ot(r,i.grid.bDiv,v,t>1,h);n(i).triggerHandler("jqGridLoadComplete",[r]);f&&f.call(i,r);n(i).triggerHandler("jqGridAfterLoadComplete",[r]);p&&i.grid.populateVisible();k()}}}},ht=function(t){n("#cb_"+n.jgrid.jqID(i.p.id),i.grid.hDiv)[i.p.useProp?"prop":"attr"]("checked",t);i.p.frozenColumns&&i.p.id+"_frozen"&&n("#cb_"+n.jgrid.jqID(i.p.id),i.grid.fhDiv)[i.p.useProp?"prop":"attr"]("checked",t)},ri=function(t,r){var h="",u="<table cellspacing='0' cellpadding='0' border='0' style='table-layout:auto;' class='ui-pg-table'><tbody><tr>",e="",s,f,l,a,c=function(t){var r;return n.isFunction(i.p.onPaging)&&(r=i.p.onPaging.call(i,t)),i.p.selrow=null,i.p.multiselect&&(i.p.selarrrow=[],ht(!1)),i.p.savedRow=[],r=="stop"?!1:!0},t=t.substr(1),r=r+("_"+t);if(s="pg_"+t,f=t+"_left",l=t+"_center",a=t+"_right",n("#"+n.jgrid.jqID(t)).append("<div id='"+s+"' class='ui-pager-control' role='group'><table cellspacing='0' cellpadding='0' border='0' class='ui-pg-table' style='width:100%;table-layout:fixed;height:100%;' role='row'><tbody><tr><td id='"+f+"' align='left'><\/td><td id='"+l+"' align='center' style='white-space:pre;'><\/td><td id='"+a+"' align='right'><\/td><\/tr><\/tbody><\/table><\/div>").attr("dir","ltr"),i.p.rowList.length>0){for(e="<td dir='"+o+"'>",e=e+"<select class='ui-pg-selbox' role='listbox'>",f=0;f<i.p.rowList.length;f++)e=e+('<option role="option" value="'+i.p.rowList[f]+'"'+(i.p.rowNum==i.p.rowList[f]?' selected="selected"':"")+">"+i.p.rowList[f]+"<\/option>");e=e+"<\/select><\/td>"}o=="rtl"&&(u=u+e);i.p.pginput===!0&&(h="<td dir='"+o+"'>"+n.jgrid.format(i.p.pgtext||"","<input class='ui-pg-input' type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1_"+n.jgrid.jqID(t)+"'><\/span>")+"<\/td>");i.p.pgbuttons===!0?(f=["first"+r,"prev"+r,"next"+r,"last"+r],o=="rtl"&&f.reverse(),u=u+("<td id='"+f[0]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-first'><\/span><\/td>"),u=u+("<td id='"+f[1]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-prev'><\/span><\/td>"),u=u+(h!==""?"<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'><\/span><\/td>"+h+"<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'><\/span><\/td>":"")+("<td id='"+f[2]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-next'><\/span><\/td>"),u=u+("<td id='"+f[3]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-end'><\/span><\/td>")):h!==""&&(u=u+h);o=="ltr"&&(u=u+e);u=u+"<\/tr><\/tbody><\/table>";i.p.viewrecords===!0&&n("td#"+t+"_"+i.p.recordpos,"#"+s).append("<div dir='"+o+"' style='text-align:"+i.p.recordpos+"' class='ui-paging-info'><\/div>");n("td#"+t+"_"+i.p.pagerpos,"#"+s).append(u);e=n(".ui-jqgrid").css("font-size")||"11px";n(document.body).append("<div id='testpg' class='ui-jqgrid ui-widget ui-widget-content' style='font-size:"+e+";visibility:hidden;' ><\/div>");u=n(u).clone().appendTo("#testpg").width();n("#testpg").remove();u>0&&(h!==""&&(u=u+50),n("td#"+t+"_"+i.p.pagerpos,"#"+s).width(u));i.p._nvtd=[];i.p._nvtd[0]=u?Math.floor((i.p.width-u)/2):Math.floor(i.p.width/3);i.p._nvtd[1]=0;u=null;n(".ui-pg-selbox","#"+s).bind("change",function(){return c("records")?(i.p.page=Math.round(i.p.rowNum*(i.p.page-1)/this.value-.5)+1,i.p.rowNum=this.value,i.p.pager&&n(".ui-pg-selbox",i.p.pager).val(this.value),i.p.toppager&&n(".ui-pg-selbox",i.p.toppager).val(this.value),y(),!1):!1});i.p.pgbuttons===!0&&(n(".ui-pg-button","#"+s).hover(function(){n(this).hasClass("ui-state-disabled")?this.style.cursor="default":(n(this).addClass("ui-state-hover"),this.style.cursor="pointer")},function(){n(this).hasClass("ui-state-disabled")||(n(this).removeClass("ui-state-hover"),this.style.cursor="default")}),n("#first"+n.jgrid.jqID(r)+", #prev"+n.jgrid.jqID(r)+", #next"+n.jgrid.jqID(r)+", #last"+n.jgrid.jqID(r)).click(function(){var n=p(i.p.page,1),t=p(i.p.lastpage,1),u=!1,o=!0,s=!0,f=!0,e=!0;return(t===0||t===1?e=f=s=o=!1:t>1&&n>=1?n===1?s=o=!1:n===t&&(e=f=!1):t>1&&n===0&&(e=f=!1,n=t-1),!c(this.id))?!1:(this.id==="first"+r&&o&&(i.p.page=1,u=!0),this.id==="prev"+r&&s&&(i.p.page=n-1,u=!0),this.id==="next"+r&&f&&(i.p.page=n+1,u=!0),this.id==="last"+r&&e&&(i.p.page=t,u=!0),u&&y(),!1)}));i.p.pginput===!0&&n("input.ui-pg-input","#"+s).keypress(function(t){return(t.charCode||t.keyCode||0)==13?c("user")?(i.p.page=n(this).val()>0?n(this).val():i.p.page,y(),!1):!1:this})},ui=function(t,r,u,f){if(i.p.colModel[r].sortable&&!(i.p.savedRow.length>0)){if(u||(i.p.lastsort==r?i.p.sortorder=="asc"?i.p.sortorder="desc":i.p.sortorder=="desc"&&(i.p.sortorder="asc"):i.p.sortorder=i.p.colModel[r].firstsortorder||"asc",i.p.page=1),f){if(i.p.lastsort==r&&i.p.sortorder==f&&!u)return;i.p.sortorder=f}u=i.grid.headers[i.p.lastsort].el;f=i.grid.headers[r].el;n("span.ui-grid-ico-sort",u).addClass("ui-state-disabled");n(u).attr("aria-selected","false");n("span.ui-icon-"+i.p.sortorder,f).removeClass("ui-state-disabled");n(f).attr("aria-selected","true");i.p.viewsortcols[0]||i.p.lastsort==r||(n("span.s-ico",u).hide(),n("span.s-ico",f).show());t=t.substring(5+i.p.id.length+1);i.p.sortname=i.p.colModel[r].index||t;u=i.p.sortorder;n(i).triggerHandler("jqGridSortCol",[t,r,u])==="stop"?i.p.lastsort=r:n.isFunction(i.p.onSortCol)&&i.p.onSortCol.call(i,t,r,u)=="stop"?i.p.lastsort=r:(i.p.datatype=="local"?i.p.deselectAfterSort&&n(i).jqGrid("resetSelection"):(i.p.selrow=null,i.p.multiselect&&ht(!1),i.p.selarrrow=[],i.p.savedRow=[]),i.p.scroll&&(u=i.grid.bDiv.scrollLeft,it.call(i,!0,!1),i.grid.hDiv.scrollLeft=u),i.p.subGrid&&i.p.datatype=="local"&&n("td.sgexpanded","#"+n.jgrid.jqID(i.p.id)).each(function(){n(this).trigger("click")}),y(),i.p.lastsort=r,i.p.sortname!=t&&r&&(i.p.lastsort=r))}},hi=function(t){for(var r=[0],f=n.jgrid.cell_width?0:i.p.cellLayout,u=0;u<=t;u++)i.p.colModel[u].hidden===!1&&(r[0]=r[0]+(i.p.colModel[u].width+f));return i.p.direction=="rtl"&&(r[0]=i.p.width-r[0]),r[0]=r[0]-i.grid.bDiv.scrollLeft,r.push(n(i.grid.hDiv).position().top),r.push(n(i.grid.bDiv).offset().top-n(i.grid.hDiv).offset().top+n(i.grid.bDiv).height()),r},fi=function(t){for(var u=i.grid.headers,f=n.jgrid.getCellIndex(t),r=0;r<u.length;r++)if(t===u[r].el){f=r;break}return f};for(this.p.id=this.id,-1==n.inArray(i.p.multikey,["shiftKey","altKey","ctrlKey"])&&(i.p.multikey=!1),i.p.keyIndex=!1,f=0;f<i.p.colModel.length;f++)i.p.colModel[f]=n.extend(!0,{},i.p.cmTemplate,i.p.colModel[f].template||{},i.p.colModel[f]),!1===i.p.keyIndex&&!0===i.p.colModel[f].key&&(i.p.keyIndex=f);if(i.p.sortorder=i.p.sortorder.toLowerCase(),n.jgrid.cell_width=n.jgrid.cellWidth(),!0===i.p.grouping&&(i.p.scroll=!1,i.p.rownumbers=!1,i.p.treeGrid=!1,i.p.gridview=!0),!0===this.p.treeGrid){try{n(this).jqGrid("setTreeGrid")}catch(ci){}"local"!=i.p.datatype&&(i.p.localReader={id:"_id_"})}if(this.p.subGrid)try{n(i).jqGrid("setSubGrid")}catch(li){}if(this.p.multiselect&&(this.p.colNames.unshift("<input role='checkbox' id='cb_"+this.p.id+"' class='cbox' type='checkbox'/>"),this.p.colModel.unshift({name:"cb",width:n.jgrid.cell_width?i.p.multiselectWidth+i.p.cellLayout:i.p.multiselectWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0})),this.p.rownumbers&&(this.p.colNames.unshift(""),this.p.colModel.unshift({name:"rn",width:i.p.rownumWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0})),i.p.xmlReader=n.extend(!0,{root:"rows",row:"row",page:"rows>page",total:"rows>total",records:"rows>records",repeatitems:!0,cell:"cell",id:"[id]",userdata:"userdata",subgrid:{root:"rows",row:"row",repeatitems:!0,cell:"cell"}},i.p.xmlReader),i.p.jsonReader=n.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!0,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},i.p.jsonReader),i.p.localReader=n.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},i.p.localReader),i.p.scroll&&(i.p.pgbuttons=!1,i.p.pginput=!1,i.p.rowList=[]),i.p.data.length&&pt(),l="<thead><tr class='ui-jqgrid-labels' role='rowheader'>",w=d="",!0===i.p.shrinkToFit&&!0===i.p.forceFit)for(f=i.p.colModel.length-1;0<=f;f--)if(!i.p.colModel[f].hidden){i.p.colModel[f].resizable=!1;break}for("horizontal"==i.p.viewsortcols[1]&&(d=" ui-i-asc",w=" ui-i-desc"),ei=ft?"class='ui-th-div-ie'":"",d="<span class='s-ico' style='display:none'><span sort='asc' class='ui-grid-ico-sort ui-icon-asc"+d+" ui-state-disabled ui-icon ui-icon-triangle-1-n ui-sort-"+o+"'><\/span>"+("<span sort='desc' class='ui-grid-ico-sort ui-icon-desc"+w+" ui-state-disabled ui-icon ui-icon-triangle-1-s ui-sort-"+o+"'><\/span><\/span>"),f=0;f<this.p.colNames.length;f++)w=i.p.headertitles?' title="'+n.jgrid.stripHtml(i.p.colNames[f])+'"':"",l+="<th id='"+i.p.id+"_"+i.p.colModel[f].name+"' role='columnheader' class='ui-state-default ui-th-column ui-th-"+o+"'"+w+">",w=i.p.colModel[f].index||i.p.colModel[f].name,l+="<div id='jqgh_"+i.p.id+"_"+i.p.colModel[f].name+"' "+ei+">"+i.p.colNames[f],i.p.colModel[f].width=i.p.colModel[f].width?parseInt(i.p.colModel[f].width,10):150,"boolean"!=typeof i.p.colModel[f].title&&(i.p.colModel[f].title=!0),w==i.p.sortname&&(i.p.lastsort=f),l+=d+"<\/div><\/th>";if(d=null,n(this).append(l+"<\/tr><\/thead>"),n("thead tr:first th",this).hover(function(){n(this).addClass("ui-state-hover")},function(){n(this).removeClass("ui-state-hover")}),this.p.multiselect&&(rt=[],n("#cb_"+n.jgrid.jqID(i.p.id),this).bind("click",function(){i.p.selarrrow=[];var t=i.p.frozenColumns===!0?i.p.id+"_frozen":"";this.checked?(n(i.rows).each(function(r){r>0&&!n(this).hasClass("ui-subgrid")&&!n(this).hasClass("jqgroup")&&!n(this).hasClass("ui-state-disabled")&&(n("#jqg_"+n.jgrid.jqID(i.p.id)+"_"+n.jgrid.jqID(this.id))[i.p.useProp?"prop":"attr"]("checked",!0),n(this).addClass("ui-state-highlight").attr("aria-selected","true"),i.p.selarrrow.push(this.id),i.p.selrow=this.id,t&&(n("#jqg_"+n.jgrid.jqID(i.p.id)+"_"+n.jgrid.jqID(this.id),i.grid.fbDiv)[i.p.useProp?"prop":"attr"]("checked",!0),n("#"+n.jgrid.jqID(this.id),i.grid.fbDiv).addClass("ui-state-highlight")))}),g=!0,rt=[]):(n(i.rows).each(function(r){r>0&&!n(this).hasClass("ui-subgrid")&&!n(this).hasClass("ui-state-disabled")&&(n("#jqg_"+n.jgrid.jqID(i.p.id)+"_"+n.jgrid.jqID(this.id))[i.p.useProp?"prop":"attr"]("checked",!1),n(this).removeClass("ui-state-highlight").attr("aria-selected","false"),rt.push(this.id),t&&(n("#jqg_"+n.jgrid.jqID(i.p.id)+"_"+n.jgrid.jqID(this.id),i.grid.fbDiv)[i.p.useProp?"prop":"attr"]("checked",!1),n("#"+n.jgrid.jqID(this.id),i.grid.fbDiv).removeClass("ui-state-highlight")))}),i.p.selrow=null,g=!1);n(i).triggerHandler("jqGridSelectAll",[g?i.p.selarrrow:rt,g]);n.isFunction(i.p.onSelectAll)&&i.p.onSelectAll.call(i,g?i.p.selarrrow:rt,g)})),!0===i.p.autowidth&&(l=n(b).innerWidth(),i.p.width=0<l?l:"nw"),function(){var t=0,u=n.jgrid.cell_width?0:p(i.p.cellLayout,0),f=0,o,c=p(i.p.scrollOffset,0),s,a=!1,l,e=0,v=0,h;n.each(i.p.colModel,function(){if(this.hidden===void 0&&(this.hidden=!1),i.p.grouping&&i.p.autowidth){var r=n.inArray(this.name,i.p.groupingView.groupField);r!==-1&&(this.hidden=!i.p.groupingView.groupColumnShow[r])}this.widthOrg=s=p(this.width,0);this.hidden===!1&&(t=t+(s+u),this.fixed?e=e+(s+u):f++,v++)});isNaN(i.p.width)&&(i.p.width=t+(i.p.shrinkToFit===!1&&!isNaN(i.p.height)?c:0));r.width=i.p.width;i.p.tblwidth=t;i.p.shrinkToFit===!1&&i.p.forceFit===!0&&(i.p.forceFit=!1);i.p.shrinkToFit===!0&&f>0&&(l=r.width-u*f-e,isNaN(i.p.height)||(l=l-c,a=!0),t=0,n.each(i.p.colModel,function(n){this.hidden!==!1||this.fixed||(this.width=s=Math.round(l*this.width/(i.p.tblwidth-u*f-e)),t=t+s,o=n)}),h=0,a?r.width-e-(t+u*f)!==c&&(h=r.width-e-(t+u*f)-c):!a&&Math.abs(r.width-e-(t+u*f))!==1&&(h=r.width-e-(t+u*f)),i.p.colModel[o].width=i.p.colModel[o].width+h,i.p.tblwidth=t+h+u*f+e,i.p.tblwidth>i.p.width&&(i.p.colModel[o].width=i.p.colModel[o].width-(i.p.tblwidth-parseInt(i.p.width,10)),i.p.tblwidth=i.p.width))}(),n(b).css("width",r.width+"px").append("<div class='ui-jqgrid-resize-mark' id='rs_m"+i.p.id+"'>&#160;<\/div>"),n(c).css("width",r.width+"px"),l=n("thead:first",i).get(0),nt="",i.p.footerrow&&(nt+="<table role='grid' style='width:"+i.p.tblwidth+"px' class='ui-jqgrid-ftable' cellspacing='0' cellpadding='0' border='0'><tbody><tr role='row' class='ui-widget-content footrow footrow-"+o+"'>"),c=n("tr:first",l),ut="<tr class='jqgfirstrow' role='row' style='height:auto'>",i.p.disableClick=!1,n("th",c).each(function(t){ct=i.p.colModel[t].width;i.p.colModel[t].resizable===void 0&&(i.p.colModel[t].resizable=!0);i.p.colModel[t].resizable?(lt=document.createElement("span"),n(lt).html("&#160;").addClass("ui-jqgrid-resize ui-jqgrid-resize-"+o).css("cursor","col-resize"),n(this).addClass(i.p.resizeclass)):lt="";n(this).css("width",ct+"px").prepend(lt);var u="";i.p.colModel[t].hidden&&(n(this).css("display","none"),u="display:none;");ut=ut+("<td role='gridcell' style='height:0px;width:"+ct+"px;"+u+"'><\/td>");r.headers[t]={width:ct,el:this};at=i.p.colModel[t].sortable;typeof at!="boolean"&&(at=i.p.colModel[t].sortable=!0);u=i.p.colModel[t].name;u=="cb"||u=="subgrid"||u=="rn"||i.p.viewsortcols[2]&&n(">div",this).addClass("ui-jqgrid-sortable");at&&(i.p.viewsortcols[0]?(n("div span.s-ico",this).show(),t==i.p.lastsort&&n("div span.ui-icon-"+i.p.sortorder,this).removeClass("ui-state-disabled")):t==i.p.lastsort&&(n("div span.s-ico",this).show(),n("div span.ui-icon-"+i.p.sortorder,this).removeClass("ui-state-disabled")));i.p.footerrow&&(nt=nt+("<td role='gridcell' "+tt(t,0,"",null,"",!1)+">&#160;<\/td>"))}).mousedown(function(t){var u,o,e,f;if(n(t.target).closest("th>span.ui-jqgrid-resize").length==1){if(u=fi(this),i.p.forceFit===!0){for(o=i.p,e=u,f=u+1;f<i.p.colModel.length;f++)if(i.p.colModel[f].hidden!==!0){e=f;break}o.nv=e-u}return r.dragStart(u,t,hi(u)),!1}}).click(function(t){if(i.p.disableClick)return i.p.disableClick=!1;var r="th>div.ui-jqgrid-sortable",u,f;return i.p.viewsortcols[2]||(r="th>div>span>span.ui-grid-ico-sort"),t=n(t.target).closest(r),t.length==1?(r=fi(this),i.p.viewsortcols[2]||(u=!0,f=t.attr("sort")),ui(n("div",this)[0].id,r,u,f),!1):void 0}),i.p.sortable&&n.fn.sortable)try{n(i).jqGrid("sortableColumns",c)}catch(ai){}i.p.footerrow&&(nt+="<\/tr><\/tbody><\/table>");ut+="<\/tr>";this.appendChild(document.createElement("tbody"));n(this).addClass("ui-jqgrid-btable").append(ut);var ut=null,c=n("<table class='ui-jqgrid-htable' style='width:"+i.p.tblwidth+"px' role='grid' aria-labelledby='gbox_"+this.id+"' cellspacing='0' cellpadding='0' border='0'><\/table>").append(l),a=i.p.caption&&!0===i.p.hiddengrid?!0:!1;f=n("<div class='ui-jqgrid-hbox"+("rtl"==o?"-rtl":"")+"'><\/div>");l=null;r.hDiv=document.createElement("div");n(r.hDiv).css({width:r.width+"px"}).addClass("ui-state-default ui-jqgrid-hdiv").append(f);n(f).append(c);c=null;a&&n(r.hDiv).hide();i.p.pager&&("string"==typeof i.p.pager?"#"!=i.p.pager.substr(0,1)&&(i.p.pager="#"+i.p.pager):i.p.pager="#"+n(i.p.pager).attr("id"),n(i.p.pager).css({width:r.width+"px"}).addClass("ui-state-default ui-jqgrid-pager ui-corner-bottom").appendTo(b),a&&n(i.p.pager).hide(),ri(i.p.pager,""));!1===i.p.cellEdit&&!0===i.p.hoverrows&&n(i).bind("mouseover",function(t){e=n(t.target).closest("tr.jqgrow");n(e).attr("class")!=="ui-subgrid"&&n(e).addClass("ui-state-hover")}).bind("mouseout",function(t){e=n(t.target).closest("tr.jqgrow");n(e).removeClass("ui-state-hover")});n(i).before(r.hDiv).click(function(t){var r,u,f;if(s=t.target,e=n(s,i.rows).closest("tr.jqgrow"),n(e).length===0||e[0].className.indexOf("ui-state-disabled")>-1||(n(s,i).closest("table.ui-jqgrid-btable").attr("id")||"").replace("_frozen","")!==i.id)return this;if(r=n(s).hasClass("cbox"),u=n(i).triggerHandler("jqGridBeforeSelectRow",[e[0].id,t]),(u=u===!1||u==="stop"?!1:!0)&&n.isFunction(i.p.beforeSelectRow)&&(u=i.p.beforeSelectRow.call(i,e[0].id,t)),!(s.tagName=="A"||(s.tagName=="INPUT"||s.tagName=="TEXTAREA"||s.tagName=="OPTION"||s.tagName=="SELECT")&&!r)&&u===!0)if(h=e[0].id,v=n.jgrid.getCellIndex(s),kt=n(s).closest("td,th").html(),n(i).triggerHandler("jqGridCellSelect",[h,v,kt,t]),n.isFunction(i.p.onCellSelect)&&i.p.onCellSelect.call(i,h,v,kt,t),i.p.cellEdit===!0)if(i.p.multiselect&&r)n(i).jqGrid("setSelection",h,!0,t);else{h=e[0].rowIndex;try{n(i).jqGrid("editCell",h,v,!0)}catch(o){}}else i.p.multikey?t[i.p.multikey]?n(i).jqGrid("setSelection",h,!0,t):i.p.multiselect&&r&&(r=n("#jqg_"+n.jgrid.jqID(i.p.id)+"_"+h).is(":checked"),n("#jqg_"+n.jgrid.jqID(i.p.id)+"_"+h)[i.p.useProp?"prop":"attr"]("checked",r)):(i.p.multiselect&&i.p.multiboxonly&&!r&&(f=i.p.frozenColumns?i.p.id+"_frozen":"",n(i.p.selarrrow).each(function(t,r){var u=i.rows.namedItem(r);n(u).removeClass("ui-state-highlight");n("#jqg_"+n.jgrid.jqID(i.p.id)+"_"+n.jgrid.jqID(r))[i.p.useProp?"prop":"attr"]("checked",!1);f&&(n("#"+n.jgrid.jqID(r),"#"+n.jgrid.jqID(f)).removeClass("ui-state-highlight"),n("#jqg_"+n.jgrid.jqID(i.p.id)+"_"+n.jgrid.jqID(r),"#"+n.jgrid.jqID(f))[i.p.useProp?"prop":"attr"]("checked",!1))}),i.p.selarrrow=[]),n(i).jqGrid("setSelection",h,!0,t))}).bind("reloadGrid",function(t,r){if(i.p.treeGrid===!0&&(i.p.datatype=i.p.treedatatype),r&&r.current&&i.grid.selectionPreserver(i),i.p.datatype=="local"?(n(i).jqGrid("resetSelection"),i.p.data.length&&pt()):i.p.treeGrid||(i.p.selrow=null,i.p.multiselect&&(i.p.selarrrow=[],ht(!1)),i.p.savedRow=[]),i.p.scroll&&it.call(i,!0,!1),r&&r.page){var u=r.page;u>i.p.lastpage&&(u=i.p.lastpage);u<1&&(u=1);i.p.page=u;i.grid.bDiv.scrollTop=i.grid.prevRowHeight?(u-1)*i.grid.prevRowHeight*i.p.rowNum:0}return i.grid.prevRowHeight&&i.p.scroll?(delete i.p.lastpage,i.grid.populateVisible()):i.grid.populate(),i.p._inlinenav===!0&&n(i).jqGrid("showAddEditButtons"),!1}).dblclick(function(t){s=t.target;e=n(s,i.rows).closest("tr.jqgrow");n(e).length!==0&&(h=e[0].rowIndex,v=n.jgrid.getCellIndex(s),n(i).triggerHandler("jqGridDblClickRow",[n(e).attr("id"),h,v,t]),n.isFunction(this.p.ondblClickRow)&&i.p.ondblClickRow.call(i,n(e).attr("id"),h,v,t))}).bind("contextmenu",function(t){s=t.target;e=n(s,i.rows).closest("tr.jqgrow");n(e).length!==0&&(i.p.multiselect||n(i).jqGrid("setSelection",e[0].id,!0,t),h=e[0].rowIndex,v=n.jgrid.getCellIndex(s),n(i).triggerHandler("jqGridRightClickRow",[n(e).attr("id"),h,v,t]),n.isFunction(this.p.onRightClickRow)&&i.p.onRightClickRow.call(i,n(e).attr("id"),h,v,t))});r.bDiv=document.createElement("div");ft&&"auto"===(""+i.p.height).toLowerCase()&&(i.p.height="100%");n(r.bDiv).append(n('<div style="position:relative;'+(ft&&8>n.jgrid.msiever()?"height:0.01%;":"")+'"><\/div>').append("<div><\/div>").append(this)).addClass("ui-jqgrid-bdiv").css({height:i.p.height+(isNaN(i.p.height)?"":"px"),width:r.width+"px"}).scroll(r.scrollGrid);n("table:first",r.bDiv).css({width:i.p.tblwidth+"px"});n.support.tbody||2==n("tbody",this).length&&n("tbody:gt(0)",this).remove();i.p.multikey&&(n.jgrid.msie?n(r.bDiv).bind("selectstart",function(){return!1}):n(r.bDiv).bind("mousedown",function(){return!1}));a&&n(r.bDiv).hide();r.cDiv=document.createElement("div");vt=!0===i.p.hidegrid?n("<a role='link' href='javascript:void(0)'/>").addClass("ui-jqgrid-titlebar-close HeaderButton").hover(function(){vt.addClass("ui-state-hover")},function(){vt.removeClass("ui-state-hover")}).append("<span class='ui-icon ui-icon-circle-triangle-n'><\/span>").css("rtl"==o?"left":"right","0px"):"";n(r.cDiv).append(vt).append("<span class='ui-jqgrid-title"+("rtl"==o?"-rtl":"")+"'>"+i.p.caption+"<\/span>").addClass("ui-jqgrid-titlebar ui-widget-header ui-corner-top ui-helper-clearfix");n(r.cDiv).insertBefore(r.hDiv);i.p.toolbar[0]&&(r.uDiv=document.createElement("div"),"top"==i.p.toolbar[1]?n(r.uDiv).insertBefore(r.hDiv):"bottom"==i.p.toolbar[1]&&n(r.uDiv).insertAfter(r.hDiv),"both"==i.p.toolbar[1]?(r.ubDiv=document.createElement("div"),n(r.uDiv).addClass("ui-userdata ui-state-default").attr("id","t_"+this.id).insertBefore(r.hDiv),n(r.ubDiv).addClass("ui-userdata ui-state-default").attr("id","tb_"+this.id).insertAfter(r.hDiv),a&&n(r.ubDiv).hide()):n(r.uDiv).width(r.width).addClass("ui-userdata ui-state-default").attr("id","t_"+this.id),a&&n(r.uDiv).hide());i.p.toppager&&(i.p.toppager=n.jgrid.jqID(i.p.id)+"_toppager",r.topDiv=n("<div id='"+i.p.toppager+"'><\/div>")[0],i.p.toppager="#"+i.p.toppager,n(r.topDiv).addClass("ui-state-default ui-jqgrid-toppager").width(r.width).insertBefore(r.hDiv),ri(i.p.toppager,"_t"));i.p.footerrow&&(r.sDiv=n("<div class='ui-jqgrid-sdiv'><\/div>")[0],f=n("<div class='ui-jqgrid-hbox"+("rtl"==o?"-rtl":"")+"'><\/div>"),n(r.sDiv).append(f).width(r.width).insertAfter(r.hDiv),n(f).append(nt),r.footers=n(".ui-jqgrid-ftable",r.sDiv)[0].rows[0].cells,i.p.rownumbers&&(r.footers[0].className="ui-state-default jqgrid-rownum"),a&&n(r.sDiv).hide());f=null;i.p.caption?(oi=i.p.datatype,!0===i.p.hidegrid&&(n(".ui-jqgrid-titlebar-close",r.cDiv).click(function(t){var e=n.isFunction(i.p.onHeaderClick),u=".ui-jqgrid-bdiv, .ui-jqgrid-hdiv, .ui-jqgrid-pager, .ui-jqgrid-sdiv",f,o=this;return i.p.toolbar[0]===!0&&(i.p.toolbar[1]=="both"&&(u=u+(", #"+n(r.ubDiv).attr("id"))),u=u+(", #"+n(r.uDiv).attr("id"))),f=n(u,"#gview_"+n.jgrid.jqID(i.p.id)).length,i.p.gridstate=="visible"?n(u,"#gbox_"+n.jgrid.jqID(i.p.id)).slideUp("fast",function(){f--;f===0&&(n("span",o).removeClass("ui-icon-circle-triangle-n").addClass("ui-icon-circle-triangle-s"),i.p.gridstate="hidden",n("#gbox_"+n.jgrid.jqID(i.p.id)).hasClass("ui-resizable")&&n(".ui-resizable-handle","#gbox_"+n.jgrid.jqID(i.p.id)).hide(),n(i).triggerHandler("jqGridHeaderClick",[i.p.gridstate,t]),e&&(a||i.p.onHeaderClick.call(i,i.p.gridstate,t)))}):i.p.gridstate=="hidden"&&n(u,"#gbox_"+n.jgrid.jqID(i.p.id)).slideDown("fast",function(){f--;f===0&&(n("span",o).removeClass("ui-icon-circle-triangle-s").addClass("ui-icon-circle-triangle-n"),a&&(i.p.datatype=oi,y(),a=!1),i.p.gridstate="visible",n("#gbox_"+n.jgrid.jqID(i.p.id)).hasClass("ui-resizable")&&n(".ui-resizable-handle","#gbox_"+n.jgrid.jqID(i.p.id)).show(),n(i).triggerHandler("jqGridHeaderClick",[i.p.gridstate,t]),e&&(a||i.p.onHeaderClick.call(i,i.p.gridstate,t)))}),!1}),a&&(i.p.datatype="local",n(".ui-jqgrid-titlebar-close",r.cDiv).trigger("click")))):n(r.cDiv).hide();n(r.hDiv).after(r.bDiv).mousemove(function(n){if(r.resizing)return r.dragMove(n),!1});n(".ui-jqgrid-labels",r.hDiv).bind("selectstart",function(){return!1});n(document).mouseup(function(){return r.resizing?(r.dragEnd(),!1):!0});i.formatCol=tt;i.sortData=ui;i.updatepager=function(t,r){var u,s,f,c,l,v,a,h="",e=i.p.pager?"_"+n.jgrid.jqID(i.p.pager.substr(1)):"",o=i.p.toppager?"_"+i.p.toppager.substr(1):"";f=parseInt(i.p.page,10)-1;f<0&&(f=0);f=f*parseInt(i.p.rowNum,10);l=f+i.p.reccount;i.p.scroll&&(u=n("tbody:first > tr:gt(0)",i.grid.bDiv),f=l-u.length,i.p.reccount=u.length,(s=u.outerHeight()||i.grid.prevRowHeight)&&(u=f*s,s=parseInt(i.p.records,10)*s,n(">div:first",i.grid.bDiv).css({height:s}).children("div:first").css({height:u,display:u?"":"none"})),i.grid.bDiv.scrollLeft=i.grid.hDiv.scrollLeft);h=i.p.pager||"";(h=h+(i.p.toppager?h?","+i.p.toppager:i.p.toppager:""))&&(a=n.jgrid.formatter.integer||{},u=p(i.p.page),s=p(i.p.lastpage),n(".selbox",h)[this.p.useProp?"prop":"attr"]("disabled",!1),i.p.pginput===!0&&(n(".ui-pg-input",h).val(i.p.page),c=i.p.toppager?"#sp_1"+e+",#sp_1"+o:"#sp_1"+e,n(c).html(n.fmatter?n.fmatter.util.NumberFormat(i.p.lastpage,a):i.p.lastpage)),i.p.viewrecords&&(i.p.reccount===0?n(".ui-paging-info",h).html(i.p.emptyrecords):(c=f+1,v=i.p.records,n.fmatter&&(c=n.fmatter.util.NumberFormat(c,a),l=n.fmatter.util.NumberFormat(l,a),v=n.fmatter.util.NumberFormat(v,a)),n(".ui-paging-info",h).html(n.jgrid.format(i.p.recordtext,c,l,v)))),i.p.pgbuttons===!0&&(u<=0&&(u=s=0),u==1||u===0?(n("#first"+e+", #prev"+e).addClass("ui-state-disabled").removeClass("ui-state-hover"),i.p.toppager&&n("#first_t"+o+", #prev_t"+o).addClass("ui-state-disabled").removeClass("ui-state-hover")):(n("#first"+e+", #prev"+e).removeClass("ui-state-disabled"),i.p.toppager&&n("#first_t"+o+", #prev_t"+o).removeClass("ui-state-disabled")),u==s||u===0?(n("#next"+e+", #last"+e).addClass("ui-state-disabled").removeClass("ui-state-hover"),i.p.toppager&&n("#next_t"+o+", #last_t"+o).addClass("ui-state-disabled").removeClass("ui-state-hover")):(n("#next"+e+", #last"+e).removeClass("ui-state-disabled"),i.p.toppager&&n("#next_t"+o+", #last_t"+o).removeClass("ui-state-disabled"))));t===!0&&i.p.rownumbers===!0&&n("td.jqgrid-rownum",i.rows).each(function(t){n(this).html(f+1+t)});r&&i.p.jqgdnd&&n(i).jqGrid("gridDnD","updateDnD");n(i).triggerHandler("jqGridGridComplete");n.isFunction(i.p.gridComplete)&&i.p.gridComplete.call(i);n(i).triggerHandler("jqGridAfterGridComplete")};i.refreshIndex=pt;i.setHeadCheckBox=ht;i.constructTr=wt;i.formatter=function(n,t,i,r,u){return gt(n,t,i,r,u)};n.extend(r,{populate:y,emptyRows:it});this.grid=r;i.addXmlData=function(n){bt(n,i.grid.bDiv)};i.addJSONData=function(n){ot(n,i.grid.bDiv)};this.grid.cols=this.rows[0].cells;n(i).triggerHandler("jqGridInitGrid");n.isFunction(i.p.onInitGrid)&&i.p.onInitGrid.call(i);y();i.p.hiddengrid=!1}}}})};n.jgrid.extend({getGridParam:function(n){var t=this[0];if(t&&t.grid)return n?void 0!==t.p[n]?t.p[n]:null:t.p},setGridParam:function(t){return this.each(function(){this.grid&&"object"==typeof t&&n.extend(!0,this.p,t)})},getDataIDs:function(){var r=[],t=0,i,u=0;return this.each(function(){if((i=this.rows.length)&&0<i)for(;t<i;)n(this.rows[t]).hasClass("jqgrow")&&(r[u]=this.rows[t].id,u++),t++}),r},setSelection:function(t,i,r){return this.each(function(){var f,u,h,e,o,s;void 0===t||(i=!1===i?!1:!0,!(u=this.rows.namedItem(""+t))||!u.className||-1<u.className.indexOf("ui-state-disabled"))||((!0===this.p.scrollrows&&(h=this.rows.namedItem(t).rowIndex,0<=h&&(f=n(this.grid.bDiv)[0].clientHeight,e=n(this.grid.bDiv)[0].scrollTop,o=n(this.rows[h]).position().top,h=this.rows[h].clientHeight,o+h>=f+e?n(this.grid.bDiv)[0].scrollTop=o-(f+e)+h+e:o<f+e&&o<e&&(n(this.grid.bDiv)[0].scrollTop=o))),!0===this.p.frozenColumns&&(s=this.p.id+"_frozen"),this.p.multiselect)?(this.setHeadCheckBox(!1),this.p.selrow=u.id,e=n.inArray(this.p.selrow,this.p.selarrrow),-1===e?("ui-subgrid"!==u.className&&n(u).addClass("ui-state-highlight").attr("aria-selected","true"),f=!0,this.p.selarrrow.push(this.p.selrow)):("ui-subgrid"!==u.className&&n(u).removeClass("ui-state-highlight").attr("aria-selected","false"),f=!1,this.p.selarrrow.splice(e,1),o=this.p.selarrrow[0],this.p.selrow=void 0===o?null:o),n("#jqg_"+n.jgrid.jqID(this.p.id)+"_"+n.jgrid.jqID(u.id))[this.p.useProp?"prop":"attr"]("checked",f),s&&(-1===e?n("#"+n.jgrid.jqID(t),"#"+n.jgrid.jqID(s)).addClass("ui-state-highlight"):n("#"+n.jgrid.jqID(t),"#"+n.jgrid.jqID(s)).removeClass("ui-state-highlight"),n("#jqg_"+n.jgrid.jqID(this.p.id)+"_"+n.jgrid.jqID(t),"#"+n.jgrid.jqID(s))[this.p.useProp?"prop":"attr"]("checked",f)),n(this).triggerHandler("jqGridSelectRow",[u.id,f,r]),this.p.onSelectRow&&i&&this.p.onSelectRow.call(this,u.id,f,r)):"ui-subgrid"!==u.className&&(this.p.selrow!=u.id?(n(this.rows.namedItem(this.p.selrow)).removeClass("ui-state-highlight").attr({"aria-selected":"false",tabindex:"-1"}),n(u).addClass("ui-state-highlight").attr({"aria-selected":"true",tabindex:"0"}),s&&(n("#"+n.jgrid.jqID(this.p.selrow),"#"+n.jgrid.jqID(s)).removeClass("ui-state-highlight"),n("#"+n.jgrid.jqID(t),"#"+n.jgrid.jqID(s)).addClass("ui-state-highlight")),f=!0):f=!1,this.p.selrow=u.id,n(this).triggerHandler("jqGridSelectRow",[u.id,f,r]),this.p.onSelectRow&&i&&this.p.onSelectRow.call(this,u.id,f,r)))})},resetSelection:function(t){return this.each(function(){var i=this,f,u,r;!0===i.p.frozenColumns&&(r=i.p.id+"_frozen");void 0!==t?(u=t===i.p.selrow?i.p.selrow:t,n("#"+n.jgrid.jqID(i.p.id)+" tbody:first tr#"+n.jgrid.jqID(u)).removeClass("ui-state-highlight").attr("aria-selected","false"),r&&n("#"+n.jgrid.jqID(u),"#"+n.jgrid.jqID(r)).removeClass("ui-state-highlight"),i.p.multiselect&&(n("#jqg_"+n.jgrid.jqID(i.p.id)+"_"+n.jgrid.jqID(u),"#"+n.jgrid.jqID(i.p.id))[i.p.useProp?"prop":"attr"]("checked",!1),r&&n("#jqg_"+n.jgrid.jqID(i.p.id)+"_"+n.jgrid.jqID(u),"#"+n.jgrid.jqID(r))[i.p.useProp?"prop":"attr"]("checked",!1),i.setHeadCheckBox(!1)),u=null):i.p.multiselect?(n(i.p.selarrrow).each(function(t,u){f=i.rows.namedItem(u);n(f).removeClass("ui-state-highlight").attr("aria-selected","false");n("#jqg_"+n.jgrid.jqID(i.p.id)+"_"+n.jgrid.jqID(u))[i.p.useProp?"prop":"attr"]("checked",!1);r&&(n("#"+n.jgrid.jqID(u),"#"+n.jgrid.jqID(r)).removeClass("ui-state-highlight"),n("#jqg_"+n.jgrid.jqID(i.p.id)+"_"+n.jgrid.jqID(u),"#"+n.jgrid.jqID(r))[i.p.useProp?"prop":"attr"]("checked",!1))}),i.setHeadCheckBox(!1),i.p.selarrrow=[]):i.p.selrow&&(n("#"+n.jgrid.jqID(i.p.id)+" tbody:first tr#"+n.jgrid.jqID(i.p.selrow)).removeClass("ui-state-highlight").attr("aria-selected","false"),r&&n("#"+n.jgrid.jqID(i.p.selrow),"#"+n.jgrid.jqID(r)).removeClass("ui-state-highlight"),i.p.selrow=null);!0===i.p.cellEdit&&0<=parseInt(i.p.iCol,10)&&0<=parseInt(i.p.iRow,10)&&(n("td:eq("+i.p.iCol+")",i.rows[i.p.iRow]).removeClass("edit-cell ui-state-highlight"),n(i.rows[i.p.iRow]).removeClass("selected-row ui-state-hover"));i.p.savedRow=[]})},getRowData:function(t){var i={},r,u=!1,f,e=0;return this.each(function(){var o=this,s,h;if(void 0===t)u=!0,r=[],f=o.rows.length;else{if(h=o.rows.namedItem(t),!h)return i;f=2}for(;e<f;)u&&(h=o.rows[e]),n(h).hasClass("jqgrow")&&(n('td[role="gridcell"]',h).each(function(t){if(s=o.p.colModel[t].name,"cb"!==s&&"subgrid"!==s&&"rn"!==s)if(!0===o.p.treeGrid&&s==o.p.ExpandColumn)i[s]=n.jgrid.htmlDecode(n("span:first",this).html());else try{i[s]=n.unformat.call(o,this,{rowId:h.id,colModel:o.p.colModel[t]},t)}catch(r){i[s]=n.jgrid.htmlDecode(n(this).html())}}),u&&(r.push(i),i={})),e++}),r||i},delRowData:function(t){var i=!1,r,u;return this.each(function(){var f,e;if(r=this.rows.namedItem(t),!r)return!1;n(r).remove();this.p.records--;this.p.reccount--;this.updatepager(!0,!1);i=!0;this.p.multiselect&&(u=n.inArray(t,this.p.selarrrow),-1!=u&&this.p.selarrrow.splice(u,1));this.p.selrow=this.p.multiselect&&0<this.p.selarrrow.length?this.p.selarrrow[this.p.selarrrow.length-1]:null;"local"==this.p.datatype&&(f=this.p._index[n.jgrid.stripPref(this.p.idPrefix,t)],void 0!==f&&(this.p.data.splice(f,1),this.refreshIndex()));!0===this.p.altRows&&i&&(e=this.p.altclass,n(this.rows).each(function(t){t%2==1?n(this).addClass(e):n(this).removeClass(e)}))}),i},setRowData:function(t,i,r){var u,f=!0,e;return this.each(function(){var y,l,a;if(!this.grid)return!1;var o=this,h,s,v=typeof r,c={};if(s=o.rows.namedItem(t),!s)return!1;if(i)try{if(n(this.p.colModel).each(function(r){u=this.name;void 0!==i[u]&&(c[u]=this.formatter&&"string"==typeof this.formatter&&"date"==this.formatter?n.unformat.date.call(o,i[u],this):i[u],h=o.formatter(t,i[u],r,i,"edit"),e=this.title?{title:n.jgrid.stripHtml(h)}:{},!0===o.p.treeGrid&&u==o.p.ExpandColumn?n("td[role='gridcell']:eq("+r+") > span:first",s).html(h).attr(e):n("td[role='gridcell']:eq("+r+")",s).html(h).attr(e))}),"local"==o.p.datatype){if(y=n.jgrid.stripPref(o.p.idPrefix,t),l=o.p._index[y],o.p.treeGrid)for(a in o.p.treeReader)o.p.treeReader.hasOwnProperty(a)&&delete c[o.p.treeReader[a]];void 0!==l&&(o.p.data[l]=n.extend(!0,o.p.data[l],c));c=null}}catch(p){f=!1}f&&("string"===v?n(s).addClass(r):"object"===v&&n(s).css(r),n(o).triggerHandler("jqGridAfterGridComplete"))}),f},addRowData:function(t,i,r,u){r||(r="last");var d=!1,w,f,h,b,s,e,c,a,l="",v,y,p,o,g,k;return i&&(n.isArray(i)?(v=!0,r="last",y=t):(i=[i],v=!1),this.each(function(){var rt=i.length;s=this.p.rownumbers===!0?1:0;h=this.p.multiselect===!0?1:0;b=this.p.subGrid===!0?1:0;v||(t!==void 0?t=""+t:(t=n.jgrid.randId(),this.p.keyIndex!==!1&&(y=this.p.colModel[this.p.keyIndex+h+b+s].name,i[0][y]!==void 0&&(t=i[0][y]))));p=this.p.altclass;for(var tt=0,it="",nt={},ut=n.isFunction(this.p.afterInsertRow)?!0:!1;tt<rt;){if(o=i[tt],f=[],v){try{t=o[y];t===void 0&&(t=n.jgrid.randId())}catch(ft){t=n.jgrid.randId()}it=this.p.altRows===!0?(this.rows.length-1)%2==0?p:"":""}for(k=t,t=this.p.idPrefix+t,s&&(l=this.formatCol(0,1,"",null,t,!0),f[f.length]='<td role="gridcell" class="ui-state-default jqgrid-rownum" '+l+">0<\/td>"),h&&(a='<input role="checkbox" type="checkbox" id="jqg_'+this.p.id+"_"+t+'" class="cbox"/>',l=this.formatCol(s,1,"",null,t,!0),f[f.length]='<td role="gridcell" '+l+">"+a+"<\/td>"),b&&(f[f.length]=n(this).jqGrid("addSubGridCell",h+s,1)),c=h+b+s;c<this.p.colModel.length;c++)g=this.p.colModel[c],w=g.name,nt[w]=o[w],a=this.formatter(t,n.jgrid.getAccessor(o,w),c,o),l=this.formatCol(c,1,a,o,t,nt),f[f.length]='<td role="gridcell" '+l+">"+a+"<\/td>";if(f.unshift(this.constructTr(t,!1,it,nt,o,!1)),f[f.length]="<\/tr>",this.rows.length===0)n("table:first",this.grid.bDiv).append(f.join(""));else switch(r){case"last":n(this.rows[this.rows.length-1]).after(f.join(""));e=this.rows.length-1;break;case"first":n(this.rows[0]).after(f.join(""));e=1;break;case"after":(e=this.rows.namedItem(u))&&(n(this.rows[e.rowIndex+1]).hasClass("ui-subgrid")?n(this.rows[e.rowIndex+1]).after(f):n(e).after(f.join("")));e++;break;case"before":(e=this.rows.namedItem(u))&&(n(e).before(f.join("")),e=e.rowIndex);e--}this.p.subGrid===!0&&n(this).jqGrid("addSubGrid",h+s,e);this.p.records++;this.p.reccount++;n(this).triggerHandler("jqGridAfterInsertRow",[t,o,o]);ut&&this.p.afterInsertRow.call(this,t,o,o);tt++;this.p.datatype=="local"&&(nt[this.p.localReader.id]=k,this.p._index[k]=this.p.data.length,this.p.data.push(nt),nt={})}this.p.altRows!==!0||v||(r=="last"?(this.rows.length-1)%2==1&&n(this.rows[this.rows.length-1]).addClass(p):n(this.rows).each(function(t){t%2==1?n(this).addClass(p):n(this).removeClass(p)}));this.updatepager(!0,!0);d=!0})),d},footerData:function(t,i,r){function s(n){for(var t in n)if(n.hasOwnProperty(t))return!1;return!0}var u,f=!1,e={},o;return void 0===t&&(t="get"),"boolean"!=typeof r&&(r=!0),t=t.toLowerCase(),this.each(function(){var h=this,c;if(!h.grid||!h.p.footerrow||"set"==t&&s(i))return!1;f=!0;n(this.p.colModel).each(function(s){u=this.name;"set"==t?void 0!==i[u]&&(c=r?h.formatter("",i[u],s,i,"edit"):i[u],o=this.title?{title:n.jgrid.stripHtml(c)}:{},n("tr.footrow td:eq("+s+")",h.grid.sDiv).html(c).attr(o),f=!0):"get"==t&&(e[u]=n("tr.footrow td:eq("+s+")",h.grid.sDiv).html())})}),"get"==t?e:f},showHideCol:function(t,i){return this.each(function(){var r=this,o=!1,s=n.jgrid.cell_width?0:r.p.cellLayout,f,u,e;r.grid&&("string"==typeof t&&(t=[t]),i="none"!=i?"":"none",u=""===i?!0:!1,e=r.p.groupHeader&&("object"==typeof r.p.groupHeader||n.isFunction(r.p.groupHeader)),e&&n(r).jqGrid("destroyGroupHeader",!1),n(this.p.colModel).each(function(e){if(-1!==n.inArray(this.name,t)&&this.hidden===u){if(!0===r.p.frozenColumns&&!0===this.frozen)return!0;n("tr",r.grid.hDiv).each(function(){n(this.cells[e]).css("display",i)});n(r.rows).each(function(){n(this).hasClass("jqgroup")||n(this.cells[e]).css("display",i)});r.p.footerrow&&n("tr.footrow td:eq("+e+")",r.grid.sDiv).css("display",i);f=parseInt(this.width,10);r.p.tblwidth="none"===i?r.p.tblwidth-(f+s):r.p.tblwidth+(f+s);this.hidden=!u;o=!0;n(r).triggerHandler("jqGridShowHideCol",[u,this.name,e])}}),!0===o&&(!0===r.p.shrinkToFit&&!isNaN(r.p.height)&&(r.p.tblwidth+=parseInt(r.p.scrollOffset,10)),n(r).jqGrid("setGridWidth",!0===r.p.shrinkToFit?r.p.tblwidth:r.p.width)),e&&n(r).jqGrid("setGroupHeaders",r.p.groupHeader))})},hideCol:function(t){return this.each(function(){n(this).jqGrid("showHideCol",t,"none")})},showCol:function(t){return this.each(function(){n(this).jqGrid("showHideCol",t,"")})},remapColumns:function(t,i,r){function f(i){var r;r=i.length?n.makeArray(i):n.extend({},i);n.each(t,function(n){i[n]=r[this]})}function e(i,r){n(">tr"+(r||""),i).each(function(){var i=this,r=n.makeArray(i.cells);n.each(t,function(){var n=r[this];n&&i.appendChild(n)})})}var u=this.get(0);f(u.p.colModel);f(u.p.colNames);f(u.grid.headers);e(n("thead:first",u.grid.hDiv),r&&":not(.ui-jqgrid-labels)");i&&e(n("#"+n.jgrid.jqID(u.p.id)+" tbody:first"),".jqgfirstrow, tr.jqgrow, tr.jqfoot");u.p.footerrow&&e(n("tbody:first",u.grid.sDiv));u.p.remapColumns&&(u.p.remapColumns.length?f(u.p.remapColumns):u.p.remapColumns=n.makeArray(t));u.p.lastsort=n.inArray(u.p.lastsort,t);u.p.treeGrid&&(u.p.expColInd=n.inArray(u.p.expColInd,t));n(u).triggerHandler("jqGridRemapColumns",[t,i,r])},setGridWidth:function(t,i){return this.each(function(){var f,y;if(this.grid){var r=this,u,f=0,e=n.jgrid.cell_width?0:r.p.cellLayout,o,s=0,l=!1,a=r.p.scrollOffset,v,h=0,p=0,c;if("boolean"!=typeof i&&(i=r.p.shrinkToFit),!isNaN(t)){if(t=parseInt(t,10),r.grid.width=r.p.width=t,n("#gbox_"+n.jgrid.jqID(r.p.id)).css("width",t+"px"),n("#gview_"+n.jgrid.jqID(r.p.id)).css("width",t+"px"),n(r.grid.bDiv).css("width",t+"px"),n(r.grid.hDiv).css("width",t+"px"),r.p.pager&&n(r.p.pager).css("width",t+"px"),r.p.toppager&&n(r.p.toppager).css("width",t+"px"),!0===r.p.toolbar[0]&&(n(r.grid.uDiv).css("width",t+"px"),"both"==r.p.toolbar[1]&&n(r.grid.ubDiv).css("width",t+"px")),r.p.footerrow&&n(r.grid.sDiv).css("width",t+"px"),!1===i&&!0===r.p.forceFit&&(r.p.forceFit=!1),!0===i){if(n.each(r.p.colModel,function(){this.hidden===!1&&(u=this.widthOrg,f=f+(u+e),this.fixed?h=h+(u+e):s++,p++)}),0===s)return;if(r.p.tblwidth=f,v=t-e*s-h,!isNaN(r.p.height)&&(n(r.grid.bDiv)[0].clientHeight<n(r.grid.bDiv)[0].scrollHeight||1===r.rows.length)&&(l=!0,v-=a),f=0,y=0<r.grid.cols.length,n.each(r.p.colModel,function(n){this.hidden!==!1||this.fixed||(u=this.widthOrg,u=Math.round(v*u/(r.p.tblwidth-e*s-h)),u<0||(this.width=u,f=f+u,r.grid.headers[n].width=u,r.grid.headers[n].el.style.width=u+"px",r.p.footerrow&&(r.grid.footers[n].style.width=u+"px"),y&&(r.grid.cols[n].style.width=u+"px"),o=n))}),!o)return;c=0;l?t-h-(f+e*s)!==a&&(c=t-h-(f+e*s)-a):1!==Math.abs(t-h-(f+e*s))&&(c=t-h-(f+e*s));r.p.colModel[o].width+=c;r.p.tblwidth=f+c+e*s+h;r.p.tblwidth>t?(l=r.p.tblwidth-parseInt(t,10),r.p.tblwidth=t,u=r.p.colModel[o].width-=l):u=r.p.colModel[o].width;r.grid.headers[o].width=u;r.grid.headers[o].el.style.width=u+"px";y&&(r.grid.cols[o].style.width=u+"px");r.p.footerrow&&(r.grid.footers[o].style.width=u+"px")}r.p.tblwidth&&(n("table:first",r.grid.bDiv).css("width",r.p.tblwidth+"px"),n("table:first",r.grid.hDiv).css("width",r.p.tblwidth+"px"),r.grid.hDiv.scrollLeft=r.grid.bDiv.scrollLeft,r.p.footerrow&&n("table:first",r.grid.sDiv).css("width",r.p.tblwidth+"px"))}}})},setGridHeight:function(t){return this.each(function(){if(this.grid){var i=n(this.grid.bDiv);i.css({height:t+(isNaN(t)?"":"px")});!0===this.p.frozenColumns&&n("#"+n.jgrid.jqID(this.p.id)+"_frozen").parent().height(i.height()-16);this.p.height=t;this.p.scroll&&this.grid.populateVisible()}})},setCaption:function(t){return this.each(function(){this.p.caption=t;n("span.ui-jqgrid-title, span.ui-jqgrid-title-rtl",this.grid.cDiv).html(t);n(this.grid.cDiv).show()})},setLabel:function(t,i,r,u){return this.each(function(){var e=-1,f,o;this.grid&&void 0!==t&&(n(this.p.colModel).each(function(n){if(this.name==t)return e=n,!1}),0<=e)&&(f=n("tr.ui-jqgrid-labels th:eq("+e+")",this.grid.hDiv),i&&(o=n(".s-ico",f),n("[id^=jqgh_]",f).empty().html(i).append(o),this.p.colNames[e]=i),r&&("string"==typeof r?n(f).addClass(r):n(f).css(r)),"object"==typeof u&&n(f).attr(u))})},setCell:function(t,i,r,u,f,e){return this.each(function(){var s=-1,o,c,h;this.grid&&(isNaN(i)?n(this.p.colModel).each(function(n){if(this.name==i)return s=n,!1}):s=parseInt(i,10),0<=s&&(o=this.rows.namedItem(t)))&&(h=n("td:eq("+s+")",o),(""!==r||!0===e)&&(o=this.formatter(t,r,s,o,"edit"),c=this.p.colModel[s].title?{title:n.jgrid.stripHtml(o)}:{},this.p.treeGrid&&0<n(".tree-wrap",n(h)).length?n("span",n(h)).html(o).attr(c):n(h).html(o).attr(c),"local"==this.p.datatype&&(o=this.p.colModel[s],r=o.formatter&&"string"==typeof o.formatter&&"date"==o.formatter?n.unformat.date.call(this,r,o):r,c=this.p._index[t],void 0!==c&&(this.p.data[c][o.name]=r))),"string"==typeof u?n(h).addClass(u):u&&n(h).css(u),"object"==typeof f&&n(h).attr(f))})},getCell:function(t,i){var r=!1;return this.each(function(){var u=-1,f;if(this.grid&&(isNaN(i)?n(this.p.colModel).each(function(n){if(this.name===i)return u=n,!1}):u=parseInt(i,10),0<=u)&&(f=this.rows.namedItem(t),f))try{r=n.unformat.call(this,n("td:eq("+u+")",f),{rowId:f.id,colModel:this.p.colModel[u]},u)}catch(e){r=n.jgrid.htmlDecode(n("td:eq("+u+")",f).html())}}),r},getCol:function(t,i,r){var u=[],f,h=0,s,e,o,i="boolean"!=typeof i?!1:i;return void 0===r&&(r=!1),this.each(function(){var l=-1,a,c;if(this.grid&&(isNaN(t)?n(this.p.colModel).each(function(n){if(this.name===t)return l=n,!1}):l=parseInt(t,10),0<=l)&&(a=this.rows.length,c=0,a&&0<a)){for(;c<a;){if(n(this.rows[c]).hasClass("jqgrow")){try{f=n.unformat.call(this,n(this.rows[c].cells[l]),{rowId:this.rows[c].id,colModel:this.p.colModel[l]},l)}catch(v){f=n.jgrid.htmlDecode(this.rows[c].cells[l].innerHTML)}r?(o=parseFloat(f),h+=o,void 0===e&&(e=s=o),s=Math.min(s,o),e=Math.max(e,o)):i?u.push({id:this.rows[c].id,value:f}):u.push(f)}c++}if(r)switch(r.toLowerCase()){case"sum":u=h;break;case"avg":u=h/a;break;case"count":u=a;break;case"min":u=s;break;case"max":u=e}}}),u},clearGridData:function(t){return this.each(function(){if(this.grid){if("boolean"!=typeof t&&(t=!1),this.p.deepempty)n("#"+n.jgrid.jqID(this.p.id)+" tbody:first tr:gt(0)").remove();else{var i=n("#"+n.jgrid.jqID(this.p.id)+" tbody:first tr:first")[0];n("#"+n.jgrid.jqID(this.p.id)+" tbody:first").empty().append(i)}this.p.footerrow&&t&&n(".ui-jqgrid-ftable td",this.grid.sDiv).html("&#160;");this.p.selrow=null;this.p.selarrrow=[];this.p.savedRow=[];this.p.records=0;this.p.page=1;this.p.lastpage=0;this.p.reccount=0;this.p.data=[];this.p._index={};this.updatepager(!0,!1)}})},getInd:function(n,t){var r=!1,i;return this.each(function(){(i=this.rows.namedItem(n))&&(r=!0===t?i:i.rowIndex)}),r},bindKeys:function(t){var i=n.extend({onEnter:null,onSpace:null,onLeftKey:null,onRightKey:null,scrollingRows:!0},t||{});return this.each(function(){var t=this;n("body").is("[role]")||n("body").attr("role","application");t.p.scrollrows=i.scrollingRows;n(t).keydown(function(r){var e=n(t).find("tr[tabindex=0]")[0],f,u,o,s=t.p.treeReader.expanded_field;if(e)if(o=t.p._index[e.id],37===r.keyCode||38===r.keyCode||39===r.keyCode||40===r.keyCode){if(38===r.keyCode){if(u=e.previousSibling,f="",u)if(n(u).is(":hidden")){for(;u;)if(u=u.previousSibling,!n(u).is(":hidden")&&n(u).hasClass("jqgrow")){f=u.id;break}}else f=u.id;n(t).jqGrid("setSelection",f,!0,r);r.preventDefault()}if(40===r.keyCode){if(u=e.nextSibling,f="",u)if(n(u).is(":hidden")){for(;u;)if(u=u.nextSibling,!n(u).is(":hidden")&&n(u).hasClass("jqgrow")){f=u.id;break}}else f=u.id;n(t).jqGrid("setSelection",f,!0,r);r.preventDefault()}37===r.keyCode&&(t.p.treeGrid&&t.p.data[o][s]&&n(e).find("div.treeclick").trigger("click"),n(t).triggerHandler("jqGridKeyLeft",[t.p.selrow]),n.isFunction(i.onLeftKey)&&i.onLeftKey.call(t,t.p.selrow));39===r.keyCode&&(t.p.treeGrid&&!t.p.data[o][s]&&n(e).find("div.treeclick").trigger("click"),n(t).triggerHandler("jqGridKeyRight",[t.p.selrow]),n.isFunction(i.onRightKey)&&i.onRightKey.call(t,t.p.selrow))}else 13===r.keyCode?(n(t).triggerHandler("jqGridKeyEnter",[t.p.selrow]),n.isFunction(i.onEnter)&&i.onEnter.call(t,t.p.selrow)):32===r.keyCode&&(n(t).triggerHandler("jqGridKeySpace",[t.p.selrow]),n.isFunction(i.onSpace)&&i.onSpace.call(t,t.p.selrow))})})},unbindKeys:function(){return this.each(function(){n(this).unbind("keydown")})},getLocalRow:function(n){var i=!1,t;return this.each(function(){void 0!==n&&(t=this.p._index[n],0<=t&&(i=this.p.data[t]))}),i}})}(jQuery),function(n){n.fmatter={};n.extend(n.fmatter,{isBoolean:function(n){return"boolean"==typeof n},isObject:function(t){return t&&("object"==typeof t||n.isFunction(t))||!1},isString:function(n){return"string"==typeof n},isNumber:function(n){return"number"==typeof n&&isFinite(n)},isNull:function(n){return null===n},isUndefined:function(n){return void 0===n},isValue:function(n){return this.isObject(n)||this.isString(n)||this.isNumber(n)||this.isBoolean(n)},isEmpty:function(t){return!this.isString(t)&&this.isValue(t)?!1:this.isValue(t)?(t=n.trim(t).replace(/\&nbsp\;/ig,"").replace(/\&#160\;/ig,""),""===t):!0}});n.fn.fmatter=function(t,i,r,u,f){var e=i,r=n.extend({},n.jgrid.formatter,r);try{e=n.fn.fmatter[t].call(this,i,r,u,f)}catch(o){}return e};n.fmatter.util={NumberFormat:function(t,i){var f,s,e;if(n.fmatter.isNumber(t)||(t*=1),n.fmatter.isNumber(t)){var h=0>t,r=""+t,f=i.decimalSeparator||".",u;if(n.fmatter.isNumber(i.decimalPlaces)){var o=i.decimalPlaces,r=Math.pow(10,o),r=""+Math.round(t*r)/r;if(u=r.lastIndexOf("."),0<o)for(0>u?(r+=f,u=r.length-1):"."!==f&&(r=r.replace(".",f));r.length-1-u<o;)r+="0"}if(i.thousandsSeparator){for(o=i.thousandsSeparator,u=r.lastIndexOf(f),u=-1<u?u:r.length,f=r.substring(u),s=-1,e=u;0<e;e--)s++,0==s%3&&e!==u&&(!h||1<e)&&(f=o+f),f=r.charAt(e-1)+f;r=f}return r=i.prefix?i.prefix+r:r,i.suffix?r+i.suffix:r}return t},DateFormat:function(t,i,r,u){var s=/^\/Date\((([-+])?[0-9]+)(([-+])([0-9]{2})([0-9]{2}))?\)\/$/,o="string"==typeof i?i.match(s):null,s=function(n,t){for(n=""+n,t=parseInt(t,10)||2;n.length<t;)n="0"+n;return n},e={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},f=0,c,h=["i18n"];if(h.i18n={dayNames:u.dayNames,monthNames:u.monthNames},u.masks.hasOwnProperty(t)&&(t=u.masks[t]),isNaN(+i)||"u"!=(""+t).toLowerCase())if(i.constructor===Date)f=i;else if(null!==o)f=new Date(parseInt(o[1],10)),o[3]&&(t=60*Number(o[5])+Number(o[6]),t*="-"==o[4]?1:-1,t-=f.getTimezoneOffset(),f.setTime(Number(Number(f)+6e4*t)));else{for(i=(""+i).split(/[\\\/:_;.,\t\T\s-]/),t=t.split(/[\\\/:_;.,\t\T\s-]/),o=0,c=t.length;o<c;o++)"M"==t[o]&&(f=n.inArray(i[o],h.i18n.monthNames),-1!==f&&12>f&&(i[o]=f+1)),"F"==t[o]&&(f=n.inArray(i[o],h.i18n.monthNames),-1!==f&&11<f&&(i[o]=f+1-12)),i[o]&&(e[t[o].toLowerCase()]=parseInt(i[o],10));if(e.f&&(e.m=e.f),0===e.m&&0===e.y&&0===e.d)return"&#160;";e.m=parseInt(e.m,10)-1;f=e.y;70<=f&&99>=f?e.y=1900+e.y:0<=f&&69>=f&&(e.y=2e3+e.y);f=new Date(e.y,e.m,e.d,e.h,e.i,e.s,e.u)}else f=new Date(1e3*parseFloat(i));u.masks.hasOwnProperty(r)?r=u.masks[r]:r||(r="Y-m-d");t=f.getHours();i=f.getMinutes();e=f.getDate();o=f.getMonth()+1;c=f.getTimezoneOffset();var w=f.getSeconds(),b=f.getMilliseconds(),a=f.getDay(),l=f.getFullYear(),v=(a+6)%7+1,y=(new Date(l,o-1,e)-new Date(l,0,1))/864e5,p={d:s(e),D:h.i18n.dayNames[a],j:e,l:h.i18n.dayNames[a+7],N:v,S:u.S(e),w:a,z:y,W:5>v?Math.floor((y+v-1)/7)+1:Math.floor((y+v-1)/7)||(4>(new Date(l-1,0,1).getDay()+6)%7?53:52),F:h.i18n.monthNames[o- -11],m:s(o),M:h.i18n.monthNames[o-1],n:o,t:"?",L:"?",o:"?",Y:l,y:(""+l).substring(2),a:12>t?u.AmPm[0]:u.AmPm[1],A:12>t?u.AmPm[2]:u.AmPm[3],B:"?",g:t%12||12,G:t,h:s(t%12||12),H:s(t),i:s(i),s:s(w),u:b,e:"?",I:"?",O:(0<c?"-":"+")+s(100*Math.floor(Math.abs(c)/60)+Math.abs(c)%60,4),P:"?",T:((""+f).match(/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g)||[""]).pop().replace(/[^-+\dA-Z]/g,""),Z:"?",c:"?",r:"?",U:Math.floor(f/1e3)};return r.replace(/\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,function(n){return p.hasOwnProperty(n)?p[n]:n.substring(1)})}};n.fn.fmatter.defaultFormat=function(t,i){return n.fmatter.isValue(t)&&""!==t?t:i.defaultValue||"&#160;"};n.fn.fmatter.email=function(t,i){return n.fmatter.isEmpty(t)?n.fn.fmatter.defaultFormat(t,i):'<a href="mailto:'+t+'">'+t+"<\/a>"};n.fn.fmatter.checkbox=function(t,i){var r=n.extend({},i.checkbox),u;return void 0===i.colModel||n.fmatter.isUndefined(i.colModel.formatoptions)||(r=n.extend({},r,i.colModel.formatoptions)),u=!0===r.disabled?'disabled="disabled"':"",(n.fmatter.isEmpty(t)||n.fmatter.isUndefined(t))&&(t=n.fn.fmatter.defaultFormat(t,r)),t=(""+t).toLowerCase(),'<input type="checkbox" '+(0>t.search(/(false|0|no|n|off)/i)?" checked='checked' ":"")+' value="'+t+'" offval="no" '+u+"/>"};n.fn.fmatter.link=function(t,i){var r={target:i.target},u="";return void 0===i.colModel||n.fmatter.isUndefined(i.colModel.formatoptions)||(r=n.extend({},r,i.colModel.formatoptions)),r.target&&(u="target="+r.target),n.fmatter.isEmpty(t)?n.fn.fmatter.defaultFormat(t,i):"<a "+u+' href="'+t+'">'+t+"<\/a>"};n.fn.fmatter.showlink=function(t,i){var r={baseLinkUrl:i.baseLinkUrl,showAction:i.showAction,addParam:i.addParam||"",target:i.target,idName:i.idName},u="";return void 0===i.colModel||n.fmatter.isUndefined(i.colModel.formatoptions)||(r=n.extend({},r,i.colModel.formatoptions)),r.target&&(u="target="+r.target),r=r.baseLinkUrl+r.showAction+"?"+r.idName+"="+i.rowId+r.addParam,n.fmatter.isString(t)||n.fmatter.isNumber(t)?"<a "+u+' href="'+r+'">'+t+"<\/a>":n.fn.fmatter.defaultFormat(t,i)};n.fn.fmatter.integer=function(t,i){var r=n.extend({},i.integer);return void 0===i.colModel||n.fmatter.isUndefined(i.colModel.formatoptions)||(r=n.extend({},r,i.colModel.formatoptions)),n.fmatter.isEmpty(t)?r.defaultValue:n.fmatter.util.NumberFormat(t,r)};n.fn.fmatter.number=function(t,i){var r=n.extend({},i.number);return void 0===i.colModel||n.fmatter.isUndefined(i.colModel.formatoptions)||(r=n.extend({},r,i.colModel.formatoptions)),n.fmatter.isEmpty(t)?r.defaultValue:n.fmatter.util.NumberFormat(t,r)};n.fn.fmatter.currency=function(t,i){var r=n.extend({},i.currency);return void 0===i.colModel||n.fmatter.isUndefined(i.colModel.formatoptions)||(r=n.extend({},r,i.colModel.formatoptions)),n.fmatter.isEmpty(t)?r.defaultValue:n.fmatter.util.NumberFormat(t,r)};n.fn.fmatter.date=function(t,i,r,u){return r=n.extend({},i.date),void 0===i.colModel||n.fmatter.isUndefined(i.colModel.formatoptions)||(r=n.extend({},r,i.colModel.formatoptions)),!r.reformatAfterEdit&&"edit"==u?n.fn.fmatter.defaultFormat(t,i):n.fmatter.isEmpty(t)?n.fn.fmatter.defaultFormat(t,i):n.fmatter.util.DateFormat(r.srcformat,t,r.newformat,r)};n.fn.fmatter.select=function(t,i){var t=""+t,u=!1,e=[],o,r,s,f,c,l,h;if(n.fmatter.isUndefined(i.colModel.formatoptions)?n.fmatter.isUndefined(i.colModel.editoptions)||(u=i.colModel.editoptions.value,o=void 0===i.colModel.editoptions.separator?":":i.colModel.editoptions.separator,r=void 0===i.colModel.editoptions.delimiter?";":i.colModel.editoptions.delimiter):(u=i.colModel.formatoptions.value,o=void 0===i.colModel.formatoptions.separator?":":i.colModel.formatoptions.separator,r=void 0===i.colModel.formatoptions.delimiter?";":i.colModel.formatoptions.delimiter),u)if(s=!0===i.colModel.editoptions.multiple?!0:!1,f=[],s&&(f=t.split(","),f=n.map(f,function(t){return n.trim(t)})),n.fmatter.isString(u)){for(c=u.split(r),l=0,h=0;h<c.length;h++)if(r=c[h].split(o),2<r.length&&(r[1]=n.map(r,function(n,t){if(t>0)return n}).join(o)),s)-1<n.inArray(r[0],f)&&(e[l]=r[1],l++);else if(n.trim(r[0])==n.trim(t)){e[0]=r[1];break}}else n.fmatter.isObject(u)&&(s?e=n.map(f,function(n){return u[n]}):e[0]=u[t]||"");return t=e.join(", "),""===t?n.fn.fmatter.defaultFormat(t,i):t};n.fn.fmatter.rowactions=function(t){var o=n(this).closest("tr.jqgrow"),r=n(this).parent(),e=o.attr("id"),u=n(this).closest("table.ui-jqgrid-btable"),s=u[0],f=s.p,h=f.colModel[n.jgrid.getCellIndex(this)],i={keys:!1,onEdit:null,onSuccess:null,afterSave:null,onError:null,afterRestore:null,extraparam:{},url:null,restoreAfterError:!0,mtype:"POST",delOptions:{},editOptions:{}},c=function(t){n.isFunction(i.afterRestore)&&i.afterRestore.call(s,t);r.find("div.ui-inline-edit,div.ui-inline-del").show();r.find("div.ui-inline-save,div.ui-inline-cancel").hide()};n.fmatter.isUndefined(h.formatoptions)||(i=n.extend(i,h.formatoptions));n.fmatter.isUndefined(f.editOptions)||(i.editOptions=f.editOptions);n.fmatter.isUndefined(f.delOptions)||(i.delOptions=f.delOptions);o.hasClass("jqgrid-new-row")&&(i.extraparam[f.prmNames.oper]=f.prmNames.addoper);o={keys:i.keys,oneditfunc:i.onEdit,successfunc:i.onSuccess,url:i.url,extraparam:i.extraparam,aftersavefunc:function(t,u){n.isFunction(i.afterSave)&&i.afterSave.call(s,t,u);r.find("div.ui-inline-edit,div.ui-inline-del").show();r.find("div.ui-inline-save,div.ui-inline-cancel").hide()},errorfunc:i.onError,afterrestorefunc:c,restoreAfterError:i.restoreAfterError,mtype:i.mtype};switch(t){case"edit":u.jqGrid("editRow",e,o);r.find("div.ui-inline-edit,div.ui-inline-del").hide();r.find("div.ui-inline-save,div.ui-inline-cancel").show();u.triggerHandler("jqGridAfterGridComplete");break;case"save":u.jqGrid("saveRow",e,o)&&(r.find("div.ui-inline-edit,div.ui-inline-del").show(),r.find("div.ui-inline-save,div.ui-inline-cancel").hide(),u.triggerHandler("jqGridAfterGridComplete"));break;case"cancel":u.jqGrid("restoreRow",e,c);r.find("div.ui-inline-edit,div.ui-inline-del").show();r.find("div.ui-inline-save,div.ui-inline-cancel").hide();u.triggerHandler("jqGridAfterGridComplete");break;case"del":u.jqGrid("delGridRow",e,i.delOptions);break;case"formedit":u.jqGrid("setSelection",e);u.jqGrid("editGridRow",e,i.editOptions)}};n.fn.fmatter.actions=function(t,i){var u={keys:!1,editbutton:!0,delbutton:!0,editformbutton:!1},f=i.rowId,r="";return(n.fmatter.isUndefined(i.colModel.formatoptions)||(u=n.extend(u,i.colModel.formatoptions)),void 0===f||n.fmatter.isEmpty(f))?"":(u.editformbutton?r+="<div title='"+n.jgrid.nav.edittitle+"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' onclick=jQuery.fn.fmatter.rowactions.call(this,'formedit'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ><span class='ui-icon ui-icon-pencil'><\/span><\/div>":u.editbutton&&(r+="<div title='"+n.jgrid.nav.edittitle+"' style='float:left;cursor:pointer;' class='ui-pg-div ui-inline-edit' onclick=jQuery.fn.fmatter.rowactions.call(this,'edit'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover') ><span class='ui-icon ui-icon-pencil'><\/span><\/div>"),u.delbutton&&(r+="<div title='"+n.jgrid.nav.deltitle+"' style='float:left;margin-left:5px;' class='ui-pg-div ui-inline-del' onclick=jQuery.fn.fmatter.rowactions.call(this,'del'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ><span class='ui-icon ui-icon-trash'><\/span><\/div>"),r+="<div title='"+n.jgrid.edit.bSubmit+"' style='float:left;display:none' class='ui-pg-div ui-inline-save' onclick=jQuery.fn.fmatter.rowactions.call(this,'save'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ><span class='ui-icon ui-icon-disk'><\/span><\/div>",r+="<div title='"+n.jgrid.edit.bCancel+"' style='float:left;display:none;margin-left:5px;' class='ui-pg-div ui-inline-cancel' onclick=jQuery.fn.fmatter.rowactions.call(this,'cancel'); onmouseover=jQuery(this).addClass('ui-state-hover'); onmouseout=jQuery(this).removeClass('ui-state-hover'); ><span class='ui-icon ui-icon-cancel'><\/span><\/div>","<div style='margin-left:8px;'>"+r+"<\/div>")};n.unformat=function(t,i,r,u){var f,o=i.colModel.formatter,e=i.colModel.formatoptions||{},s=/([\.\*\_\'\(\)\{\}\+\?\\])/g,h=i.colModel.unformat||n.fn.fmatter[o]&&n.fn.fmatter[o].unformat;if(void 0!==h&&n.isFunction(h))f=h.call(this,n(t).text(),i,t);else if(!n.fmatter.isUndefined(o)&&n.fmatter.isString(o))switch(f=n.jgrid.formatter||{},o){case"integer":e=n.extend({},f.integer,e);i=e.thousandsSeparator.replace(s,"\\$1");f=n(t).text().replace(RegExp(i,"g"),"");break;case"number":e=n.extend({},f.number,e);i=e.thousandsSeparator.replace(s,"\\$1");f=n(t).text().replace(RegExp(i,"g"),"").replace(e.decimalSeparator,".");break;case"currency":e=n.extend({},f.currency,e);i=e.thousandsSeparator.replace(s,"\\$1");i=RegExp(i,"g");f=n(t).text();e.prefix&&e.prefix.length&&(f=f.substr(e.prefix.length));e.suffix&&e.suffix.length&&(f=f.substr(0,f.length-e.suffix.length));f=f.replace(i,"").replace(e.decimalSeparator,".");break;case"checkbox":e=i.colModel.editoptions?i.colModel.editoptions.value.split(":"):["Yes","No"];f=n("input",t).is(":checked")?e[0]:e[1];break;case"select":f=n.unformat.select(t,i,r,u);break;case"actions":return"";default:f=n(t).text()}return void 0!==f?f:!0===u?n(t).text():n.jgrid.htmlDecode(n(t).html())};n.unformat.select=function(t,i,r,u){var h,c,s;if(r=[],t=n(t).text(),!0===u)return t;var u=n.extend({},n.fmatter.isUndefined(i.colModel.formatoptions)?i.colModel.editoptions:i.colModel.formatoptions),i=void 0===u.separator?":":u.separator,f=void 0===u.delimiter?";":u.delimiter;if(u.value){var o=u.value,u=!0===u.multiple?!0:!1,e=[];if(u&&(e=t.split(","),e=n.map(e,function(t){return n.trim(t)})),n.fmatter.isString(o)){for(h=o.split(f),c=0,s=0;s<h.length;s++)if(f=h[s].split(i),2<f.length&&(f[1]=n.map(f,function(n,t){if(t>0)return n}).join(i)),u)-1<n.inArray(f[1],e)&&(r[c]=f[0],c++);else if(n.trim(f[1])==n.trim(t)){r[0]=f[0];break}}else(n.fmatter.isObject(o)||n.isArray(o))&&(u||(e[0]=t),r=n.map(e,function(t){var i;return n.each(o,function(n,r){if(r==t)return i=n,!1}),i!==void 0?i:void 0}));return r.join(", ")}return t||""};n.unformat.date=function(t,i){var r=n.jgrid.formatter.date||{};return n.fmatter.isUndefined(i.formatoptions)||(r=n.extend({},r,i.formatoptions)),n.fmatter.isEmpty(t)?n.fn.fmatter.defaultFormat(t,i):n.fmatter.util.DateFormat(r.newformat,t,r.srcformat,r)}}(jQuery),function(n){n.jgrid.extend({getColProp:function(n){var r={},t=this[0],i;if(!t.grid)return!1;for(t=t.p.colModel,i=0;i<t.length;i++)if(t[i].name==n){r=t[i];break}return r},setColProp:function(t,i){return this.each(function(){if(this.grid&&i)for(var u=this.p.colModel,r=0;r<u.length;r++)if(u[r].name==t){n.extend(!0,this.p.colModel[r],i);break}})},sortGrid:function(n,t,i){return this.each(function(){var u=-1,r;if(this.grid){for(n||(n=this.p.sortname),r=0;r<this.p.colModel.length;r++)if(this.p.colModel[r].index==n||this.p.colModel[r].name==n){u=r;break}-1!=u&&(r=this.p.colModel[u].sortable,"boolean"!=typeof r&&(r=!0),"boolean"!=typeof t&&(t=!1),r&&this.sortData("jqgh_"+this.p.id+"_"+n,u,t,i))}})},clearBeforeUnload:function(){return this.each(function(){var t=this.grid,i,r;for(t.emptyRows.call(this,!0,!0),n(t.hDiv).unbind("mousemove"),n(this).unbind(),t.dragEnd=null,t.dragMove=null,t.dragStart=null,t.emptyRows=null,t.populate=null,t.populateVisible=null,t.scrollGrid=null,t.selectionPreserver=null,t.bDiv=null,t.cDiv=null,t.hDiv=null,t.cols=null,r=t.headers.length,i=0;i<r;i++)t.headers[i].el=null;this.addJSONData=this.addXmlData=this.formatter=this.constructTr=this.setHeadCheckBox=this.refreshIndex=this.updatepager=this.sortData=this.formatCol=null})},GridDestroy:function(){return this.each(function(){if(this.grid){this.p.pager&&n(this.p.pager).remove();try{n(this).jqGrid("clearBeforeUnload");n("#gbox_"+n.jgrid.jqID(this.id)).remove()}catch(t){}}})},GridUnload:function(){return this.each(function(){var t,r,i;this.grid&&(t=n(this).attr("id"),r=n(this).attr("class"),this.p.pager&&n(this.p.pager).empty().removeClass("ui-state-default ui-jqgrid-pager corner-bottom"),i=document.createElement("table"),n(i).attr({id:t}),i.className=r,t=n.jgrid.jqID(this.id),n(i).removeClass("ui-jqgrid-btable"),1===n(this.p.pager).parents("#gbox_"+t).length?(n(i).insertBefore("#gbox_"+t).show(),n(this.p.pager).insertBefore("#gbox_"+t)):n(i).insertBefore("#gbox_"+t).show(),n(this).jqGrid("clearBeforeUnload"),n("#gbox_"+t).remove())})},setGridState:function(t){return this.each(function(){this.grid&&("hidden"==t?(n(".ui-jqgrid-bdiv, .ui-jqgrid-hdiv","#gview_"+n.jgrid.jqID(this.p.id)).slideUp("fast"),this.p.pager&&n(this.p.pager).slideUp("fast"),this.p.toppager&&n(this.p.toppager).slideUp("fast"),!0===this.p.toolbar[0]&&("both"==this.p.toolbar[1]&&n(this.grid.ubDiv).slideUp("fast"),n(this.grid.uDiv).slideUp("fast")),this.p.footerrow&&n(".ui-jqgrid-sdiv","#gbox_"+n.jgrid.jqID(this.p.id)).slideUp("fast"),n(".ui-jqgrid-titlebar-close span",this.grid.cDiv).removeClass("ui-icon-circle-triangle-n").addClass("ui-icon-circle-triangle-s"),this.p.gridstate="hidden"):"visible"==t&&(n(".ui-jqgrid-hdiv, .ui-jqgrid-bdiv","#gview_"+n.jgrid.jqID(this.p.id)).slideDown("fast"),this.p.pager&&n(this.p.pager).slideDown("fast"),this.p.toppager&&n(this.p.toppager).slideDown("fast"),!0===this.p.toolbar[0]&&("both"==this.p.toolbar[1]&&n(this.grid.ubDiv).slideDown("fast"),n(this.grid.uDiv).slideDown("fast")),this.p.footerrow&&n(".ui-jqgrid-sdiv","#gbox_"+n.jgrid.jqID(this.p.id)).slideDown("fast"),n(".ui-jqgrid-titlebar-close span",this.grid.cDiv).removeClass("ui-icon-circle-triangle-s").addClass("ui-icon-circle-triangle-n"),this.p.gridstate="visible"))})},filterToolbar:function(t){return t=n.extend({autosearch:!0,searchOnEnter:!0,beforeSearch:null,afterSearch:null,beforeClear:null,afterClear:null,searchurl:"",stringResult:!1,groupOp:"AND",defaultSearch:"bw"},t||{}),this.each(function(){var i=this,r,u,f;this.ftoolbar||(r=function(){var e={},h=0,c,u,l={},a,v,r,o,s,f;n.each(i.p.colModel,function(){if(u=this.index||this.name,a=this.searchoptions&&this.searchoptions.sopt?this.searchoptions.sopt[0]:"select"==this.stype?"eq":t.defaultSearch,c=n("#gs_"+n.jgrid.jqID(this.name),!0===this.frozen&&!0===i.p.frozenColumns?i.grid.fhDiv:i.grid.hDiv).val())e[u]=c,l[u]=a,h++;else try{delete i.p.postData[u]}catch(r){}});v=0<h?!0:!1;!0===t.stringResult||"local"==i.p.datatype?(r='{"groupOp":"'+t.groupOp+'","rules":[',o=0,n.each(e,function(n,t){0<o&&(r+=",");r+='{"field":"'+n+'",';r+='"op":"'+l[n]+'",';r+='"data":"'+(t+"").replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}';o++}),r+="]}",n.extend(i.p.postData,{filters:r}),n.each(["searchField","searchString","searchOper"],function(n,t){i.p.postData.hasOwnProperty(t)&&delete i.p.postData[t]})):n.extend(i.p.postData,e);i.p.searchurl&&(s=i.p.url,n(i).jqGrid("setGridParam",{url:i.p.searchurl}));f="stop"===n(i).triggerHandler("jqGridToolbarBeforeSearch")?!0:!1;!f&&n.isFunction(t.beforeSearch)&&(f=t.beforeSearch.call(i));f||n(i).jqGrid("setGridParam",{search:v}).trigger("reloadGrid",[{page:1}]);s&&n(i).jqGrid("setGridParam",{url:s});n(i).triggerHandler("jqGridToolbarAfterSearch");n.isFunction(t.afterSearch)&&t.afterSearch.call(i)},u=n("<tr class='ui-search-toolbar' role='rowheader'><\/tr>"),n.each(i.p.colModel,function(){var e=this,s,y,o,h,c,v,l,a,p;if(y=n("<th role='columnheader' class='ui-state-default ui-th-column ui-th-"+i.p.direction+"'><\/th>"),s=n("<div style='position:relative;height:100%;padding-right:0.3em;'><\/div>"),!0===this.hidden&&n(y).css("display","none"),this.search=!1===this.search?!1:!0,void 0===this.stype&&(this.stype="text"),o=n.extend({},this.searchoptions||{}),this.search)switch(this.stype){case"select":if(h=this.surl||o.dataUrl)n.ajax(n.extend({url:h,dataType:"html",success:function(u){o.buildSelect!==void 0?(u=o.buildSelect(u))&&n(s).append(u):n(s).append(u);o.defaultValue!==void 0&&n("select",s).val(o.defaultValue);n("select",s).attr({name:e.index||e.name,id:"gs_"+e.name});o.attr&&n("select",s).attr(o.attr);n("select",s).css({width:"100%"});n.jgrid.bindEv(n("select",s)[0],o,i);t.autosearch===!0&&n("select",s).change(function(){return r(),!1});u=null}},n.jgrid.ajaxOptions,i.p.ajaxSelectOptions||{}));else if(e.searchoptions?(c=void 0===e.searchoptions.value?"":e.searchoptions.value,v=void 0===e.searchoptions.separator?":":e.searchoptions.separator,l=void 0===e.searchoptions.delimiter?";":e.searchoptions.delimiter):e.editoptions&&(c=void 0===e.editoptions.value?"":e.editoptions.value,v=void 0===e.editoptions.separator?":":e.editoptions.separator,l=void 0===e.editoptions.delimiter?";":e.editoptions.delimiter),c){if(h=document.createElement("select"),h.style.width="100%",n(h).attr({name:e.index||e.name,id:"gs_"+e.name}),"string"==typeof c)for(c=c.split(l),p=0;p<c.length;p++)a=c[p].split(v),l=document.createElement("option"),l.value=a[0],l.innerHTML=a[1],h.appendChild(l);else if("object"==typeof c)for(a in c)c.hasOwnProperty(a)&&(l=document.createElement("option"),l.value=a,l.innerHTML=c[a],h.appendChild(l));void 0!==o.defaultValue&&n(h).val(o.defaultValue);o.attr&&n(h).attr(o.attr);n.jgrid.bindEv(h,o,i);n(s).append(h);!0===t.autosearch&&n(h).change(function(){return r(),!1})}break;case"text":v=void 0!==o.defaultValue?o.defaultValue:"";n(s).append("<input type='text' style='width:95%;padding:0px;' name='"+(e.index||e.name)+"' id='gs_"+e.name+"' value='"+v+"'/>");o.attr&&n("input",s).attr(o.attr);n.jgrid.bindEv(n("input",s)[0],o,i);!0===t.autosearch&&(t.searchOnEnter?n("input",s).keypress(function(n){return(n.charCode||n.keyCode||0)==13?(r(),!1):this}):n("input",s).keydown(function(n){switch(n.which){case 13:return!1;case 9:case 16:case 37:case 38:case 39:case 40:case 27:break;default:f&&clearTimeout(f);f=setTimeout(function(){r()},500)}}))}n(y).append(s);n(u).append(y)}),n("table thead",i.grid.hDiv).append(u),this.ftoolbar=!0,this.triggerToolbar=r,this.clearToolbar=function(r){var e={},s=0,f,r="boolean"!=typeof r?!0:r,l,u,h,c,o;n.each(i.p.colModel,function(){var t;this.searchoptions&&void 0!==this.searchoptions.defaultValue&&(t=this.searchoptions.defaultValue);f=this.index||this.name;switch(this.stype){case"select":if(n("#gs_"+n.jgrid.jqID(this.name)+" option",!0===this.frozen&&!0===i.p.frozenColumns?i.grid.fhDiv:i.grid.hDiv).each(function(i){return i===0&&(this.selected=!0),n(this).val()==t?(this.selected=!0,!1):void 0}),void 0!==t)e[f]=t,s++;else try{delete i.p.postData[f]}catch(r){}break;case"text":if(n("#gs_"+n.jgrid.jqID(this.name),!0===this.frozen&&!0===i.p.frozenColumns?i.grid.fhDiv:i.grid.hDiv).val(t),void 0!==t)e[f]=t,s++;else try{delete i.p.postData[f]}catch(u){}}});l=0<s?!0:!1;!0===t.stringResult||"local"==i.p.datatype?(u='{"groupOp":"'+t.groupOp+'","rules":[',h=0,n.each(e,function(n,t){0<h&&(u+=",");u+='{"field":"'+n+'",';u+='"op":"eq",';u+='"data":"'+(t+"").replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"}';h++}),u+="]}",n.extend(i.p.postData,{filters:u}),n.each(["searchField","searchString","searchOper"],function(n,t){i.p.postData.hasOwnProperty(t)&&delete i.p.postData[t]})):n.extend(i.p.postData,e);i.p.searchurl&&(c=i.p.url,n(i).jqGrid("setGridParam",{url:i.p.searchurl}));o="stop"===n(i).triggerHandler("jqGridToolbarBeforeClear")?!0:!1;!o&&n.isFunction(t.beforeClear)&&(o=t.beforeClear.call(i));o||r&&n(i).jqGrid("setGridParam",{search:l}).trigger("reloadGrid",[{page:1}]);c&&n(i).jqGrid("setGridParam",{url:c});n(i).triggerHandler("jqGridToolbarAfterClear");n.isFunction(t.afterClear)&&t.afterClear()},this.toggleToolbar=function(){var r=n("tr.ui-search-toolbar",i.grid.hDiv),t=!0===i.p.frozenColumns?n("tr.ui-search-toolbar",i.grid.fhDiv):!1;"none"==r.css("display")?(r.show(),t&&t.show()):(r.hide(),t&&t.hide())})})},destroyFilterToolbar:function(){return this.each(function(){this.ftoolbar&&(this.toggleToolbar=this.clearToolbar=this.triggerToolbar=null,this.ftoolbar=!1,n(this.grid.hDiv).find("table thead tr.ui-search-toolbar").remove())})},destroyGroupHeader:function(t){return void 0===t&&(t=!0),this.each(function(){var f,i,s,u,r,e,o,h;if(i=this.grid,o=n("table.ui-jqgrid-htable thead",i.hDiv),h=this.p.colModel,i){for(n(this).unbind(".setGroupHeaders"),f=n("<tr>",{role:"rowheader"}).addClass("ui-jqgrid-labels"),u=i.headers,i=0,s=u.length;i<s;i++){r=h[i].hidden?"none":"";r=n(u[i].el).width(u[i].width).css("display",r);try{r.removeAttr("rowSpan")}catch(c){r.attr("rowSpan",1)}f.append(r);e=r.children("span.ui-jqgrid-resize");0<e.length&&(e[0].style.height="");r.children("div")[0].style.top=""}n(o).children("tr.ui-jqgrid-labels").remove();n(o).prepend(f);!0===t&&n(this).jqGrid("setGridParam",{groupHeader:null})}})},setGroupHeaders:function(t){return t=n.extend({useColSpanStyle:!1,groupHeaders:[]},t||{}),this.each(function(){var h,p,w;this.p.groupHeader=t;var u,r,c=0,f,i,o,l,a,e=this.p.colModel,v=e.length,y=this.grid.headers,s=n("table.ui-jqgrid-htable",this.grid.hDiv),b=s.children("thead").children("tr.ui-jqgrid-labels:last").addClass("jqg-second-row-header");for(f=s.children("thead"),h=s.find(".jqg-first-row-header"),void 0===h[0]?h=n("<tr>",{role:"row","aria-hidden":"true"}).addClass("jqg-first-row-header").css("height","auto"):h.empty(),w=function(n,t){for(var r=t.length,i=0;i<r;i++)if(t[i].startColumnName===n)return i;return-1},n(this).prepend(f),f=n("<tr>",{role:"rowheader"}).addClass("ui-jqgrid-labels jqg-third-row-header"),u=0;u<v;u++)if(o=y[u].el,l=n(o),r=e[u],i={height:"0px",width:y[u].width+"px",display:r.hidden?"none":""},n("<th>",{role:"gridcell"}).css(i).addClass("ui-first-th-"+this.p.direction).appendTo(h),o.style.width="",i=w(r.name,t.groupHeaders),0<=i){for(i=t.groupHeaders[i],c=i.numberOfColumns,a=i.titleText,i=r=0;i<c&&u+i<v;i++)e[u+i].hidden||r++;i=n("<th>").attr({role:"columnheader"}).addClass("ui-state-default ui-th-column-header ui-th-"+this.p.direction).css({height:"22px","border-top":"0px none"}).html(a);0<r&&i.attr("colspan",""+r);this.p.headertitles&&i.attr("title",i.text());0===r&&i.hide();l.before(i);f.append(o);c-=1}else 0===c?t.useColSpanStyle?l.attr("rowspan","2"):(n("<th>",{role:"columnheader"}).addClass("ui-state-default ui-th-column-header ui-th-"+this.p.direction).css({display:r.hidden?"none":"","border-top":"0px none"}).insertBefore(l),f.append(o)):(f.append(o),c--);e=n(this).children("thead");e.prepend(h);f.insertAfter(b);s.append(e);t.useColSpanStyle&&(s.find("span.ui-jqgrid-resize").each(function(){var t=n(this).parent();t.is(":visible")&&(this.style.cssText="height: "+t.height()+"px !important; cursor: col-resize;")}),s.find("div.ui-jqgrid-sortable").each(function(){var t=n(this),i=t.parent();i.is(":visible")&&i.is(":has(span.ui-jqgrid-resize)")&&t.css("top",(i.height()-t.outerHeight())/2+"px")}));p=e.find("tr.jqg-first-row-header");n(this).bind("jqGridResizeStop.setGroupHeaders",function(n,t,i){p.find("th").eq(i).width(t)})})},setFrozenColumns:function(){return this.each(function(){var f,e;if(this.grid){var t=this,i=t.p.colModel,r=0,s=i.length,u=-1,o=!1;if(!(!0===t.p.subGrid||!0===t.p.treeGrid||!0===t.p.cellEdit||t.p.sortable||t.p.scroll||t.p.grouping)){for(t.p.rownumbers&&r++,t.p.multiselect&&r++;r<s;){if(!0===i[r].frozen)o=!0,u=r;else break;r++}0<=u&&o&&(i=t.p.caption?n(t.grid.cDiv).outerHeight():0,r=n(".ui-jqgrid-htable","#gview_"+n.jgrid.jqID(t.p.id)).height(),t.p.toppager&&(i+=n(t.grid.topDiv).outerHeight()),!0===t.p.toolbar[0]&&"bottom"!=t.p.toolbar[1]&&(i+=n(t.grid.uDiv).outerHeight()),t.grid.fhDiv=n('<div style="position:absolute;left:0px;top:'+i+"px;height:"+r+'px;" class="frozen-div ui-state-default ui-jqgrid-hdiv"><\/div>'),t.grid.fbDiv=n('<div style="position:absolute;left:0px;top:'+(parseInt(i,10)+parseInt(r,10)+1)+'px;overflow-y:hidden" class="frozen-bdiv ui-jqgrid-bdiv"><\/div>'),n("#gview_"+n.jgrid.jqID(t.p.id)).append(t.grid.fhDiv),i=n(".ui-jqgrid-htable","#gview_"+n.jgrid.jqID(t.p.id)).clone(!0),t.p.groupHeader?(n("tr.jqg-first-row-header, tr.jqg-third-row-header",i).each(function(){n("th:gt("+u+")",this).remove()}),f=-1,e=-1,n("tr.jqg-second-row-header th",i).each(function(){var t=parseInt(n(this).attr("colspan"),10);return t&&(f+=t,e++),f===u?!1:void 0}),f!==u&&(e=u),n("tr.jqg-second-row-header",i).each(function(){n("th:gt("+e+")",this).remove()})):n("tr",i).each(function(){n("th:gt("+u+")",this).remove()}),n(i).width(1),n(t.grid.fhDiv).append(i).mousemove(function(n){if(t.grid.resizing)return t.grid.dragMove(n),!1}),n(t).bind("jqGridResizeStop.setFrozenColumns",function(i,r,u){i=n(".ui-jqgrid-htable",t.grid.fhDiv);n("th:eq("+u+")",i).width(r);i=n(".ui-jqgrid-btable",t.grid.fbDiv);n("tr:first td:eq("+u+")",i).width(r)}),n(t).bind("jqGridOnSortCol.setFrozenColumns",function(i,r){var u=n("tr.ui-jqgrid-labels:last th:eq("+t.p.lastsort+")",t.grid.fhDiv),f=n("tr.ui-jqgrid-labels:last th:eq("+r+")",t.grid.fhDiv);n("span.ui-grid-ico-sort",u).addClass("ui-state-disabled");n(u).attr("aria-selected","false");n("span.ui-icon-"+t.p.sortorder,f).removeClass("ui-state-disabled");n(f).attr("aria-selected","true");t.p.viewsortcols[0]||t.p.lastsort==r||(n("span.s-ico",u).hide(),n("span.s-ico",f).show())}),n("#gview_"+n.jgrid.jqID(t.p.id)).append(t.grid.fbDiv),n(t.grid.bDiv).scroll(function(){n(t.grid.fbDiv).scrollTop(n(this).scrollTop())}),!0===t.p.hoverrows&&n("#"+n.jgrid.jqID(t.p.id)).unbind("mouseover").unbind("mouseout"),n(t).bind("jqGridAfterGridComplete.setFrozenColumns",function(){n("#"+n.jgrid.jqID(t.p.id)+"_frozen").remove();n(t.grid.fbDiv).height(n(t.grid.bDiv).height()-16);var i=n("#"+n.jgrid.jqID(t.p.id)).clone(!0);n("tr",i).each(function(){n("td:gt("+u+")",this).remove()});n(i).width(1).attr("id",t.p.id+"_frozen");n(t.grid.fbDiv).append(i);!0===t.p.hoverrows&&(n("tr.jqgrow",i).hover(function(){n(this).addClass("ui-state-hover");n("#"+n.jgrid.jqID(this.id),"#"+n.jgrid.jqID(t.p.id)).addClass("ui-state-hover")},function(){n(this).removeClass("ui-state-hover");n("#"+n.jgrid.jqID(this.id),"#"+n.jgrid.jqID(t.p.id)).removeClass("ui-state-hover")}),n("tr.jqgrow","#"+n.jgrid.jqID(t.p.id)).hover(function(){n(this).addClass("ui-state-hover");n("#"+n.jgrid.jqID(this.id),"#"+n.jgrid.jqID(t.p.id)+"_frozen").addClass("ui-state-hover")},function(){n(this).removeClass("ui-state-hover");n("#"+n.jgrid.jqID(this.id),"#"+n.jgrid.jqID(t.p.id)+"_frozen").removeClass("ui-state-hover")}));i=null}),t.p.frozenColumns=!0)}}})},destroyFrozenColumns:function(){return this.each(function(){if(this.grid&&!0===this.p.frozenColumns){if(n(this.grid.fhDiv).remove(),n(this.grid.fbDiv).remove(),this.grid.fhDiv=null,this.grid.fbDiv=null,n(this).unbind(".setFrozenColumns"),!0===this.p.hoverrows){var t;n("#"+n.jgrid.jqID(this.p.id)).bind("mouseover",function(i){t=n(i.target).closest("tr.jqgrow");"ui-subgrid"!==n(t).attr("class")&&n(t).addClass("ui-state-hover")}).bind("mouseout",function(i){t=n(i.target).closest("tr.jqgrow");n(t).removeClass("ui-state-hover")})}this.p.frozenColumns=!1}})}})}(jQuery),function(n){n.extend(n.jgrid,{showModal:function(n){n.w.show()},closeModal:function(n){n.w.hide().attr("aria-hidden","true");n.o&&n.o.remove()},hideModal:function(t,i){if(i=n.extend({jqm:!0,gb:""},i||{}),i.onClose){var r=i.gb&&"string"==typeof i.gb&&"#gbox_"===i.gb.substr(0,6)?i.onClose.call(n("#"+i.gb.substr(6))[0],t):i.onClose(t);if("boolean"==typeof r&&!r)return}if(n.fn.jqm&&!0===i.jqm)n(t).attr("aria-hidden","true").jqmHide();else{if(""!==i.gb)try{n(".jqgrid-overlay:first",i.gb).hide()}catch(u){}n(t).hide().attr("aria-hidden","true")}},findPos:function(n){var t=0,i=0;if(n.offsetParent)do t+=n.offsetLeft,i+=n.offsetTop;while(n=n.offsetParent);return[t,i]},createModal:function(t,i,r,u,f,e,o){var r=n.extend(!0,{},n.jgrid.jqModal||{},r),s=document.createElement("div"),a,v=this,o=n.extend({},o||{}),h,c,l;if(a="rtl"==n(r.gbox).attr("dir")?!0:!1,s.className="ui-widget ui-widget-content ui-corner-all ui-jqdialog",s.id=t.themodal,h=document.createElement("div"),h.className="ui-jqdialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix",h.id=t.modalhead,n(h).append("<span class='ui-jqdialog-title'>"+r.caption+"<\/span>"),c=n("<a href='javascript:void(0)' class='ui-jqdialog-titlebar-close ui-corner-all'><\/a>").hover(function(){c.addClass("ui-state-hover")},function(){c.removeClass("ui-state-hover")}).append("<span class='ui-icon ui-icon-closethick'><\/span>"),n(h).append(c),a?(s.dir="rtl",n(".ui-jqdialog-title",h).css("float","right"),n(".ui-jqdialog-titlebar-close",h).css("left","0.3em")):(s.dir="ltr",n(".ui-jqdialog-title",h).css("float","left"),n(".ui-jqdialog-titlebar-close",h).css("right","0.3em")),l=document.createElement("div"),n(l).addClass("ui-jqdialog-content ui-widget-content").attr("id",t.modalcontent),n(l).append(i),s.appendChild(l),n(s).prepend(h),!0===e?n("body").append(s):"string"==typeof e?n(e).append(s):n(s).insertBefore(u),n(s).css(o),void 0===r.jqModal&&(r.jqModal=!0),i={},n.fn.jqm&&!0===r.jqModal?(0===r.left&&0===r.top&&r.overlay&&(o=[],o=n.jgrid.findPos(f),r.left=o[0]+4,r.top=o[1]+4),i.top=r.top+"px",i.left=r.left):(0!==r.left||0!==r.top)&&(i.left=r.left,i.top=r.top+"px"),n("a.ui-jqdialog-titlebar-close",h).click(function(){var i=n("#"+n.jgrid.jqID(t.themodal)).data("onClose")||r.onClose,u=n("#"+n.jgrid.jqID(t.themodal)).data("gbox")||r.gbox;return v.hideModal("#"+n.jgrid.jqID(t.themodal),{gb:u,jqm:r.jqModal,onClose:i}),!1}),0!==r.width&&r.width||(r.width=300),0!==r.height&&r.height||(r.height=200),r.zIndex||(u=n(u).parents("*[role=dialog]").filter(":first").css("z-index"),r.zIndex=u?parseInt(u,10)+2:950),u=0,a&&i.left&&!e&&(u=n(r.gbox).width()-(isNaN(r.width)?0:parseInt(r.width,10))-8,i.left=parseInt(i.left,10)+parseInt(u,10)),i.left&&(i.left+="px"),n(s).css(n.extend({width:isNaN(r.width)?"auto":r.width+"px",height:isNaN(r.height)?"auto":r.height+"px",zIndex:r.zIndex,overflow:"hidden"},i)).attr({tabIndex:"-1",role:"dialog","aria-labelledby":t.modalhead,"aria-hidden":"true"}),void 0===r.drag&&(r.drag=!0),void 0===r.resize&&(r.resize=!0),r.drag)if(n(h).css("cursor","move"),n.fn.jqDrag)n(s).jqDrag(h);else try{n(s).draggable({handle:n("#"+n.jgrid.jqID(h.id))})}catch(y){}if(r.resize)if(n.fn.jqResize)n(s).append("<div class='jqResize ui-resizable-handle ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se'><\/div>"),n("#"+n.jgrid.jqID(t.themodal)).jqResize(".jqResize",t.scrollelm?"#"+n.jgrid.jqID(t.scrollelm):!1);else try{n(s).resizable({handles:"se, sw",alsoResize:t.scrollelm?"#"+n.jgrid.jqID(t.scrollelm):!1})}catch(p){}!0===r.closeOnEscape&&n(s).keydown(function(i){i.which==27&&(i=n("#"+n.jgrid.jqID(t.themodal)).data("onClose")||r.onClose,v.hideModal("#"+n.jgrid.jqID(t.themodal),{gb:r.gbox,jqm:r.jqModal,onClose:i}))})},viewModal:function(t,i){if(i=n.extend({toTop:!0,overlay:10,modal:!1,overlayClass:"ui-widget-overlay",onShow:n.jgrid.showModal,onHide:n.jgrid.closeModal,gbox:"",jqm:!0,jqM:!0},i||{}),n.fn.jqm&&!0===i.jqm)i.jqM?n(t).attr("aria-hidden","false").jqm(i).jqmShow():n(t).attr("aria-hidden","false").jqmShow();else{""!==i.gbox&&(n(".jqgrid-overlay:first",i.gbox).show(),n(t).data("gbox",i.gbox));n(t).show().attr("aria-hidden","false");try{n(":input:visible",t)[0].focus()}catch(r){}}},info_dialog:function(t,i,r,u){var f={width:290,height:"auto",dataheight:"auto",drag:!0,resize:!1,left:250,top:170,zIndex:1e3,jqModal:!0,modal:!1,closeOnEscape:!0,align:"center",buttonalign:"center",buttons:[]},e,o;if(n.extend(!0,f,n.jgrid.jqModal||{},{caption:"<b>"+t+"<\/b>"},u||{}),e=f.jqModal,o=this,n.fn.jqm&&!e&&(e=!1),t="",0<f.buttons.length)for(u=0;u<f.buttons.length;u++)void 0===f.buttons[u].id&&(f.buttons[u].id="info_button_"+u),t+="<a href='javascript:void(0)' id='"+f.buttons[u].id+"' class='fm-button ui-state-default ui-corner-all'>"+f.buttons[u].text+"<\/a>";u=isNaN(f.dataheight)?f.dataheight:f.dataheight+"px";i="<div id='info_id'>"+("<div id='infocnt' style='margin:0px;padding-bottom:1em;width:100%;overflow:auto;position:relative;height:"+u+";"+("text-align:"+f.align+";")+"'>"+i+"<\/div>");i+=r?"<div class='ui-widget-content ui-helper-clearfix' style='text-align:"+f.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'><a href='javascript:void(0)' id='closedialog' class='fm-button ui-state-default ui-corner-all'>"+r+"<\/a>"+t+"<\/div>":""!==t?"<div class='ui-widget-content ui-helper-clearfix' style='text-align:"+f.buttonalign+";padding-bottom:0.8em;padding-top:0.5em;background-image: none;border-width: 1px 0 0 0;'>"+t+"<\/div>":"";i+="<\/div>";try{"false"==n("#info_dialog").attr("aria-hidden")&&n.jgrid.hideModal("#info_dialog",{jqm:e});n("#info_dialog").remove()}catch(s){}n.jgrid.createModal({themodal:"info_dialog",modalhead:"info_head",modalcontent:"info_content",scrollelm:"infocnt"},i,f,"","",!0);t&&n.each(f.buttons,function(t){n("#"+n.jgrid.jqID(this.id),"#info_id").bind("click",function(){return f.buttons[t].onClick.call(n("#info_dialog")),!1})});n("#closedialog","#info_id").click(function(){return o.hideModal("#info_dialog",{jqm:e}),!1});n(".fm-button","#info_dialog").hover(function(){n(this).addClass("ui-state-hover")},function(){n(this).removeClass("ui-state-hover")});n.isFunction(f.beforeOpen)&&f.beforeOpen();n.jgrid.viewModal("#info_dialog",{onHide:function(n){n.w.hide().remove();n.o&&n.o.remove()},modal:f.modal,jqm:e});n.isFunction(f.afterOpen)&&f.afterOpen();try{n("#info_dialog").focus()}catch(h){}},bindEv:function(t,i,r){n.isFunction(i.dataInit)&&i.dataInit.call(r,t);i.dataEvents&&n.each(i.dataEvents,function(){void 0!==this.data?n(t).bind(this.type,this.data,this.fn):n(t).bind(this.type,this.fn)})},createEl:function(t,i,r,u,f){function c(t,i,r){var u="dataInit,dataEvents,dataUrl,buildSelect,sopt,searchhidden,defaultValue,attr,custom_element,custom_value".split(",");void 0!==r&&n.isArray(r)&&n.merge(u,r);n.each(i,function(i,r){-1===n.inArray(i,u)&&n(t).attr(i,r)});i.hasOwnProperty("id")||n(t).attr("id",n.jgrid.randId())}var e="",l=this,o,v,h,s,f;switch(t){case"textarea":e=document.createElement("textarea");u?i.cols||n(e).css({width:"98%"}):i.cols||(i.cols=20);i.rows||(i.rows=2);("&nbsp;"==r||"&#160;"==r||1==r.length&&160==r.charCodeAt(0))&&(r="");e.value=r;c(e,i);n(e).attr({role:"textbox",multiline:"true"});break;case"checkbox":e=document.createElement("input");e.type="checkbox";i.value?(t=i.value.split(":"),r===t[0]&&(e.checked=!0,e.defaultChecked=!0),e.value=t[0],n(e).attr("offval",t[1])):(t=r.toLowerCase(),0>t.search(/(false|0|no|off|undefined)/i)&&""!==t?(e.checked=!0,e.defaultChecked=!0,e.value=r):e.value="on",n(e).attr("offval","off"));c(e,i,["value"]);n(e).attr("role","checkbox");break;case"select":if(e=document.createElement("select"),e.setAttribute("role","select"),u=[],!0===i.multiple?(t=!0,e.multiple="multiple",n(e).attr("aria-multiselectable","true")):t=!1,void 0!==i.dataUrl)t=i.name?(""+i.id).substring(0,(""+i.id).length-(""+i.name).length-1):""+i.id,u=i.postData||f.postData,l.p&&l.p.idPrefix?t=n.jgrid.stripPref(l.p.idPrefix,t):u=void 0,n.ajax(n.extend({url:i.dataUrl,type:"GET",dataType:"html",data:n.isFunction(u)?u.call(l,t,r,""+i.name):u,context:{elem:e,options:i,vl:r},success:function(t){var i=[],u=this.elem,f=this.vl,r=n.extend({},this.options),e=r.multiple===!0;n.isFunction(r.buildSelect)&&(t=r.buildSelect.call(l,t));(t=n(t).html())&&(n(u).append(t),c(u,r),r.size===void 0&&(r.size=e?3:1),e?(i=f.split(","),i=n.map(i,function(t){return n.trim(t)})):i[0]=n.trim(f),setTimeout(function(){n("option",u).each(function(t){t===0&&u.multiple&&(this.selected=!1);n(this).attr("role","option");(n.inArray(n.trim(n(this).text()),i)>-1||n.inArray(n.trim(n(this).val()),i)>-1)&&(this.selected="selected")})},0))}},f||{}));else if(i.value){if(void 0===i.size&&(i.size=t?3:1),t&&(u=r.split(","),u=n.map(u,function(t){return n.trim(t)})),"function"==typeof i.value&&(i.value=i.value()),s=void 0===i.separator?":":i.separator,f=void 0===i.delimiter?";":i.delimiter,"string"==typeof i.value)for(v=i.value.split(f),o=0;o<v.length;o++)h=v[o].split(s),2<h.length&&(h[1]=n.map(h,function(n,t){if(t>0)return n}).join(s)),f=document.createElement("option"),f.setAttribute("role","option"),f.value=h[0],f.innerHTML=h[1],e.appendChild(f),t||n.trim(h[0])!=n.trim(r)&&n.trim(h[1])!=n.trim(r)||(f.selected="selected"),t&&(-1<n.inArray(n.trim(h[1]),u)||-1<n.inArray(n.trim(h[0]),u))&&(f.selected="selected");else if("object"==typeof i.value)for(o in s=i.value,s)s.hasOwnProperty(o)&&(f=document.createElement("option"),f.setAttribute("role","option"),f.value=o,f.innerHTML=s[o],e.appendChild(f),t||n.trim(o)!=n.trim(r)&&n.trim(s[o])!=n.trim(r)||(f.selected="selected"),t&&(-1<n.inArray(n.trim(s[o]),u)||-1<n.inArray(n.trim(o),u))&&(f.selected="selected"));c(e,i,["value"])}break;case"text":case"password":case"button":o="button"==t?"button":"textbox";e=document.createElement("input");e.type=t;e.value=r;c(e,i);"button"!=t&&(u?i.size||n(e).css({width:"98%"}):i.size||(i.size=20));n(e).attr("role",o);break;case"image":case"file":e=document.createElement("input");e.type=t;c(e,i);break;case"custom":e=document.createElement("span");try{if(n.isFunction(i.custom_element))if(s=i.custom_element.call(l,r,i))s=n(s).addClass("customelement").attr({id:i.id,name:i.name}),n(e).empty().append(s);else throw"e2";else throw"e1";}catch(a){"e1"==a&&n.jgrid.info_dialog(n.jgrid.errors.errcap,"function 'custom_element' "+n.jgrid.edit.msg.nodefined,n.jgrid.edit.bClose);"e2"==a?n.jgrid.info_dialog(n.jgrid.errors.errcap,"function 'custom_element' "+n.jgrid.edit.msg.novalue,n.jgrid.edit.bClose):n.jgrid.info_dialog(n.jgrid.errors.errcap,"string"==typeof a?a:a.message,n.jgrid.edit.bClose)}}return e},checkDate:function(n,t){var i={},r,n=n.toLowerCase(),f,e,o,u,s;if(r=-1!=n.indexOf("/")?"/":-1!=n.indexOf("-")?"-":-1!=n.indexOf(".")?".":"/",n=n.split(r),t=t.split(r),3!=t.length)return!1;for(r=-1,e=-1,o=-1,u=0;u<n.length;u++)f=isNaN(t[u])?0:parseInt(t[u],10),i[n[u]]=f,f=n[u],-1!=f.indexOf("y")&&(r=u),-1!=f.indexOf("m")&&(o=u),-1!=f.indexOf("d")&&(e=u);return(f="y"==n[r]||"yyyy"==n[r]?4:"yy"==n[r]?2:-1,u=function(n){for(var t=1;t<=n;t++)this[t]=31,(4==t||6==t||9==t||11==t)&&(this[t]=30),2==t&&(this[t]=29);return this}(12),-1===r)?!1:(s=i[n[r]].toString(),2==f&&1==s.length&&(f=1),s.length!=f||0===i[n[r]]&&"00"!=t[r]||-1===o)?!1:(s=i[n[o]].toString(),1>s.length||1>i[n[o]]||12<i[n[o]]||-1===e)?!1:(s=i[n[e]].toString(),1>s.length||1>i[n[e]]||31<i[n[e]]||2==i[n[o]]&&i[n[e]]>(0==i[n[r]]%4&&(0!=i[n[r]]%100||0==i[n[r]]%400)?29:28)||i[n[e]]>u[i[n[o]]]?!1:!0)},isEmpty:function(n){return n.match(/^\s+$/)||""===n?!0:!1},checkTime:function(t){if(!n.jgrid.isEmpty(t))if(t=t.match(/^(\d{1,2}):(\d{2})([ap]m)?$/)){if(t[3]){if(1>t[1]||12<t[1])return!1}else if(23<t[1])return!1;if(59<t[2])return!1}else return!1;return!0},checkValues:function(t,i,r,u,f){var e,o;if(void 0===u)if("string"==typeof i){for(u=0,f=r.p.colModel.length;u<f;u++)if(r.p.colModel[u].name==i){e=r.p.colModel[u].editrules;i=u;try{o=r.p.colModel[u].formoptions.label}catch(s){}break}}else 0<=i&&(e=r.p.colModel[i].editrules);else e=u,o=void 0===f?"_":f;if(e){if(o||(o=r.p.colNames[i]),!0===e.required&&n.jgrid.isEmpty(t))return[!1,o+": "+n.jgrid.edit.msg.required,""];if(u=!1===e.required?!1:!0,!0===e.number&&!(!1===u&&n.jgrid.isEmpty(t))&&isNaN(t))return[!1,o+": "+n.jgrid.edit.msg.number,""];if(void 0!==e.minValue&&!isNaN(e.minValue)&&parseFloat(t)<parseFloat(e.minValue))return[!1,o+": "+n.jgrid.edit.msg.minValue+" "+e.minValue,""];if(void 0!==e.maxValue&&!isNaN(e.maxValue)&&parseFloat(t)>parseFloat(e.maxValue))return[!1,o+": "+n.jgrid.edit.msg.maxValue+" "+e.maxValue,""];if(!0===e.email&&!(!1===u&&n.jgrid.isEmpty(t))&&(f=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,!f.test(t)))return[!1,o+": "+n.jgrid.edit.msg.email,""];if(!0===e.integer&&!(!1===u&&n.jgrid.isEmpty(t))&&(isNaN(t)||0!=t%1||-1!=t.indexOf(".")))return[!1,o+": "+n.jgrid.edit.msg.integer,""];if(!0===e.date&&!(!1===u&&n.jgrid.isEmpty(t))&&(i=r.p.colModel[i].formatoptions&&r.p.colModel[i].formatoptions.newformat?r.p.colModel[i].formatoptions.newformat:r.p.colModel[i].datefmt||"Y-m-d",!n.jgrid.checkDate(i,t)))return[!1,o+": "+n.jgrid.edit.msg.date+" - "+i,""];if(!0===e.time&&!(!1===u&&n.jgrid.isEmpty(t))&&!n.jgrid.checkTime(t))return[!1,o+": "+n.jgrid.edit.msg.date+" - hh:mm (am/pm)",""];if(!0===e.url&&!(!1===u&&n.jgrid.isEmpty(t))&&(f=/^(((https?)|(ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i,!f.test(t)))return[!1,o+": "+n.jgrid.edit.msg.url,""];if(!0===e.custom&&!(!1===u&&n.jgrid.isEmpty(t)))return n.isFunction(e.custom_func)?(t=e.custom_func.call(r,t,o),n.isArray(t)?t:[!1,n.jgrid.edit.msg.customarray,""]):[!1,n.jgrid.edit.msg.customfcheck,""]}return[!0,"",""]}})}(jQuery),function(n){var t={};n.jgrid.extend({searchGrid:function(t){return t=n.extend(!0,{recreateFilter:!1,drag:!0,sField:"searchField",sValue:"searchString",sOper:"searchOper",sFilter:"filters",loadDefaults:!0,beforeShowSearch:null,afterShowSearch:null,onInitializeSearch:null,afterRedraw:null,afterChange:null,closeAfterSearch:!1,closeAfterReset:!1,closeOnEscape:!1,searchOnEnter:!1,multipleSearch:!1,multipleGroup:!1,top:0,left:0,jqModal:!0,modal:!1,resize:!0,width:450,height:"auto",dataheight:"auto",showQuery:!1,errorcheck:!0,sopt:null,stringResult:void 0,onClose:null,onSearch:null,onReset:null,toTop:!0,overlay:30,columns:[],tmplNames:null,tmplFilters:null,tmplLabel:" Template: ",showOnLoad:!1,layer:null},n.jgrid.search,t||{}),this.each(function(){function w(f){s=n(i).triggerHandler("jqGridFilterBeforeShow",[f]);void 0===s&&(s=!0);s&&n.isFunction(t.beforeShowSearch)&&(s=t.beforeShowSearch.call(i,f));s&&(n.jgrid.viewModal("#"+n.jgrid.jqID(u.themodal),{gbox:"#gbox_"+n.jgrid.jqID(r),jqm:t.jqModal,modal:t.modal,overlay:t.overlay,toTop:t.toTop}),n(i).triggerHandler("jqGridFilterAfterShow",[f]),n.isFunction(t.afterShowSearch)&&t.afterShowSearch.call(i,f))}var i=this,v;if(i.grid){var r="fbox_"+i.p.id,s=!0,u={themodal:"searchmod"+r,modalhead:"searchhd"+r,modalcontent:"searchcnt"+r,scrollelm:r},e=i.p.postData[t.sFilter];if("string"==typeof e&&(e=n.jgrid.parse(e)),!0===t.recreateFilter&&n("#"+n.jgrid.jqID(u.themodal)).remove(),void 0!==n("#"+n.jgrid.jqID(u.themodal))[0])w(n("#fbox_"+n.jgrid.jqID(+i.p.id)));else{var f=n("<div><div id='"+r+"' class='searchFilter' style='overflow:auto'><\/div><\/div>").insertBefore("#gview_"+n.jgrid.jqID(i.p.id)),a="left",b="";"rtl"==i.p.direction&&(a="right",b=" style='text-align:left'",f.attr("dir","rtl"));var h=n.extend([],i.p.colModel),k="<a href='javascript:void(0)' id='"+r+"_search' class='fm-button ui-state-default ui-corner-all fm-button-icon-right ui-reset'><span class='ui-icon ui-icon-search'><\/span>"+t.Find+"<\/a>",d="<a href='javascript:void(0)' id='"+r+"_reset' class='fm-button ui-state-default ui-corner-all fm-button-icon-left ui-search'><span class='ui-icon ui-icon-arrowreturnthick-1-w'><\/span>"+t.Reset+"<\/a>",y="",o="",p,c=!1,l=-1;t.showQuery&&(y="<a href='javascript:void(0)' id='"+r+"_query' class='fm-button ui-state-default ui-corner-all fm-button-icon-left'><span class='ui-icon ui-icon-comment'><\/span>Query<\/a>");t.columns.length?h=t.columns:n.each(h,function(n,t){if(t.label||(t.label=i.p.colNames[n]),!c){var r=t.search===void 0?!0:t.search,u=t.hidden===!0;(t.searchoptions&&t.searchoptions.searchhidden===!0&&r||r&&!u)&&(c=!0,p=t.index||t.name,l=n)}});(!e&&p||!1===t.multipleSearch)&&(v="eq",0<=l&&h[l].searchoptions&&h[l].searchoptions.sopt?v=h[l].searchoptions.sopt[0]:t.sopt&&t.sopt.length&&(v=t.sopt[0]),e={groupOp:"AND",rules:[{field:p,op:v,data:""}]});c=!1;t.tmplNames&&t.tmplNames.length&&(c=!0,o=t.tmplLabel,o+="<select class='ui-template'>",o+="<option value='default'>Default<\/option>",n.each(t.tmplNames,function(n,t){o=o+("<option value='"+n+"'>"+t+"<\/option>")}),o+="<\/select>");a="<table class='EditTable' style='border:0px none;margin-top:5px' id='"+r+"_2'><tbody><tr><td colspan='2'><hr class='ui-widget-content' style='margin:1px'/><\/td><\/tr><tr><td class='EditButton' style='text-align:"+a+"'>"+d+o+"<\/td><td class='EditButton' "+b+">"+y+k+"<\/td><\/tr><\/tbody><\/table>";r=n.jgrid.jqID(r);n("#"+r).jqFilter({columns:h,filter:t.loadDefaults?e:null,showQuery:t.showQuery,errorcheck:t.errorcheck,sopt:t.sopt,groupButton:t.multipleGroup,ruleButtons:t.multipleSearch,afterRedraw:t.afterRedraw,_gridsopt:n.jgrid.search.odata,ajaxSelectOptions:i.p.ajaxSelectOptions,groupOps:t.groupOps,onChange:function(){this.p.showQuery&&n(".query",this).html(this.toUserFriendlyString());n.isFunction(t.afterChange)&&t.afterChange.call(i,n("#"+r),t)},direction:i.p.direction});f.append(a);c&&t.tmplFilters&&t.tmplFilters.length&&n(".ui-template",f).bind("change",function(){var i=n(this).val();return i=="default"?n("#"+r).jqFilter("addFilter",e):n("#"+r).jqFilter("addFilter",t.tmplFilters[parseInt(i,10)]),!1});!0===t.multipleGroup&&(t.multipleSearch=!0);n(i).triggerHandler("jqGridFilterInitialize",[n("#"+r)]);n.isFunction(t.onInitializeSearch)&&t.onInitializeSearch.call(i,n("#"+r));t.gbox="#gbox_"+r;t.layer?n.jgrid.createModal(u,f,t,"#gview_"+n.jgrid.jqID(i.p.id),n("#gbox_"+n.jgrid.jqID(i.p.id))[0],"#"+n.jgrid.jqID(t.layer),{position:"relative"}):n.jgrid.createModal(u,f,t,"#gview_"+n.jgrid.jqID(i.p.id),n("#gbox_"+n.jgrid.jqID(i.p.id))[0]);(t.searchOnEnter||t.closeOnEscape)&&n("#"+n.jgrid.jqID(u.themodal)).keydown(function(i){var f=n(i.target);return t.searchOnEnter&&i.which===13&&!f.hasClass("add-group")&&!f.hasClass("add-rule")&&!f.hasClass("delete-group")&&!f.hasClass("delete-rule")&&(!f.hasClass("fm-button")||!f.is("[id$=_query]"))?(n("#"+r+"_search").focus().click(),!1):t.closeOnEscape&&i.which===27?(n("#"+n.jgrid.jqID(u.modalhead)).find(".ui-jqdialog-titlebar-close").focus().click(),!1):void 0});y&&n("#"+r+"_query").bind("click",function(){return n(".queryresult",f).toggle(),!1});void 0===t.stringResult&&(t.stringResult=t.multipleSearch);n("#"+r+"_search").bind("click",function(){var o=n("#"+r),f={},s,e=o.jqFilter("filterData");if(t.errorcheck&&(o[0].hideError(),t.showQuery||o.jqFilter("toSQLString"),o[0].p.error))return o[0].showError(),!1;if(t.stringResult){try{s=xmlJsonClass.toJson(e,"","",!1)}catch(h){try{s=JSON.stringify(e)}catch(c){}}typeof s=="string"&&(f[t.sFilter]=s,n.each([t.sField,t.sValue,t.sOper],function(){f[this]=""}))}else t.multipleSearch?(f[t.sFilter]=e,n.each([t.sField,t.sValue,t.sOper],function(){f[this]=""})):(f[t.sField]=e.rules[0].field,f[t.sValue]=e.rules[0].data,f[t.sOper]=e.rules[0].op,f[t.sFilter]="");return i.p.search=!0,n.extend(i.p.postData,f),n(i).triggerHandler("jqGridFilterSearch"),n.isFunction(t.onSearch)&&t.onSearch.call(i),n(i).trigger("reloadGrid",[{page:1}]),t.closeAfterSearch&&n.jgrid.hideModal("#"+n.jgrid.jqID(u.themodal),{gb:"#gbox_"+n.jgrid.jqID(i.p.id),jqm:t.jqModal,onClose:t.onClose}),!1});n("#"+r+"_reset").bind("click",function(){var u={},e=n("#"+r);return i.p.search=!1,t.multipleSearch===!1?u[t.sField]=u[t.sValue]=u[t.sOper]="":u[t.sFilter]="",e[0].resetFilter(),c&&n(".ui-template",f).val("default"),n.extend(i.p.postData,u),n(i).triggerHandler("jqGridFilterReset"),n.isFunction(t.onReset)&&t.onReset.call(i),n(i).trigger("reloadGrid",[{page:1}]),!1});w(n("#"+r));n(".fm-button:not(.ui-state-disabled)",f).hover(function(){n(this).addClass("ui-state-hover")},function(){n(this).removeClass("ui-state-hover")})}}})},editGridRow:function(i,r){return r=n.extend(!0,{top:0,left:0,width:300,datawidth:"auto",height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,url:null,mtype:"POST",clearAfterAdd:!0,closeAfterEdit:!1,reloadAfterSubmit:!0,onInitializeForm:null,beforeInitData:null,beforeShowForm:null,afterShowForm:null,beforeSubmit:null,afterSubmit:null,onclickSubmit:null,afterComplete:null,onclickPgButtons:null,afterclickPgButtons:null,editData:{},recreateForm:!1,jqModal:!0,closeOnEscape:!1,addedrow:"first",topinfo:"",bottominfo:"",saveicon:[],closeicon:[],savekey:[!1,13],navkeys:[!1,38,40],checkOnSubmit:!1,checkOnUpdate:!1,_savedData:{},processing:!1,onClose:null,ajaxEditOptions:{},serializeEditData:null,viewPagerButtons:!0},n.jgrid.edit,r||{}),t[n(this)[0].p.id]=r,this.each(function(){function at(){return n(o+" > tbody > tr > td > .FormElement").each(function(){var i=n(".customelement",this),t,r;if(i.length)t=n(i[0]).attr("name"),n.each(u.p.colModel,function(){if(this.name===t&&this.editoptions&&n.isFunction(this.editoptions.custom_value)){try{if(f[t]=this.editoptions.custom_value.call(u,n("#"+n.jgrid.jqID(t),o),"get"),void 0===f[t])throw"e1";}catch(i){"e1"===i?n.jgrid.info_dialog(n.jgrid.errors.errcap,"function 'custom_value' "+n.jgrid.edit.msg.novalue,n.jgrid.edit.bClose):n.jgrid.info_dialog(n.jgrid.errors.errcap,i.message,n.jgrid.edit.bClose)}return!0}});else{switch(n(this).get(0).type){case"checkbox":n(this).is(":checked")?f[this.name]=n(this).val():(i=n(this).attr("offval"),f[this.name]=i);break;case"select-one":f[this.name]=n("option:selected",this).val();y[this.name]=n("option:selected",this).text();break;case"select-multiple":f[this.name]=n(this).val();f[this.name]=f[this.name]?f[this.name].join(","):"";r=[];n("option:selected",this).each(function(t,i){r[t]=n(i).text()});y[this.name]=r.join(",");break;case"password":case"text":case"textarea":case"button":f[this.name]=n(this).val()}u.p.autoencode&&(f[this.name]=n.jgrid.htmlEncode(f[this.name]))}}),!0}function bt(i,r,f,o){for(var h,k,c,y=0,s,p,l,w=[],a=!1,b="",v=1;v<=o;v++)b+="<td class='CaptionTD'>&#160;<\/td><td class='DataTD'>&#160;<\/td>";return"_empty"!=i&&(a=n(r).jqGrid("getInd",i)),n(r.p.colModel).each(function(v){var tt;if(h=this.name,p=(k=this.editrules&&!0===this.editrules.edithidden?!1:!0===this.hidden?!0:!1)?"style='display:none'":"","cb"!==h&&"subgrid"!==h&&!0===this.editable&&"rn"!==h){if(!1===a)s="";else if(h==r.p.ExpandColumn&&!0===r.p.treeGrid)s=n("td[role='gridcell']:eq("+v+")",r.rows[a]).text();else{try{s=n.unformat.call(r,n("td[role='gridcell']:eq("+v+")",r.rows[a]),{rowId:i,colModel:this},v)}catch(rt){s=this.edittype&&"textarea"==this.edittype?n("td[role='gridcell']:eq("+v+")",r.rows[a]).text():n("td[role='gridcell']:eq("+v+")",r.rows[a]).html()}s&&"&nbsp;"!=s&&"&#160;"!=s&&(1!=s.length||160!=s.charCodeAt(0))||(s="")}var d=n.extend({},this.editoptions||{},{id:h,name:h}),g=n.extend({},{elmprefix:"",elmsuffix:"",rowabove:!1,rowcontent:""},this.formoptions||{}),nt=parseInt(g.rowpos,10)||y+1,it=parseInt(2*(parseInt(g.colpos,10)||1),10);"_empty"==i&&d.defaultValue&&(s=n.isFunction(d.defaultValue)?d.defaultValue.call(u):d.defaultValue);this.edittype||(this.edittype="text");u.p.autoencode&&(s=n.jgrid.htmlDecode(s));l=n.jgrid.createEl.call(u,this.edittype,d,s,!1,n.extend({},n.jgrid.ajaxOptions,r.p.ajaxSelectOptions||{}));""===s&&"checkbox"==this.edittype&&(s=n(l).attr("offval"));""===s&&"select"==this.edittype&&(s=n("option:eq(0)",l).text());(t[u.p.id].checkOnSubmit||t[u.p.id].checkOnUpdate)&&(t[u.p.id]._savedData[h]=s);n(l).addClass("FormElement");-1<n.inArray(this.edittype,["text","textarea","password","select"])&&n(l).addClass("ui-widget-content ui-corner-all");c=n(f).find("tr[rowpos="+nt+"]");g.rowabove&&(tt=n("<tr><td class='contentinfo' colspan='"+2*o+"'>"+g.rowcontent+"<\/td><\/tr>"),n(f).append(tt),tt[0].rp=nt);0===c.length&&(c=n("<tr "+p+" rowpos='"+nt+"'><\/tr>").addClass("FormData").attr("id","tr_"+h),n(c).append(b),n(f).append(c),c[0].rp=nt);n("td:eq("+(it-2)+")",c[0]).html(void 0===g.label?r.p.colNames[v]:g.label);n("td:eq("+(it-1)+")",c[0]).append(g.elmprefix).append(l).append(g.elmsuffix);n.isFunction(d.custom_value)&&"_empty"!==i&&d.custom_value.call(u,n("#"+h,"#"+e),"set",s);n.jgrid.bindEv(l,d,u);w[y]=v;y++}}),0<y&&(v=n("<tr class='FormData' style='display:none'><td class='CaptionTD'><\/td><td colspan='"+(2*o-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='"+r.p.id+"_id' value='"+i+"'/><\/td><\/tr>"),v[0].rp=y+999,n(f).append(v),t[u.p.id].checkOnSubmit||t[u.p.id].checkOnUpdate)&&(t[u.p.id]._savedData[r.p.id+"_id"]=i),w}function g(i,r,f){var e,p=0,s,h,a,l,v,c,y;(t[u.p.id].checkOnSubmit||t[u.p.id].checkOnUpdate)&&(t[u.p.id]._savedData={},t[u.p.id]._savedData[r.p.id+"_id"]=i);c=r.p.colModel;"_empty"==i?(n(c).each(function(){e=this.name;a=n.extend({},this.editoptions||{});(h=n("#"+n.jgrid.jqID(e),"#"+f))&&h.length&&null!==h[0]&&(l="",a.defaultValue?(l=n.isFunction(a.defaultValue)?a.defaultValue.call(u):a.defaultValue,"checkbox"==h[0].type?(v=l.toLowerCase(),0>v.search(/(false|0|no|off|undefined)/i)&&""!==v?(h[0].checked=!0,h[0].defaultChecked=!0,h[0].value=l):(h[0].checked=!1,h[0].defaultChecked=!1)):h.val(l)):"checkbox"==h[0].type?(h[0].checked=!1,h[0].defaultChecked=!1,l=n(h).attr("offval")):h[0].type&&"select"==h[0].type.substr(0,6)?h[0].selectedIndex=0:h.val(l),!0===t[u.p.id].checkOnSubmit||t[u.p.id].checkOnUpdate)&&(t[u.p.id]._savedData[e]=l)}),n("#id_g","#"+f).val(i)):(y=n(r).jqGrid("getInd",i,!0),y&&(n('td[role="gridcell"]',y).each(function(o){if(e=c[o].name,"cb"!==e&&"subgrid"!==e&&"rn"!==e&&!0===c[o].editable){if(e==r.p.ExpandColumn&&!0===r.p.treeGrid)s=n(this).text();else try{s=n.unformat.call(r,n(this),{rowId:i,colModel:c[o]},o)}catch(a){s="textarea"==c[o].edittype?n(this).text():n(this).html()}u.p.autoencode&&(s=n.jgrid.htmlDecode(s));(!0===t[u.p.id].checkOnSubmit||t[u.p.id].checkOnUpdate)&&(t[u.p.id]._savedData[e]=s);e=n.jgrid.jqID(e);switch(c[o].edittype){case"password":case"text":case"button":case"image":case"textarea":("&nbsp;"==s||"&#160;"==s||1==s.length&&160==s.charCodeAt(0))&&(s="");n("#"+e,"#"+f).val(s);break;case"select":var h=s.split(","),h=n.map(h,function(t){return n.trim(t)});n("#"+e+" option","#"+f).each(function(){this.selected=!c[o].editoptions.multiple&&(n.trim(s)==n.trim(n(this).text())||h[0]==n.trim(n(this).text())||h[0]==n.trim(n(this).val()))?!0:c[o].editoptions.multiple?-1<n.inArray(n.trim(n(this).text()),h)||-1<n.inArray(n.trim(n(this).val()),h)?!0:!1:!1});break;case"checkbox":s=""+s;c[o].editoptions&&c[o].editoptions.value?c[o].editoptions.value.split(":")[0]==s?(n("#"+e,"#"+f)[u.p.useProp?"prop":"attr"]("checked",!0),n("#"+e,"#"+f)[u.p.useProp?"prop":"attr"]("defaultChecked",!0)):(n("#"+e,"#"+f)[u.p.useProp?"prop":"attr"]("checked",!1),n("#"+e,"#"+f)[u.p.useProp?"prop":"attr"]("defaultChecked",!1)):(s=s.toLowerCase(),0>s.search(/(false|0|no|off|undefined)/i)&&""!==s?(n("#"+e,"#"+f)[u.p.useProp?"prop":"attr"]("checked",!0),n("#"+e,"#"+f)[u.p.useProp?"prop":"attr"]("defaultChecked",!0)):(n("#"+e,"#"+f)[u.p.useProp?"prop":"attr"]("checked",!1),n("#"+e,"#"+f)[u.p.useProp?"prop":"attr"]("defaultChecked",!1)));break;case"custom":try{if(c[o].editoptions&&n.isFunction(c[o].editoptions.custom_value))c[o].editoptions.custom_value.call(u,n("#"+e,"#"+f),"set",s);else throw"e1";}catch(l){"e1"==l?n.jgrid.info_dialog(n.jgrid.errors.errcap,"function 'custom_value' "+n.jgrid.edit.msg.nodefined,n.jgrid.edit.bClose):n.jgrid.info_dialog(n.jgrid.errors.errcap,l.message,n.jgrid.edit.bClose)}}p++}}),0<p&&n("#id_g",o).val(i)))}function kt(){n.each(u.p.colModel,function(n,t){t.editoptions&&!0===t.editoptions.NullIfEmpty&&f.hasOwnProperty(t.name)&&""===f[t.name]&&(f[t.name]="null")})}function nt(){var d,i=[!0,"",""],c={},a=u.p.prmNames,v,w,nt,k,p,b=n(u).triggerHandler("jqGridAddEditBeforeCheckValues",[n("#"+e),l]);b&&"object"==typeof b&&(f=b);n.isFunction(t[u.p.id].beforeCheckValues)&&(b=t[u.p.id].beforeCheckValues.call(u,f,n("#"+e),"_empty"==f[u.p.id+"_id"]?a.addoper:a.editoper))&&"object"==typeof b&&(f=b);for(nt in f)if(f.hasOwnProperty(nt)&&(i=n.jgrid.checkValues.call(u,f[nt],nt,u),!1===i[0]))break;if(kt(),i[0]&&(c=n(u).triggerHandler("jqGridAddEditClickSubmit",[t[u.p.id],f,l]),void 0===c&&n.isFunction(t[u.p.id].onclickSubmit)&&(c=t[u.p.id].onclickSubmit.call(u,t[u.p.id],f)||{}),i=n(u).triggerHandler("jqGridAddEditBeforeSubmit",[f,n("#"+e),l]),void 0===i&&(i=[!0,"",""]),i[0]&&n.isFunction(t[u.p.id].beforeSubmit)&&(i=t[u.p.id].beforeSubmit.call(u,f,n("#"+e)))),i[0]&&!t[u.p.id].processing){if(t[u.p.id].processing=!0,n("#sData",o+"_2").addClass("ui-state-active"),w=a.oper,v=a.id,f[w]="_empty"==n.trim(f[u.p.id+"_id"])?a.addoper:a.editoper,f[w]!=a.addoper?f[v]=f[u.p.id+"_id"]:void 0===f[v]&&(f[v]=f[u.p.id+"_id"]),delete f[u.p.id+"_id"],f=n.extend(f,t[u.p.id].editData,c),!0===u.p.treeGrid)for(p in f[w]==a.addoper&&(k=n(u).jqGrid("getGridParam","selrow"),f["adjacency"==u.p.treeGridModel?u.p.treeReader.parent_id_field:"parent_id"]=k),u.p.treeReader)u.p.treeReader.hasOwnProperty(p)&&(c=u.p.treeReader[p],f.hasOwnProperty(c)&&!(f[w]==a.addoper&&"parent_id_field"===p)&&delete f[c]);f[v]=n.jgrid.stripPref(u.p.idPrefix,f[v]);p=n.extend({url:t[u.p.id].url||n(u).jqGrid("getGridParam","editurl"),type:t[u.p.id].mtype,data:n.isFunction(t[u.p.id].serializeEditData)?t[u.p.id].serializeEditData.call(u,f):f,complete:function(c,p){var b;if(f[v]=u.p.idPrefix+f[v],p!="success"?(i[0]=!1,i[1]=n(u).triggerHandler("jqGridAddEditErrorTextFormat",[c,l]),i[1]=n.isFunction(t[u.p.id].errorTextFormat)?t[u.p.id].errorTextFormat.call(u,c):p+" Status: '"+c.statusText+"'. Error code: "+c.status):(i=n(u).triggerHandler("jqGridAddEditAfterSubmit",[c,f,l]),i===void 0&&(i=[!0,"",""]),i[0]&&n.isFunction(t[u.p.id].afterSubmit)&&(i=t[u.p.id].afterSubmit.call(u,c,f))),i[0]===!1)n("#FormError>td",o).html(i[1]),n("#FormError",o).show();else if(n.each(u.p.colModel,function(){if(y[this.name]&&this.formatter&&this.formatter=="select")try{delete y[this.name]}catch(n){}}),f=n.extend(f,y),u.p.autoencode&&n.each(f,function(t,i){f[t]=n.jgrid.htmlDecode(i)}),f[w]==a.addoper?(i[2]||(i[2]=n.jgrid.randId()),f[v]=i[2],t[u.p.id].closeAfterAdd?(t[u.p.id].reloadAfterSubmit?n(u).trigger("reloadGrid"):u.p.treeGrid===!0?n(u).jqGrid("addChildNode",i[2],k,f):(n(u).jqGrid("addRowData",i[2],f,r.addedrow),n(u).jqGrid("setSelection",i[2])),n.jgrid.hideModal("#"+n.jgrid.jqID(s.themodal),{gb:"#gbox_"+n.jgrid.jqID(h),jqm:r.jqModal,onClose:t[u.p.id].onClose})):t[u.p.id].clearAfterAdd?(t[u.p.id].reloadAfterSubmit?n(u).trigger("reloadGrid"):u.p.treeGrid===!0?n(u).jqGrid("addChildNode",i[2],k,f):n(u).jqGrid("addRowData",i[2],f,r.addedrow),g("_empty",u,e)):t[u.p.id].reloadAfterSubmit?n(u).trigger("reloadGrid"):u.p.treeGrid===!0?n(u).jqGrid("addChildNode",i[2],k,f):n(u).jqGrid("addRowData",i[2],f,r.addedrow)):(t[u.p.id].reloadAfterSubmit?(n(u).trigger("reloadGrid"),t[u.p.id].closeAfterEdit||setTimeout(function(){n(u).jqGrid("setSelection",f[v])},1e3)):u.p.treeGrid===!0?n(u).jqGrid("setTreeRow",f[v],f):n(u).jqGrid("setRowData",f[v],f),t[u.p.id].closeAfterEdit&&n.jgrid.hideModal("#"+n.jgrid.jqID(s.themodal),{gb:"#gbox_"+n.jgrid.jqID(h),jqm:r.jqModal,onClose:t[u.p.id].onClose})),n.isFunction(t[u.p.id].afterComplete)&&(d=c,setTimeout(function(){n(u).triggerHandler("jqGridAddEditAfterComplete",[d,f,n("#"+e),l]);t[u.p.id].afterComplete.call(u,d,f,n("#"+e));d=null},500)),(t[u.p.id].checkOnSubmit||t[u.p.id].checkOnUpdate)&&(n("#"+e).data("disabled",!1),t[u.p.id]._savedData[u.p.id+"_id"]!="_empty"))for(b in t[u.p.id]._savedData)t[u.p.id]._savedData.hasOwnProperty(b)&&f[b]&&(t[u.p.id]._savedData[b]=f[b]);t[u.p.id].processing=!1;n("#sData",o+"_2").removeClass("ui-state-active");try{n(":input:visible","#"+e)[0].focus()}catch(nt){}}},n.jgrid.ajaxOptions,t[u.p.id].ajaxEditOptions);p.url||t[u.p.id].useDataProxy||(n.isFunction(u.p.dataProxy)?t[u.p.id].useDataProxy=!0:(i[0]=!1,i[1]+=" "+n.jgrid.errors.nourl));i[0]&&(t[u.p.id].useDataProxy?(c=u.p.dataProxy.call(u,p,"set_"+u.p.id),void 0===c&&(c=[!0,""]),!1===c[0]?(i[0]=!1,i[1]=c[1]||"Error deleting the selected row!"):(p.data.oper==a.addoper&&t[u.p.id].closeAfterAdd&&n.jgrid.hideModal("#"+n.jgrid.jqID(s.themodal),{gb:"#gbox_"+n.jgrid.jqID(h),jqm:r.jqModal,onClose:t[u.p.id].onClose}),p.data.oper==a.editoper&&t[u.p.id].closeAfterEdit&&n.jgrid.hideModal("#"+n.jgrid.jqID(s.themodal),{gb:"#gbox_"+n.jgrid.jqID(h),jqm:r.jqModal,onClose:t[u.p.id].onClose}))):n.ajax(p))}!1===i[0]&&(n("#FormError>td",o).html(i[1]),n("#FormError",o).show())}function vt(n,t){var r=!1;for(var i in n)if(n.hasOwnProperty(i)&&n[i]!=t[i]){r=!0;break}return r}function p(){var i=!0;return n("#FormError",o).hide(),t[u.p.id].checkOnUpdate&&(f={},y={},at(),it=n.extend({},f,y),wt=vt(it,t[u.p.id]._savedData))&&(n("#"+e).data("disabled",!0),n(".confirm","#"+s.themodal).show(),i=!1),i}function yt(){var t;if("_empty"!==i&&void 0!==u.p.savedRow&&0<u.p.savedRow.length&&n.isFunction(n.fn.jqGrid.restoreRow))for(t=0;t<u.p.savedRow.length;t++)if(u.p.savedRow[t].id==i){n(u).jqGrid("restoreRow",i);break}}function ft(t,i){var r=i[1].length-1;0===t?n("#pData",o+"_2").addClass("ui-state-disabled"):void 0!==i[1][t-1]&&n("#"+n.jgrid.jqID(i[1][t-1])).hasClass("ui-state-disabled")?n("#pData",o+"_2").addClass("ui-state-disabled"):n("#pData",o+"_2").removeClass("ui-state-disabled");t==r?n("#nData",o+"_2").addClass("ui-state-disabled"):void 0!==i[1][t+1]&&n("#"+n.jgrid.jqID(i[1][t+1])).hasClass("ui-state-disabled")?n("#nData",o+"_2").addClass("ui-state-disabled"):n("#nData",o+"_2").removeClass("ui-state-disabled")}function et(){var t=n(u).jqGrid("getDataIDs"),i=n("#id_g",o).val();return[n.inArray(i,t),t]}var u=this,rt,c,k,ut,lt;if(u.grid&&i){var h=u.p.id,e="FrmGrid_"+h,v="TblGrid_"+h,o="#"+n.jgrid.jqID(v),s={themodal:"editmod"+h,modalhead:"edithd"+h,modalcontent:"editcnt"+h,scrollelm:e},w=n.isFunction(t[u.p.id].beforeShowForm)?t[u.p.id].beforeShowForm:!1,tt=n.isFunction(t[u.p.id].afterShowForm)?t[u.p.id].afterShowForm:!1,a=n.isFunction(t[u.p.id].beforeInitData)?t[u.p.id].beforeInitData:!1,pt=n.isFunction(t[u.p.id].onInitializeForm)?t[u.p.id].onInitializeForm:!1,c=!0,d=1,ot=0,f,y,it,wt,l,e=n.jgrid.jqID(e);if("new"===i?(i="_empty",l="add",r.caption=t[u.p.id].addCaption):(r.caption=t[u.p.id].editCaption,l="edit"),!0===r.recreateForm&&void 0!==n("#"+n.jgrid.jqID(s.themodal))[0]&&n("#"+n.jgrid.jqID(s.themodal)).remove(),rt=!0,r.checkOnUpdate&&r.jqModal&&!r.modal&&(rt=!1),void 0!==n("#"+n.jgrid.jqID(s.themodal))[0]){if(c=n(u).triggerHandler("jqGridAddEditBeforeInitData",[n("#"+n.jgrid.jqID(e)),l]),void 0===c&&(c=!0),c&&a&&(c=a.call(u,n("#"+e))),!1===c)return;yt();n(".ui-jqdialog-title","#"+n.jgrid.jqID(s.modalhead)).html(r.caption);n("#FormError",o).hide();t[u.p.id].topinfo?(n(".topinfo",o).html(t[u.p.id].topinfo),n(".tinfo",o).show()):n(".tinfo",o).hide();t[u.p.id].bottominfo?(n(".bottominfo",o+"_2").html(t[u.p.id].bottominfo),n(".binfo",o+"_2").show()):n(".binfo",o+"_2").hide();g(i,u,e);"_empty"==i||!t[u.p.id].viewPagerButtons?n("#pData, #nData",o+"_2").hide():n("#pData, #nData",o+"_2").show();!0===t[u.p.id].processing&&(t[u.p.id].processing=!1,n("#sData",o+"_2").removeClass("ui-state-active"));!0===n("#"+e).data("disabled")&&(n(".confirm","#"+n.jgrid.jqID(s.themodal)).hide(),n("#"+e).data("disabled",!1));n(u).triggerHandler("jqGridAddEditBeforeShowForm",[n("#"+e),l]);w&&w.call(u,n("#"+e));n("#"+n.jgrid.jqID(s.themodal)).data("onClose",t[u.p.id].onClose);n.jgrid.viewModal("#"+n.jgrid.jqID(s.themodal),{gbox:"#gbox_"+n.jgrid.jqID(h),jqm:r.jqModal,jqM:!1,overlay:r.overlay,modal:r.modal});rt||n(".jqmOverlay").click(function(){return p()?(n.jgrid.hideModal("#"+n.jgrid.jqID(s.themodal),{gb:"#gbox_"+n.jgrid.jqID(h),jqm:r.jqModal,onClose:t[u.p.id].onClose}),!1):!1});n(u).triggerHandler("jqGridAddEditAfterShowForm",[n("#"+e),l]);tt&&tt.call(u,n("#"+e))}else{var st=isNaN(r.dataheight)?r.dataheight:r.dataheight+"px",c=isNaN(r.datawidth)?r.datawidth:r.datawidth+"px",st=n("<form name='FormPost' id='"+e+"' class='FormGrid' onSubmit='return false;' style='width:"+c+";overflow:auto;position:relative;height:"+st+";'><\/form>").data("disabled",!1),b=n("<table id='"+v+"' class='EditTable' cellspacing='0' cellpadding='0' border='0'><tbody><\/tbody><\/table>"),c=n(u).triggerHandler("jqGridAddEditBeforeInitData",[n("#"+e),l]);if(void 0===c&&(c=!0),c&&a&&(c=a.call(u,n("#"+e))),!1===c)return;yt();n(u.p.colModel).each(function(){var n=this.formoptions;d=Math.max(d,n?n.colpos||0:0);ot=Math.max(ot,n?n.rowpos||0:0)});n(st).append(b);a=n("<tr id='FormError' style='display:none'><td class='ui-state-error' colspan='"+2*d+"'><\/td><\/tr>");a[0].rp=0;n(b).append(a);a=n("<tr style='display:none' class='tinfo'><td class='topinfo' colspan='"+2*d+"'>"+t[u.p.id].topinfo+"<\/td><\/tr>");a[0].rp=0;n(b).append(a);c=(a="rtl"==u.p.direction?!0:!1)?"nData":"pData";k=a?"pData":"nData";bt(i,u,b,d);var c="<a href='javascript:void(0)' id='"+c+"' class='fm-button ui-state-default ui-corner-left'><span class='ui-icon ui-icon-triangle-1-w'><\/span><\/a>",k="<a href='javascript:void(0)' id='"+k+"' class='fm-button ui-state-default ui-corner-right'><span class='ui-icon ui-icon-triangle-1-e'><\/span><\/a>",ht="<a href='javascript:void(0)' id='sData' class='fm-button ui-state-default ui-corner-all'>"+r.bSubmit+"<\/a>",ct="<a href='javascript:void(0)' id='cData' class='fm-button ui-state-default ui-corner-all'>"+r.bCancel+"<\/a>",v="<table border='0' cellspacing='0' cellpadding='0' class='EditTable' id='"+v+"_2'><tbody><tr><td colspan='2'><hr class='ui-widget-content' style='margin:1px'/><\/td><\/tr><tr id='Act_Buttons'><td class='navButton'>"+(a?k+c:c+k)+"<\/td><td class='EditButton'>"+ht+ct+"<\/td><\/tr>"+("<tr style='display:none' class='binfo'><td class='bottominfo' colspan='2'>"+t[u.p.id].bottominfo+"<\/td><\/tr>"),v=v+"<\/tbody><\/table>";0<ot&&(ut=[],n.each(n(b)[0].rows,function(n,t){ut[n]=t}),ut.sort(function(n,t){return n.rp>t.rp?1:n.rp<t.rp?-1:0}),n.each(ut,function(t,i){n("tbody",b).append(i)}));r.gbox="#gbox_"+n.jgrid.jqID(h);lt=!1;!0===r.closeOnEscape&&(r.closeOnEscape=!1,lt=!0);v=n("<div><\/div>").append(st).append(v);n.jgrid.createModal(s,v,r,"#gview_"+n.jgrid.jqID(u.p.id),n("#gbox_"+n.jgrid.jqID(u.p.id))[0]);a&&(n("#pData, #nData",o+"_2").css("float","right"),n(".EditButton",o+"_2").css("text-align","left"));t[u.p.id].topinfo&&n(".tinfo",o).show();t[u.p.id].bottominfo&&n(".binfo",o+"_2").show();v=v=null;n("#"+n.jgrid.jqID(s.themodal)).keydown(function(i){var f=i.target;if(n("#"+e).data("disabled")===!0)return!1;if(t[u.p.id].savekey[0]===!0&&i.which==t[u.p.id].savekey[1]&&f.tagName!="TEXTAREA")return n("#sData",o+"_2").trigger("click"),!1;if(i.which===27)return p()?(lt&&n.jgrid.hideModal("#"+n.jgrid.jqID(s.themodal),{gb:r.gbox,jqm:r.jqModal,onClose:t[u.p.id].onClose}),!1):!1;if(t[u.p.id].navkeys[0]===!0){if(n("#id_g",o).val()=="_empty")return!0;if(i.which==t[u.p.id].navkeys[1])return n("#pData",o+"_2").trigger("click"),!1;if(i.which==t[u.p.id].navkeys[2])return n("#nData",o+"_2").trigger("click"),!1}});r.checkOnUpdate&&(n("a.ui-jqdialog-titlebar-close span","#"+n.jgrid.jqID(s.themodal)).removeClass("jqmClose"),n("a.ui-jqdialog-titlebar-close","#"+n.jgrid.jqID(s.themodal)).unbind("click").click(function(){return p()?(n.jgrid.hideModal("#"+n.jgrid.jqID(s.themodal),{gb:"#gbox_"+n.jgrid.jqID(h),jqm:r.jqModal,onClose:t[u.p.id].onClose}),!1):!1}));r.saveicon=n.extend([!0,"left","ui-icon-disk"],r.saveicon);r.closeicon=n.extend([!0,"left","ui-icon-close"],r.closeicon);!0===r.saveicon[0]&&n("#sData",o+"_2").addClass("right"==r.saveicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+r.saveicon[2]+"'><\/span>");!0===r.closeicon[0]&&n("#cData",o+"_2").addClass("right"==r.closeicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+r.closeicon[2]+"'><\/span>");(t[u.p.id].checkOnSubmit||t[u.p.id].checkOnUpdate)&&(ht="<a href='javascript:void(0)' id='sNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+r.bYes+"<\/a>",k="<a href='javascript:void(0)' id='nNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+r.bNo+"<\/a>",ct="<a href='javascript:void(0)' id='cNew' class='fm-button ui-state-default ui-corner-all' style='z-index:1002'>"+r.bExit+"<\/a>",v=r.zIndex||999,v++,n("<div class='ui-widget-overlay jqgrid-overlay confirm' style='z-index:"+v+";display:none;'>&#160;<\/div><div class='confirm ui-widget-content ui-jqconfirm' style='z-index:"+(v+1)+"'>"+r.saveData+"<br/><br/>"+ht+k+ct+"<\/div>").insertAfter("#"+e),n("#sNew","#"+n.jgrid.jqID(s.themodal)).click(function(){return nt(),n("#"+e).data("disabled",!1),n(".confirm","#"+n.jgrid.jqID(s.themodal)).hide(),!1}),n("#nNew","#"+n.jgrid.jqID(s.themodal)).click(function(){return n(".confirm","#"+n.jgrid.jqID(s.themodal)).hide(),n("#"+e).data("disabled",!1),setTimeout(function(){n(":input","#"+e)[0].focus()},0),!1}),n("#cNew","#"+n.jgrid.jqID(s.themodal)).click(function(){return n(".confirm","#"+n.jgrid.jqID(s.themodal)).hide(),n("#"+e).data("disabled",!1),n.jgrid.hideModal("#"+n.jgrid.jqID(s.themodal),{gb:"#gbox_"+n.jgrid.jqID(h),jqm:r.jqModal,onClose:t[u.p.id].onClose}),!1}));n(u).triggerHandler("jqGridAddEditInitializeForm",[n("#"+e),l]);pt&&pt.call(u,n("#"+e));"_empty"==i||!t[u.p.id].viewPagerButtons?n("#pData,#nData",o+"_2").hide():n("#pData,#nData",o+"_2").show();n(u).triggerHandler("jqGridAddEditBeforeShowForm",[n("#"+e),l]);w&&w.call(u,n("#"+e));n("#"+n.jgrid.jqID(s.themodal)).data("onClose",t[u.p.id].onClose);n.jgrid.viewModal("#"+n.jgrid.jqID(s.themodal),{gbox:"#gbox_"+n.jgrid.jqID(h),jqm:r.jqModal,overlay:r.overlay,modal:r.modal});rt||n(".jqmOverlay").click(function(){return p()?(n.jgrid.hideModal("#"+n.jgrid.jqID(s.themodal),{gb:"#gbox_"+n.jgrid.jqID(h),jqm:r.jqModal,onClose:t[u.p.id].onClose}),!1):!1});n(u).triggerHandler("jqGridAddEditAfterShowForm",[n("#"+e),l]);tt&&tt.call(u,n("#"+e));n(".fm-button","#"+n.jgrid.jqID(s.themodal)).hover(function(){n(this).addClass("ui-state-hover")},function(){n(this).removeClass("ui-state-hover")});n("#sData",o+"_2").click(function(){return f={},y={},n("#FormError",o).hide(),at(),f[u.p.id+"_id"]=="_empty"?nt():r.checkOnSubmit===!0?(it=n.extend({},f,y),(wt=vt(it,t[u.p.id]._savedData))?(n("#"+e).data("disabled",!0),n(".confirm","#"+n.jgrid.jqID(s.themodal)).show()):nt()):nt(),!1});n("#cData",o+"_2").click(function(){return p()?(n.jgrid.hideModal("#"+n.jgrid.jqID(s.themodal),{gb:"#gbox_"+n.jgrid.jqID(h),jqm:r.jqModal,onClose:t[u.p.id].onClose}),!1):!1});n("#nData",o+"_2").click(function(){var t,i;if(!p())return!1;if(n("#FormError",o).hide(),t=et(),t[0]=parseInt(t[0],10),t[0]!=-1&&t[1][t[0]+1]){if((n(u).triggerHandler("jqGridAddEditClickPgButtons",["next",n("#"+e),t[1][t[0]]]),n.isFunction(r.onclickPgButtons)&&(i=r.onclickPgButtons.call(u,"next",n("#"+e),t[1][t[0]]),i!==void 0&&i===!1))||n("#"+n.jgrid.jqID(t[1][t[0]+1])).hasClass("ui-state-disabled"))return!1;g(t[1][t[0]+1],u,e);n(u).jqGrid("setSelection",t[1][t[0]+1]);n(u).triggerHandler("jqGridAddEditAfterClickPgButtons",["next",n("#"+e),t[1][t[0]]]);n.isFunction(r.afterclickPgButtons)&&r.afterclickPgButtons.call(u,"next",n("#"+e),t[1][t[0]+1]);ft(t[0]+1,t)}return!1});n("#pData",o+"_2").click(function(){var t,i;if(!p())return!1;if(n("#FormError",o).hide(),t=et(),t[0]!=-1&&t[1][t[0]-1]){if((n(u).triggerHandler("jqGridAddEditClickPgButtons",["prev",n("#"+e),t[1][t[0]]]),n.isFunction(r.onclickPgButtons)&&(i=r.onclickPgButtons.call(u,"prev",n("#"+e),t[1][t[0]]),i!==void 0&&i===!1))||n("#"+n.jgrid.jqID(t[1][t[0]-1])).hasClass("ui-state-disabled"))return!1;g(t[1][t[0]-1],u,e);n(u).jqGrid("setSelection",t[1][t[0]-1]);n(u).triggerHandler("jqGridAddEditAfterClickPgButtons",["prev",n("#"+e),t[1][t[0]]]);n.isFunction(r.afterclickPgButtons)&&r.afterclickPgButtons.call(u,"prev",n("#"+e),t[1][t[0]-1]);ft(t[0]-1,t)}return!1})}w=et();ft(w[0],w)}})},viewGridRow:function(i,r){return r=n.extend(!0,{top:0,left:0,width:0,datawidth:"auto",height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,jqModal:!0,closeOnEscape:!1,labelswidth:"30%",closeicon:[],navkeys:[!1,38,40],onClose:null,beforeShowForm:null,beforeInitData:null,viewPagerButtons:!0},n.jgrid.view,r||{}),t[n(this)[0].p.id]=r,this.each(function(){function v(){(!0===t[u.p.id].closeOnEscape||!0===t[u.p.id].navkeys[0])&&setTimeout(function(){n(".ui-jqdialog-titlebar-close","#"+n.jgrid.jqID(c.modalhead)).focus()},0)}function tt(t,i,u,f){for(var o,v,e,s=0,w,b,k=[],h=!1,nt="<td class='CaptionTD form-view-label ui-widget-content' width='"+r.labelswidth+"'>&#160;<\/td><td class='DataTD form-view-data ui-helper-reset ui-widget-content'>&#160;<\/td>",d="",tt=["integer","number","currency"],l=0,a=0,y,p,g,c=1;c<=f;c++)d+=1==c?nt:"<td class='CaptionTD form-view-label ui-widget-content'>&#160;<\/td><td class='DataTD form-view-data ui-widget-content'>&#160;<\/td>";return n(i.p.colModel).each(function(){v=this.editrules&&!0===this.editrules.edithidden?!1:!0===this.hidden?!0:!1;v||"right"!==this.align||(this.formatter&&-1!==n.inArray(this.formatter,tt)?l=Math.max(l,parseInt(this.width,10)):a=Math.max(a,parseInt(this.width,10)))}),y=0!==l?l:0!==a?a:0,h=n(i).jqGrid("getInd",t),n(i.p.colModel).each(function(t){var a;if(o=this.name,p=!1,b=(v=this.editrules&&!0===this.editrules.edithidden?!1:!0===this.hidden?!0:!1)?"style='display:none'":"",g="boolean"!=typeof this.viewable?!0:this.viewable,"cb"!==o&&"subgrid"!==o&&"rn"!==o&&g){w=!1===h?"":o==i.p.ExpandColumn&&!0===i.p.treeGrid?n("td:eq("+t+")",i.rows[h]).text():n("td:eq("+t+")",i.rows[h]).html();p="right"===this.align&&0!==y?!0:!1;var r=n.extend({},{rowabove:!1,rowcontent:""},this.formoptions||{}),c=parseInt(r.rowpos,10)||s+1,l=parseInt(2*(parseInt(r.colpos,10)||1),10);r.rowabove&&(a=n("<tr><td class='contentinfo' colspan='"+2*f+"'>"+r.rowcontent+"<\/td><\/tr>"),n(u).append(a),a[0].rp=c);e=n(u).find("tr[rowpos="+c+"]");0===e.length&&(e=n("<tr "+b+" rowpos='"+c+"'><\/tr>").addClass("FormData").attr("id","trv_"+o),n(e).append(d),n(u).append(e),e[0].rp=c);n("td:eq("+(l-2)+")",e[0]).html("<b>"+(void 0===r.label?i.p.colNames[t]:r.label)+"<\/b>");n("td:eq("+(l-1)+")",e[0]).append("<span>"+w+"<\/span>").attr("id","v_"+o);p&&n("td:eq("+(l-1)+") span",e[0]).css({"text-align":"right",width:y+"px"});k[s]=t;s++}}),0<s&&(t=n("<tr class='FormData' style='display:none'><td class='CaptionTD'><\/td><td colspan='"+(2*f-1)+"' class='DataTD'><input class='FormElement' id='id_g' type='text' name='id' value='"+t+"'/><\/td><\/tr>"),t[0].rp=s+99,n(u).append(t)),k}function w(t,i){var r,u,e=0,o,s;(s=n(i).jqGrid("getInd",t,!0))&&(n("td",s).each(function(t){r=i.p.colModel[t].name;u=i.p.colModel[t].editrules&&!0===i.p.colModel[t].editrules.edithidden?!1:!0===i.p.colModel[t].hidden?!0:!1;"cb"!==r&&"subgrid"!==r&&"rn"!==r&&(o=r==i.p.ExpandColumn&&!0===i.p.treeGrid?n(this).text():n(this).html(),n.extend({},i.p.colModel[t].editoptions||{}),r=n.jgrid.jqID("v_"+r),n("#"+r+" span","#"+f).html(o),u&&n("#"+r,"#"+f).parents("tr:first").hide(),e++)}),0<e&&n("#id_g","#"+f).val(t))}function b(t,i){var r=i[1].length-1;0===t?n("#pData","#"+f+"_2").addClass("ui-state-disabled"):void 0!==i[1][t-1]&&n("#"+n.jgrid.jqID(i[1][t-1])).hasClass("ui-state-disabled")?n("#pData",f+"_2").addClass("ui-state-disabled"):n("#pData","#"+f+"_2").removeClass("ui-state-disabled");t==r?n("#nData","#"+f+"_2").addClass("ui-state-disabled"):void 0!==i[1][t+1]&&n("#"+n.jgrid.jqID(i[1][t+1])).hasClass("ui-state-disabled")?n("#nData",f+"_2").addClass("ui-state-disabled"):n("#nData","#"+f+"_2").removeClass("ui-state-disabled")}function k(){var t=n(u).jqGrid("getDataIDs"),i=n("#id_g","#"+f).val();return[n.inArray(i,t),t]}var u=this,p;if(u.grid&&i){var e=u.p.id,s="ViewGrid_"+n.jgrid.jqID(e),f="ViewTbl_"+n.jgrid.jqID(e),h="ViewGrid_"+e,a="ViewTbl_"+e,c={themodal:"viewmod"+e,modalhead:"viewhd"+e,modalcontent:"viewcnt"+e,scrollelm:s},l=n.isFunction(t[u.p.id].beforeInitData)?t[u.p.id].beforeInitData:!1,o=!0,d=1,g=0;if(void 0!==n("#"+n.jgrid.jqID(c.themodal))[0]){if(l&&(o=l.call(u,n("#"+s)),void 0===o&&(o=!0)),!1===o)return;n(".ui-jqdialog-title","#"+n.jgrid.jqID(c.modalhead)).html(r.caption);n("#FormError","#"+f).hide();w(i,u);n.isFunction(t[u.p.id].beforeShowForm)&&t[u.p.id].beforeShowForm.call(u,n("#"+s));n.jgrid.viewModal("#"+n.jgrid.jqID(c.themodal),{gbox:"#gbox_"+n.jgrid.jqID(e),jqm:r.jqModal,jqM:!1,overlay:r.overlay,modal:r.modal});v()}else{var nt=isNaN(r.dataheight)?r.dataheight:r.dataheight+"px",it=isNaN(r.datawidth)?r.datawidth:r.datawidth+"px",h=n("<form name='FormPost' id='"+h+"' class='FormGrid' style='width:"+it+";overflow:auto;position:relative;height:"+nt+";'><\/form>"),y=n("<table id='"+a+"' class='EditTable' cellspacing='1' cellpadding='2' border='0' style='table-layout:fixed'><tbody><\/tbody><\/table>");if(l&&(o=l.call(u,n("#"+s)),void 0===o&&(o=!0)),!1===o)return;n(u.p.colModel).each(function(){var n=this.formoptions;d=Math.max(d,n?n.colpos||0:0);g=Math.max(g,n?n.rowpos||0:0)});n(h).append(y);tt(i,u,y,d);a="rtl"==u.p.direction?!0:!1;l="<a href='javascript:void(0)' id='"+(a?"nData":"pData")+"' class='fm-button ui-state-default ui-corner-left'><span class='ui-icon ui-icon-triangle-1-w'><\/span><\/a>";o="<a href='javascript:void(0)' id='"+(a?"pData":"nData")+"' class='fm-button ui-state-default ui-corner-right'><span class='ui-icon ui-icon-triangle-1-e'><\/span><\/a>";nt="<a href='javascript:void(0)' id='cData' class='fm-button ui-state-default ui-corner-all'>"+r.bClose+"<\/a>";0<g&&(p=[],n.each(n(y)[0].rows,function(n,t){p[n]=t}),p.sort(function(n,t){return n.rp>t.rp?1:n.rp<t.rp?-1:0}),n.each(p,function(t,i){n("tbody",y).append(i)}));r.gbox="#gbox_"+n.jgrid.jqID(e);h=n("<div><\/div>").append(h).append("<table border='0' class='EditTable' id='"+f+"_2'><tbody><tr id='Act_Buttons'><td class='navButton' width='"+r.labelswidth+"'>"+(a?o+l:l+o)+"<\/td><td class='EditButton'>"+nt+"<\/td><\/tr><\/tbody><\/table>");n.jgrid.createModal(c,h,r,"#gview_"+n.jgrid.jqID(u.p.id),n("#gview_"+n.jgrid.jqID(u.p.id))[0]);a&&(n("#pData, #nData","#"+f+"_2").css("float","right"),n(".EditButton","#"+f+"_2").css("text-align","left"));r.viewPagerButtons||n("#pData, #nData","#"+f+"_2").hide();h=null;n("#"+c.themodal).keydown(function(i){if(i.which===27)return t[u.p.id].closeOnEscape&&n.jgrid.hideModal("#"+n.jgrid.jqID(c.themodal),{gb:r.gbox,jqm:r.jqModal,onClose:r.onClose}),!1;if(r.navkeys[0]===!0){if(i.which===r.navkeys[1])return n("#pData","#"+f+"_2").trigger("click"),!1;if(i.which===r.navkeys[2])return n("#nData","#"+f+"_2").trigger("click"),!1}});r.closeicon=n.extend([!0,"left","ui-icon-close"],r.closeicon);!0===r.closeicon[0]&&n("#cData","#"+f+"_2").addClass("right"==r.closeicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+r.closeicon[2]+"'><\/span>");n.isFunction(r.beforeShowForm)&&r.beforeShowForm.call(u,n("#"+s));n.jgrid.viewModal("#"+n.jgrid.jqID(c.themodal),{gbox:"#gbox_"+n.jgrid.jqID(e),jqm:r.jqModal,overlay:r.overlay,modal:r.modal});n(".fm-button:not(.ui-state-disabled)","#"+f+"_2").hover(function(){n(this).addClass("ui-state-hover")},function(){n(this).removeClass("ui-state-hover")});v();n("#cData","#"+f+"_2").click(function(){return n.jgrid.hideModal("#"+n.jgrid.jqID(c.themodal),{gb:"#gbox_"+n.jgrid.jqID(e),jqm:r.jqModal,onClose:r.onClose}),!1});n("#nData","#"+f+"_2").click(function(){n("#FormError","#"+f).hide();var t=k();return t[0]=parseInt(t[0],10),t[0]!=-1&&t[1][t[0]+1]&&(n.isFunction(r.onclickPgButtons)&&r.onclickPgButtons.call(u,"next",n("#"+s),t[1][t[0]]),w(t[1][t[0]+1],u),n(u).jqGrid("setSelection",t[1][t[0]+1]),n.isFunction(r.afterclickPgButtons)&&r.afterclickPgButtons.call(u,"next",n("#"+s),t[1][t[0]+1]),b(t[0]+1,t)),v(),!1});n("#pData","#"+f+"_2").click(function(){n("#FormError","#"+f).hide();var t=k();return t[0]!=-1&&t[1][t[0]-1]&&(n.isFunction(r.onclickPgButtons)&&r.onclickPgButtons.call(u,"prev",n("#"+s),t[1][t[0]]),w(t[1][t[0]-1],u),n(u).jqGrid("setSelection",t[1][t[0]-1]),n.isFunction(r.afterclickPgButtons)&&r.afterclickPgButtons.call(u,"prev",n("#"+s),t[1][t[0]-1]),b(t[0]-1,t)),v(),!1})}h=k();b(h[0],h)}})},delGridRow:function(i,r){return r=n.extend(!0,{top:0,left:0,width:240,height:"auto",dataheight:"auto",modal:!1,overlay:30,drag:!0,resize:!0,url:"",mtype:"POST",reloadAfterSubmit:!0,beforeShowForm:null,beforeInitData:null,afterShowForm:null,beforeSubmit:null,onclickSubmit:null,afterSubmit:null,jqModal:!0,closeOnEscape:!1,delData:{},delicon:[],cancelicon:[],onClose:null,ajaxDelOptions:{},processing:!1,serializeDelData:null,useDataProxy:!1},n.jgrid.del,r||{}),t[n(this)[0].p.id]=r,this.each(function(){var u=this;if(u.grid&&i){var y=n.isFunction(t[u.p.id].beforeShowForm),b=n.isFunction(t[u.p.id].afterShowForm),c=n.isFunction(t[u.p.id].beforeInitData)?t[u.p.id].beforeInitData:!1,e=u.p.id,v={},o=!0,f="DelTbl_"+n.jgrid.jqID(e),h,p,l,w,a="DelTbl_"+e,s={themodal:"delmod"+e,modalhead:"delhd"+e,modalcontent:"delcnt"+e,scrollelm:f};if(n.isArray(i)&&(i=i.join()),void 0!==n("#"+n.jgrid.jqID(s.themodal))[0]){if(c&&(o=c.call(u,n("#"+f)),void 0===o&&(o=!0)),!1===o)return;n("#DelData>td","#"+f).text(i);n("#DelError","#"+f).hide();!0===t[u.p.id].processing&&(t[u.p.id].processing=!1,n("#dData","#"+f).removeClass("ui-state-active"));y&&t[u.p.id].beforeShowForm.call(u,n("#"+f));n.jgrid.viewModal("#"+n.jgrid.jqID(s.themodal),{gbox:"#gbox_"+n.jgrid.jqID(e),jqm:t[u.p.id].jqModal,jqM:!1,overlay:t[u.p.id].overlay,modal:t[u.p.id].modal})}else{var k=isNaN(t[u.p.id].dataheight)?t[u.p.id].dataheight:t[u.p.id].dataheight+"px",d=isNaN(r.datawidth)?r.datawidth:r.datawidth+"px",a="<div id='"+a+"' class='formdata' style='width:"+d+";overflow:auto;position:relative;height:"+k+";'><table class='DelTable'><tbody><tr id='DelError' style='display:none'><td class='ui-state-error'><\/td><\/tr>"+("<tr id='DelData' style='display:none'><td >"+i+"<\/td><\/tr>"),a=a+('<tr><td class="delmsg" style="white-space:pre;">'+t[u.p.id].msg+"<\/td><\/tr><tr><td >&#160;<\/td><\/tr>"),a=a+"<\/tbody><\/table><\/div>"+("<table cellspacing='0' cellpadding='0' border='0' class='EditTable' id='"+f+"_2'><tbody><tr><td><hr class='ui-widget-content' style='margin:1px'/><\/td><\/tr><tr><td class='DelButton EditButton'>"+("<a href='javascript:void(0)' id='dData' class='fm-button ui-state-default ui-corner-all'>"+r.bSubmit+"<\/a>")+"&#160;"+("<a href='javascript:void(0)' id='eData' class='fm-button ui-state-default ui-corner-all'>"+r.bCancel+"<\/a>")+"<\/td><\/tr><\/tbody><\/table>");if(r.gbox="#gbox_"+n.jgrid.jqID(e),n.jgrid.createModal(s,a,r,"#gview_"+n.jgrid.jqID(u.p.id),n("#gview_"+n.jgrid.jqID(u.p.id))[0]),c&&(o=c.call(u,n("#"+f)),void 0===o&&(o=!0)),!1===o)return;n(".fm-button","#"+f+"_2").hover(function(){n(this).addClass("ui-state-hover")},function(){n(this).removeClass("ui-state-hover")});r.delicon=n.extend([!0,"left","ui-icon-scissors"],t[u.p.id].delicon);r.cancelicon=n.extend([!0,"left","ui-icon-cancel"],t[u.p.id].cancelicon);!0===r.delicon[0]&&n("#dData","#"+f+"_2").addClass("right"==r.delicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+r.delicon[2]+"'><\/span>");!0===r.cancelicon[0]&&n("#eData","#"+f+"_2").addClass("right"==r.cancelicon[1]?"fm-button-icon-right":"fm-button-icon-left").append("<span class='ui-icon "+r.cancelicon[2]+"'><\/span>");n("#dData","#"+f+"_2").click(function(){var i=[!0,""],c,o=n("#DelData>td","#"+f).text();if(v={},n.isFunction(t[u.p.id].onclickSubmit)&&(v=t[u.p.id].onclickSubmit.call(u,t[u.p.id],o)||{}),n.isFunction(t[u.p.id].beforeSubmit)&&(i=t[u.p.id].beforeSubmit.call(u,o)),i[0]&&!t[u.p.id].processing){if(t[u.p.id].processing=!0,l=u.p.prmNames,h=n.extend({},t[u.p.id].delData,v),w=l.oper,h[w]=l.deloper,p=l.id,o=(""+o).split(","),!o.length)return!1;for(c in o)o.hasOwnProperty(c)&&(o[c]=n.jgrid.stripPref(u.p.idPrefix,o[c]));h[p]=o.join();n(this).addClass("ui-state-active");c=n.extend({url:t[u.p.id].url||n(u).jqGrid("getGridParam","editurl"),type:t[u.p.id].mtype,data:n.isFunction(t[u.p.id].serializeDelData)?t[u.p.id].serializeDelData.call(u,h):h,complete:function(c,l){var a;if(l!="success"?(i[0]=!1,i[1]=n.isFunction(t[u.p.id].errorTextFormat)?t[u.p.id].errorTextFormat.call(u,c):l+" Status: '"+c.statusText+"'. Error code: "+c.status):n.isFunction(t[u.p.id].afterSubmit)&&(i=t[u.p.id].afterSubmit.call(u,c,h)),i[0]===!1)n("#DelError>td","#"+f).html(i[1]),n("#DelError","#"+f).show();else{if(t[u.p.id].reloadAfterSubmit&&u.p.datatype!="local")n(u).trigger("reloadGrid");else{if(u.p.treeGrid===!0)try{n(u).jqGrid("delTreeNode",u.p.idPrefix+o[0])}catch(v){}else for(a=0;a<o.length;a++)n(u).jqGrid("delRowData",u.p.idPrefix+o[a]);u.p.selrow=null;u.p.selarrrow=[]}n.isFunction(t[u.p.id].afterComplete)&&setTimeout(function(){t[u.p.id].afterComplete.call(u,c,o)},500)}t[u.p.id].processing=!1;n("#dData","#"+f+"_2").removeClass("ui-state-active");i[0]&&n.jgrid.hideModal("#"+n.jgrid.jqID(s.themodal),{gb:"#gbox_"+n.jgrid.jqID(e),jqm:r.jqModal,onClose:t[u.p.id].onClose})}},n.jgrid.ajaxOptions,t[u.p.id].ajaxDelOptions);c.url||t[u.p.id].useDataProxy||(n.isFunction(u.p.dataProxy)?t[u.p.id].useDataProxy=!0:(i[0]=!1,i[1]=i[1]+(" "+n.jgrid.errors.nourl)));i[0]&&(t[u.p.id].useDataProxy?(c=u.p.dataProxy.call(u,c,"del_"+u.p.id),c===void 0&&(c=[!0,""]),c[0]===!1?(i[0]=!1,i[1]=c[1]||"Error deleting the selected row!"):n.jgrid.hideModal("#"+n.jgrid.jqID(s.themodal),{gb:"#gbox_"+n.jgrid.jqID(e),jqm:r.jqModal,onClose:t[u.p.id].onClose})):n.ajax(c))}return i[0]===!1&&(n("#DelError>td","#"+f).html(i[1]),n("#DelError","#"+f).show()),!1});n("#eData","#"+f+"_2").click(function(){return n.jgrid.hideModal("#"+n.jgrid.jqID(s.themodal),{gb:"#gbox_"+n.jgrid.jqID(e),jqm:t[u.p.id].jqModal,onClose:t[u.p.id].onClose}),!1});y&&t[u.p.id].beforeShowForm.call(u,n("#"+f));n.jgrid.viewModal("#"+n.jgrid.jqID(s.themodal),{gbox:"#gbox_"+n.jgrid.jqID(e),jqm:t[u.p.id].jqModal,overlay:t[u.p.id].overlay,modal:t[u.p.id].modal})}b&&t[u.p.id].afterShowForm.call(u,n("#"+f));!0===t[u.p.id].closeOnEscape&&setTimeout(function(){n(".ui-jqdialog-titlebar-close","#"+n.jgrid.jqID(s.modalhead)).focus()},0)}})},navGrid:function(t,i,r,u,f,e,o){return i=n.extend({edit:!0,editicon:"ui-icon-pencil",add:!0,addicon:"ui-icon-plus",del:!0,delicon:"ui-icon-trash",search:!0,searchicon:"ui-icon-search",refresh:!0,refreshicon:"ui-icon-refresh",refreshstate:"firstpage",view:!1,viewicon:"ui-icon-document",position:"left",closeOnEscape:!0,beforeRefresh:null,afterRefresh:null,cloneToTop:!1,alertwidth:200,alertheight:"auto",alerttop:null,alertleft:null,alertzIndex:null},n.jgrid.nav,i||{}),this.each(function(){var v,s,h,c,a,l;if(!this.nav&&(v={themodal:"alertmod_"+this.p.id,modalhead:"alerthd_"+this.p.id,modalcontent:"alertcnt_"+this.p.id},s=this,s.grid&&"string"==typeof t)){void 0===n("#"+v.themodal)[0]&&(!i.alerttop&&!i.alertleft&&(void 0!==window.innerWidth?(i.alertleft=window.innerWidth,i.alerttop=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(i.alertleft=document.documentElement.clientWidth,i.alerttop=document.documentElement.clientHeight):(i.alertleft=1024,i.alerttop=768),i.alertleft=i.alertleft/2-parseInt(i.alertwidth,10)/2,i.alerttop=i.alerttop/2-25),n.jgrid.createModal(v,"<div>"+i.alerttext+"<\/div><span tabindex='0'><span tabindex='-1' id='jqg_alrt'><\/span><\/span>",{gbox:"#gbox_"+n.jgrid.jqID(s.p.id),jqModal:!0,drag:!0,resize:!0,caption:i.alertcap,top:i.alerttop,left:i.alertleft,width:i.alertwidth,height:i.alertheight,closeOnEscape:i.closeOnEscape,zIndex:i.alertzIndex},"#gview_"+n.jgrid.jqID(s.p.id),n("#gbox_"+n.jgrid.jqID(s.p.id))[0],!0));var b=1,w,y=function(){n(this).hasClass("ui-state-disabled")||n(this).addClass("ui-state-hover")},p=function(){n(this).removeClass("ui-state-hover")};for(i.cloneToTop&&s.p.toppager&&(b=2),w=0;w<b;w++)c=n("<table cellspacing='0' cellpadding='0' border='0' class='ui-pg-table navtable' style='float:left;table-layout:auto;'><tbody><tr><\/tr><\/tbody><\/table>"),0===w?(a=t,l=s.p.id,a==s.p.toppager&&(l+="_top",b=1)):(a=s.p.toppager,l=s.p.id+"_top"),"rtl"==s.p.direction&&n(c).attr("dir","rtl").css("float","right"),i.add&&(u=u||{},h=n("<td class='ui-pg-button ui-corner-all'><\/td>"),n(h).append("<div class='ui-pg-div'><span class='ui-icon "+i.addicon+"'><\/span>"+i.addtext+"<\/div>"),n("tr",c).append(h),n(h,c).attr({title:i.addtitle||"",id:u.id||"add_"+l}).click(function(){return n(this).hasClass("ui-state-disabled")||(n.isFunction(i.addfunc)?i.addfunc.call(s):n(s).jqGrid("editGridRow","new",u)),!1}).hover(y,p),h=null),i.edit&&(h=n("<td class='ui-pg-button ui-corner-all'><\/td>"),r=r||{},n(h).append("<div class='ui-pg-div'><span class='ui-icon "+i.editicon+"'><\/span>"+i.edittext+"<\/div>"),n("tr",c).append(h),n(h,c).attr({title:i.edittitle||"",id:r.id||"edit_"+l}).click(function(){if(!n(this).hasClass("ui-state-disabled")){var t=s.p.selrow;t?n.isFunction(i.editfunc)?i.editfunc.call(s,t):n(s).jqGrid("editGridRow",t,r):(n.jgrid.viewModal("#"+v.themodal,{gbox:"#gbox_"+n.jgrid.jqID(s.p.id),jqm:!0}),n("#jqg_alrt").focus())}return!1}).hover(y,p),h=null),i.view&&(h=n("<td class='ui-pg-button ui-corner-all'><\/td>"),o=o||{},n(h).append("<div class='ui-pg-div'><span class='ui-icon "+i.viewicon+"'><\/span>"+i.viewtext+"<\/div>"),n("tr",c).append(h),n(h,c).attr({title:i.viewtitle||"",id:o.id||"view_"+l}).click(function(){if(!n(this).hasClass("ui-state-disabled")){var t=s.p.selrow;t?n.isFunction(i.viewfunc)?i.viewfunc.call(s,t):n(s).jqGrid("viewGridRow",t,o):(n.jgrid.viewModal("#"+v.themodal,{gbox:"#gbox_"+n.jgrid.jqID(s.p.id),jqm:!0}),n("#jqg_alrt").focus())}return!1}).hover(y,p),h=null),i.del&&(h=n("<td class='ui-pg-button ui-corner-all'><\/td>"),f=f||{},n(h).append("<div class='ui-pg-div'><span class='ui-icon "+i.delicon+"'><\/span>"+i.deltext+"<\/div>"),n("tr",c).append(h),n(h,c).attr({title:i.deltitle||"",id:f.id||"del_"+l}).click(function(){if(!n(this).hasClass("ui-state-disabled")){var t;s.p.multiselect?(t=s.p.selarrrow,t.length===0&&(t=null)):t=s.p.selrow;t?n.isFunction(i.delfunc)?i.delfunc.call(s,t):n(s).jqGrid("delGridRow",t,f):(n.jgrid.viewModal("#"+v.themodal,{gbox:"#gbox_"+n.jgrid.jqID(s.p.id),jqm:!0}),n("#jqg_alrt").focus())}return!1}).hover(y,p),h=null),(i.add||i.edit||i.del||i.view)&&n("tr",c).append("<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'><\/span><\/td>"),i.search&&(h=n("<td class='ui-pg-button ui-corner-all'><\/td>"),e=e||{},n(h).append("<div class='ui-pg-div'><span class='ui-icon "+i.searchicon+"'><\/span>"+i.searchtext+"<\/div>"),n("tr",c).append(h),n(h,c).attr({title:i.searchtitle||"",id:e.id||"search_"+l}).click(function(){return n(this).hasClass("ui-state-disabled")||(n.isFunction(i.searchfunc)?i.searchfunc.call(s,e):n(s).jqGrid("searchGrid",e)),!1}).hover(y,p),e.showOnLoad&&!0===e.showOnLoad&&n(h,c).click(),h=null),i.refresh&&(h=n("<td class='ui-pg-button ui-corner-all'><\/td>"),n(h).append("<div class='ui-pg-div'><span class='ui-icon "+i.refreshicon+"'><\/span>"+i.refreshtext+"<\/div>"),n("tr",c).append(h),n(h,c).attr({title:i.refreshtitle||"",id:"refresh_"+l}).click(function(){if(!n(this).hasClass("ui-state-disabled")){n.isFunction(i.beforeRefresh)&&i.beforeRefresh.call(s);s.p.search=!1;try{var t=s.p.id;s.p.postData.filters="";n("#fbox_"+n.jgrid.jqID(t)).jqFilter("resetFilter");n.isFunction(s.clearToolbar)&&s.clearToolbar.call(s,!1)}catch(r){}switch(i.refreshstate){case"firstpage":n(s).trigger("reloadGrid",[{page:1}]);break;case"current":n(s).trigger("reloadGrid",[{current:!0}])}n.isFunction(i.afterRefresh)&&i.afterRefresh.call(s)}return!1}).hover(y,p),h=null),h=n(".ui-jqgrid").css("font-size")||"11px",n("body").append("<div id='testpg2' class='ui-jqgrid ui-widget ui-widget-content' style='font-size:"+h+";visibility:hidden;' ><\/div>"),h=n(c).clone().appendTo("#testpg2").width(),n("#testpg2").remove(),n(a+"_"+i.position,a).append(c),s.p._nvtd&&(h>s.p._nvtd[0]&&(n(a+"_"+i.position,a).width(h),s.p._nvtd[0]=h),s.p._nvtd[1]=h),c=h=h=null,this.nav=!0}})},navButtonAdd:function(t,i){return i=n.extend({caption:"newButton",title:"",buttonicon:"ui-icon-newwin",onClickButton:null,position:"last",cursor:"pointer"},i||{}),this.each(function(){var r,f,u;this.grid&&("string"==typeof t&&0!==t.indexOf("#")&&(t="#"+n.jgrid.jqID(t)),r=n(".navtable",t)[0],f=this,!r||i.id&&void 0!==n("#"+n.jgrid.jqID(i.id),r)[0]||(u=n("<td><\/td>"),"NONE"==i.buttonicon.toString().toUpperCase()?n(u).addClass("ui-pg-button ui-corner-all").append("<div class='ui-pg-div'>"+i.caption+"<\/div>"):n(u).addClass("ui-pg-button ui-corner-all").append("<div class='ui-pg-div'><span class='ui-icon "+i.buttonicon+"'><\/span>"+i.caption+"<\/div>"),i.id&&n(u).attr("id",i.id),"first"==i.position?0===r.rows[0].cells.length?n("tr",r).append(u):n("tr td:eq(0)",r).before(u):n("tr",r).append(u),n(u,r).attr("title",i.title||"").click(function(t){return n(this).hasClass("ui-state-disabled")||n.isFunction(i.onClickButton)&&i.onClickButton.call(f,t),!1}).hover(function(){n(this).hasClass("ui-state-disabled")||n(this).addClass("ui-state-hover")},function(){n(this).removeClass("ui-state-hover")})))})},navSeparatorAdd:function(t,i){return i=n.extend({sepclass:"ui-separator",sepcontent:"",position:"last"},i||{}),this.each(function(){var r,u;this.grid&&("string"==typeof t&&0!==t.indexOf("#")&&(t="#"+n.jgrid.jqID(t)),r=n(".navtable",t)[0],r&&(u="<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='"+i.sepclass+"'><\/span>"+i.sepcontent+"<\/td>","first"===i.position?0===r.rows[0].cells.length?n("tr",r).append(u):n("tr td:eq(0)",r).before(u):n("tr",r).append(u)))})},GridToForm:function(t,i){return this.each(function(){var f=this,r,u;if(f.grid&&(u=n(f).jqGrid("getRowData",t),u))for(r in u)u.hasOwnProperty(r)&&(n("[name="+n.jgrid.jqID(r)+"]",i).is("input:radio")||n("[name="+n.jgrid.jqID(r)+"]",i).is("input:checkbox")?n("[name="+n.jgrid.jqID(r)+"]",i).each(function(){n(this).val()==u[r]?n(this)[f.p.useProp?"prop":"attr"]("checked",!0):n(this)[f.p.useProp?"prop":"attr"]("checked",!1)}):n("[name="+n.jgrid.jqID(r)+"]",i).val(u[r]))})},FormToGrid:function(t,i,r,u){return this.each(function(){if(this.grid){r||(r="set");u||(u="first");var e=n(i).serializeArray(),f={};n.each(e,function(n,t){f[t.name]=t.value});"add"==r?n(this).jqGrid("addRowData",t,f,u):"set"==r&&n(this).jqGrid("setRowData",t,f)}})}})}(jQuery),function(n){n.fn.jqFilter=function(t){var r,u,i;if("string"==typeof t){if(r=n.fn.jqFilter[t],!r)throw"jqFilter - No such method: "+t;return u=n.makeArray(arguments).slice(1),r.apply(this,u)}return i=n.extend(!0,{filter:null,columns:[],onChange:null,afterRedraw:null,checkValues:null,error:!1,errmsg:"",errorcheck:!0,showQuery:!0,sopt:null,ops:[{name:"eq",description:"equal",operator:"="},{name:"ne",description:"not equal",operator:"<>"},{name:"lt",description:"less",operator:"<"},{name:"le",description:"less or equal",operator:"<="},{name:"gt",description:"greater",operator:">"},{name:"ge",description:"greater or equal",operator:">="},{name:"bw",description:"begins with",operator:"LIKE"},{name:"bn",description:"does not begin with",operator:"NOT LIKE"},{name:"in",description:"in",operator:"IN"},{name:"ni",description:"not in",operator:"NOT IN"},{name:"ew",description:"ends with",operator:"LIKE"},{name:"en",description:"does not end with",operator:"NOT LIKE"},{name:"cn",description:"contains",operator:"LIKE"},{name:"nc",description:"does not contain",operator:"NOT LIKE"},{name:"nu",description:"is null",operator:"IS NULL"},{name:"nn",description:"is not null",operator:"IS NOT NULL"}],numopts:"eq,ne,lt,le,gt,ge,nu,nn,in,ni".split(","),stropts:"eq,ne,bw,bn,ew,en,cn,nc,nu,nn,in,ni".split(","),strarr:["text","string","blob"],_gridsopt:[],groupOps:[{op:"AND",text:"AND"},{op:"OR",text:"OR"}],groupButton:!0,ruleButtons:!0,direction:"ltr"},n.jgrid.filter,t||{}),this.each(function(){var r,u,t,f,e;if(!this.filter){if(this.p=i,(null===this.p.filter||void 0===this.p.filter)&&(this.p.filter={groupOp:this.p.groupOps[0].op,rules:[],groups:[]}),u=this.p.columns.length,f=/msie/i.test(navigator.userAgent)&&!window.opera,this.p._gridsopt.length)for(r=0;r<this.p._gridsopt.length;r++)this.p.ops[r].description=this.p._gridsopt[r];if(this.p.initFilter=n.extend(!0,{},this.p.filter),u){for(r=0;r<u;r++)(t=this.p.columns[r],t.stype?t.inputtype=t.stype:t.inputtype||(t.inputtype="text"),t.sorttype?t.searchtype=t.sorttype:t.searchtype||(t.searchtype="string"),void 0===t.hidden&&(t.hidden=!1),t.label||(t.label=t.name),t.index&&(t.name=t.index),t.hasOwnProperty("searchoptions")||(t.searchoptions={}),t.hasOwnProperty("searchrules"))||(t.searchrules={});this.p.showQuery&&n(this).append("<table class='queryresult ui-widget ui-widget-content' style='display:block;max-width:440px;border:0px none;' dir='"+this.p.direction+"'><tbody><tr><td class='query'><\/td><\/tr><\/tbody><\/table>");e=function(t,r){var u=[!0,""];if(n.isFunction(r.searchrules))u=r.searchrules(t,r);else if(n.jgrid&&n.jgrid.checkValues)try{u=n.jgrid.checkValues(t,-1,null,r.searchrules,r.label)}catch(f){}u&&u.length&&!1===u[0]&&(i.error=!u[0],i.errmsg=u[1])};this.onchange=function(){return this.p.error=!1,this.p.errmsg="",n.isFunction(this.p.onChange)?this.p.onChange.call(this,this.p):!1};this.reDraw=function(){n("table.group:first",this).remove();var t=this.createTableForGroup(i.filter,null);n(this).append(t);n.isFunction(this.p.afterRedraw)&&this.p.afterRedraw.call(this,this.p)};this.createTableForGroup=function(t,r){var f=this,u,s=n("<table class='group ui-widget ui-widget-content' style='border:0px none;'><tbody><\/tbody><\/table>"),o="left",c,l,e,h;if("rtl"==this.p.direction&&(o="right",s.attr("dir","rtl")),null===r&&s.append("<tr class='error' style='display:none;'><th colspan='5' class='ui-state-error' align='"+o+"'><\/th><\/tr>"),e=n("<tr><\/tr>"),s.append(e),o=n("<th colspan='5' align='"+o+"'><\/th>"),e.append(o),!0===this.p.ruleButtons){for(c=n("<select class='opsel'><\/select>"),o.append(c),e="",u=0;u<i.groupOps.length;u++)l=t.groupOp===f.p.groupOps[u].op?" selected='selected'":"",e+="<option value='"+f.p.groupOps[u].op+"'"+l+">"+f.p.groupOps[u].text+"<\/option>";c.append(e).bind("change",function(){t.groupOp=n(c).val();f.onchange()})}if(e="<span><\/span>",this.p.groupButton&&(e=n("<input type='button' value='+ {}' title='Add subgroup' class='add-group'/>"),e.bind("click",function(){return t.groups===void 0&&(t.groups=[]),t.groups.push({groupOp:i.groupOps[0].op,rules:[],groups:[]}),f.reDraw(),f.onchange(),!1})),o.append(e),!0===this.p.ruleButtons&&(e=n("<input type='button' value='+' title='Add rule' class='add-rule ui-add'/>"),e.bind("click",function(){for(t.rules===void 0&&(t.rules=[]),u=0;u<f.p.columns.length;u++){var i=f.p.columns[u].search===void 0?!0:f.p.columns[u].search,r=f.p.columns[u].hidden===!0;if(f.p.columns[u].searchoptions.searchhidden===!0&&i||i&&!r){h=f.p.columns[u];break}}return i=h.searchoptions.sopt?h.searchoptions.sopt:f.p.sopt?f.p.sopt:n.inArray(h.searchtype,f.p.strarr)!==-1?f.p.stropts:f.p.numopts,t.rules.push({field:h.name,op:i[0],data:""}),f.reDraw(),!1}),o.append(e)),null!==r&&(e=n("<input type='button' value='-' title='Delete group' class='delete-group'/>"),o.append(e),e.bind("click",function(){for(u=0;u<r.groups.length;u++)if(r.groups[u]===t){r.groups.splice(u,1);break}return f.reDraw(),f.onchange(),!1})),void 0!==t.groups)for(u=0;u<t.groups.length;u++)o=n("<tr><\/tr>"),s.append(o),e=n("<td class='first'><\/td>"),o.append(e),e=n("<td colspan='4'><\/td>"),e.append(this.createTableForGroup(t.groups[u],t)),o.append(e);if(void 0===t.groupOp&&(t.groupOp=f.p.groupOps[0].op),void 0!==t.rules)for(u=0;u<t.rules.length;u++)s.append(this.createTableRowForRule(t.rules[u],t));return s};this.createTableRowForRule=function(t,r){var u=this,v=n("<tr><\/tr>"),e,y,c,o,h="",a,s,w,l,p,k,b;for(v.append("<td class='first'><\/td>"),s=n("<td class='columns'><\/td>"),v.append(s),w=n("<select><\/select>"),p=[],s.append(w),w.bind("change",function(){var i,r,s;for(t.field=n(w).val(),c=n(this).parents("tr:first"),e=0;e<u.p.columns.length;e++)if(u.p.columns[e].name===t.field){o=u.p.columns[e];break}if(o){for(o.searchoptions.id=n.jgrid.randId(),f&&"text"===o.inputtype&&!o.searchoptions.size&&(o.searchoptions.size=10),i=n.jgrid.createEl(o.inputtype,o.searchoptions,"",!0,u.p.ajaxSelectOptions,!0),n(i).addClass("input-elm"),y=o.searchoptions.sopt?o.searchoptions.sopt:u.p.sopt?u.p.sopt:-1!==n.inArray(o.searchtype,u.p.strarr)?u.p.stropts:u.p.numopts,r="",s=0,p=[],n.each(u.p.ops,function(){p.push(this.name)}),e=0;e<y.length;e++)l=n.inArray(y[e],p),-1!==l&&(0===s&&(t.op=u.p.ops[l].name),r+="<option value='"+u.p.ops[l].name+"'>"+u.p.ops[l].description+"<\/option>",s++);n(".selectopts",c).empty().append(r);n(".selectopts",c)[0].selectedIndex=0;n.jgrid.msie&&9>n.jgrid.msiever()&&(r=parseInt(n("select.selectopts",c)[0].offsetWidth,10)+1,n(".selectopts",c).width(r),n(".selectopts",c).css("width","auto"));n(".data",c).empty().append(i);n.jgrid.bindEv(i,o.searchoptions,u);n(".input-elm",c).bind("change",function(i){var r=n(this).hasClass("ui-autocomplete-input")?200:0;setTimeout(function(){var r=i.target;t.data=r.nodeName.toUpperCase()==="SPAN"&&o.searchoptions&&n.isFunction(o.searchoptions.custom_value)?o.searchoptions.custom_value(n(r).children(".customelement:first"),"get"):r.value;u.onchange()},r)});setTimeout(function(){t.data=n(i).val();u.onchange()},0)}}),e=s=0;e<u.p.columns.length;e++)a=void 0===u.p.columns[e].search?!0:u.p.columns[e].search,k=!0===u.p.columns[e].hidden,(!0===u.p.columns[e].searchoptions.searchhidden&&a||a&&!k)&&(a="",t.field===u.p.columns[e].name&&(a=" selected='selected'",s=e),h+="<option value='"+u.p.columns[e].name+"'"+a+">"+u.p.columns[e].label+"<\/option>");for(w.append(h),h=n("<td class='operators'><\/td>"),v.append(h),o=i.columns[s],o.searchoptions.id=n.jgrid.randId(),f&&"text"===o.inputtype&&!o.searchoptions.size&&(o.searchoptions.size=10),s=n.jgrid.createEl(o.inputtype,o.searchoptions,t.data,!0,u.p.ajaxSelectOptions,!0),("nu"==t.op||"nn"==t.op)&&(n(s).attr("readonly","true"),n(s).attr("disabled","true")),b=n("<select class='selectopts'><\/select>"),h.append(b),b.bind("change",function(){t.op=n(b).val();c=n(this).parents("tr:first");var i=n(".input-elm",c)[0];t.op==="nu"||t.op==="nn"?(t.data="",i.value="",i.setAttribute("readonly","true"),i.setAttribute("disabled","true")):(i.removeAttribute("readonly"),i.removeAttribute("disabled"));u.onchange()}),y=o.searchoptions.sopt?o.searchoptions.sopt:u.p.sopt?u.p.sopt:-1!==n.inArray(o.searchtype,u.p.strarr)?u.p.stropts:u.p.numopts,h="",n.each(u.p.ops,function(){p.push(this.name)}),e=0;e<y.length;e++)l=n.inArray(y[e],p),-1!==l&&(a=t.op===u.p.ops[l].name?" selected='selected'":"",h+="<option value='"+u.p.ops[l].name+"'"+a+">"+u.p.ops[l].description+"<\/option>");return b.append(h),h=n("<td class='data'><\/td>"),v.append(h),h.append(s),n.jgrid.bindEv(s,o.searchoptions,u),n(s).addClass("input-elm").bind("change",function(){t.data=o.inputtype==="custom"?o.searchoptions.custom_value(n(this).children(".customelement:first"),"get"):n(this).val();u.onchange()}),h=n("<td><\/td>"),v.append(h),!0===this.p.ruleButtons&&(s=n("<input type='button' value='-' title='Delete rule' class='delete-rule ui-del'/>"),h.append(s),s.bind("click",function(){for(e=0;e<r.rules.length;e++)if(r.rules[e]===t){r.rules.splice(e,1);break}return u.reDraw(),u.onchange(),!1})),v};this.getStringForGroup=function(n){var t="(",i;if(void 0!==n.groups)for(i=0;i<n.groups.length;i++){1<t.length&&(t+=" "+n.groupOp+" ");try{t+=this.getStringForGroup(n.groups[i])}catch(r){alert(r)}}if(void 0!==n.rules)try{for(i=0;i<n.rules.length;i++)1<t.length&&(t+=" "+n.groupOp+" "),t+=this.getStringForRule(n.rules[i])}catch(u){alert(u)}return t+=")","()"===t?"":t};this.getStringForRule=function(t){for(var o="",u="",f,r=0;r<this.p.ops.length;r++)if(this.p.ops[r].name===t.op){o=this.p.ops[r].operator;u=this.p.ops[r].name;break}for(r=0;r<this.p.columns.length;r++)if(this.p.columns[r].name===t.field){f=this.p.columns[r];break}return null==f?"":(r=t.data,("bw"===u||"bn"===u)&&(r+="%"),("ew"===u||"en"===u)&&(r="%"+r),("cn"===u||"nc"===u)&&(r="%"+r+"%"),("in"===u||"ni"===u)&&(r=" ("+r+")"),i.errorcheck&&e(t.data,f),-1!==n.inArray(f.searchtype,["int","integer","float","number","currency"])||"nn"===u||"nu"===u?t.field+" "+o+" "+r:t.field+" "+o+' "'+r+'"')};this.resetFilter=function(){this.p.filter=n.extend(!0,{},this.p.initFilter);this.reDraw();this.onchange()};this.hideError=function(){n("th.ui-state-error",this).html("");n("tr.error",this).hide()};this.showError=function(){n("th.ui-state-error",this).html(this.p.errmsg);n("tr.error",this).show()};this.toUserFriendlyString=function(){return this.getStringForGroup(i.filter)};this.toString=function(){function t(i){var r="(",u,f;if(void 0!==i.groups)for(u=0;u<i.groups.length;u++)1<r.length&&(r="OR"===i.groupOp?r+" || ":r+" && "),r+=t(i.groups[u]);if(void 0!==i.rules)for(u=0;u<i.rules.length;u++){if(1<r.length&&(r="OR"===i.groupOp?r+" || ":r+" && "),f=i.rules[u],n.p.errorcheck){for(var o=void 0,s=void 0,o=0;o<n.p.columns.length;o++)if(n.p.columns[o].name===f.field){s=n.p.columns[o];break}s&&e(f.data,s)}r+=f.op+"(item."+f.field+",'"+f.data+"')"}return r+=")","()"===r?"":r}var n=this;return t(this.p.filter)};this.reDraw();this.p.showQuery&&this.onchange();this.filter=!0}}})};n.extend(n.fn.jqFilter,{toSQLString:function(){var n="";return this.each(function(){n=this.toUserFriendlyString()}),n},filterData:function(){var n;return this.each(function(){n=this.p.filter}),n},getParameter:function(n){return void 0!==n&&this.p.hasOwnProperty(n)?this.p[n]:this.p},resetFilter:function(){return this.each(function(){this.resetFilter()})},addFilter:function(t){"string"==typeof t&&(t=n.jgrid.parse(t));this.each(function(){this.p.filter=t;this.reDraw();this.onchange()})}})}(jQuery),function(n){n.jgrid.inlineEdit=n.jgrid.inlineEdit||{};n.jgrid.extend({editRow:function(t,i,r,u,f,e,o,s,h){var c={},l=n.makeArray(arguments).slice(1);return"object"===n.type(l[0])?c=l[0]:(void 0!==i&&(c.keys=i),n.isFunction(r)&&(c.oneditfunc=r),n.isFunction(u)&&(c.successfunc=u),void 0!==f&&(c.url=f),void 0!==e&&(c.extraparam=e),n.isFunction(o)&&(c.aftersavefunc=o),n.isFunction(s)&&(c.errorfunc=s),n.isFunction(h))&&(c.afterrestorefunc=h),c=n.extend(!0,{keys:!1,oneditfunc:null,successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,mtype:"POST"},n.jgrid.inlineEdit,c),this.each(function(){var i=this,f,u,h=0,o=null,s={},e,r;i.grid&&(e=n(i).jqGrid("getInd",t,!0),!1!==e&&"0"==(n(e).attr("editable")||"0")&&!n(e).hasClass("not-editable-row"))&&(r=i.p.colModel,n('td[role="gridcell"]',e).each(function(e){var l,a,c;if(f=r[e].name,l=!0===i.p.treeGrid&&f==i.p.ExpandColumn,l)u=n("span:first",this).html();else try{u=n.unformat.call(i,this,{rowId:t,colModel:r[e]},e)}catch(v){u=r[e].edittype&&"textarea"==r[e].edittype?n(this).text():n(this).html()}"cb"!=f&&"subgrid"!=f&&"rn"!=f&&(i.p.autoencode&&(u=n.jgrid.htmlDecode(u)),s[f]=u,!0===r[e].editable)&&(null===o&&(o=e),l?n("span:first",this).html(""):n(this).html(""),a=n.extend({},r[e].editoptions||{},{id:t+"_"+f,name:f}),r[e].edittype||(r[e].edittype="text"),("&nbsp;"==u||"&#160;"==u||1==u.length&&160==u.charCodeAt(0))&&(u=""),c=n.jgrid.createEl.call(i,r[e].edittype,a,u,!0,n.extend({},n.jgrid.ajaxOptions,i.p.ajaxSelectOptions||{})),n(c).addClass("editable"),l?n("span:first",this).append(c):n(this).append(c),n.jgrid.bindEv(c,a,i),"select"==r[e].edittype&&void 0!==r[e].editoptions&&!0===r[e].editoptions.multiple&&void 0===r[e].editoptions.dataUrl&&n.jgrid.msie&&n(c).width(n(c).width()),h++)}),0<h&&(s.id=t,i.p.savedRow.push(s),n(e).attr("editable","1"),n("td:eq("+o+") input",e).focus(),!0===c.keys&&n(e).bind("keydown",function(r){if(27===r.keyCode){if(n(i).jqGrid("restoreRow",t,c.afterrestorefunc),i.p._inlinenav)try{n(i).jqGrid("showAddEditButtons")}catch(u){}return!1}if(13===r.keyCode){if("TEXTAREA"==r.target.tagName)return!0;if(n(i).jqGrid("saveRow",t,c)&&i.p._inlinenav)try{n(i).jqGrid("showAddEditButtons")}catch(f){}return!1}}),n(i).triggerHandler("jqGridInlineEditRow",[t,c]),n.isFunction(c.oneditfunc)&&c.oneditfunc.call(i,t)))})},saveRow:function(t,i,r,u,f,e,o){var a=n.makeArray(arguments).slice(1),c={},y,d;"object"===n.type(a[0])?c=a[0]:(n.isFunction(i)&&(c.successfunc=i),void 0!==r&&(c.url=r),void 0!==u&&(c.extraparam=u),n.isFunction(f)&&(c.aftersavefunc=f),n.isFunction(e)&&(c.errorfunc=e),n.isFunction(o))&&(c.afterrestorefunc=o);var c=n.extend(!0,{successfunc:null,url:null,extraparam:{},aftersavefunc:null,errorfunc:null,afterrestorefunc:null,restoreAfterError:!0,mtype:"POST"},n.jgrid.inlineEdit,c),g=!1,s=this[0],l,h={},nt={},w={},k,b,p;if(!s.grid||(p=n(s).jqGrid("getInd",t,!0),!1===p))return g;if(a=n(p).attr("editable"),c.url=c.url||s.p.editurl,"1"===a){if(n('td[role="gridcell"]',p).each(function(t){var i,r;if(y=s.p.colModel[t],l=y.name,"cb"!=l&&"subgrid"!=l&&!0===y.editable&&"rn"!=l&&!n(this).hasClass("not-editable-cell")){switch(y.edittype){case"checkbox":i=["Yes","No"];y.editoptions&&(i=y.editoptions.value.split(":"));h[l]=n("input",this).is(":checked")?i[0]:i[1];break;case"text":case"password":case"textarea":case"button":h[l]=n("input, textarea",this).val();break;case"select":y.editoptions.multiple?(i=n("select",this),r=[],h[l]=n(i).val(),h[l]=h[l]?h[l].join(","):"",n("select option:selected",this).each(function(t,i){r[t]=n(i).text()}),nt[l]=r.join(",")):(h[l]=n("select option:selected",this).val(),nt[l]=n("select option:selected",this).text());y.formatter&&"select"==y.formatter&&(nt={});break;case"custom":try{if(y.editoptions&&n.isFunction(y.editoptions.custom_value)){if(h[l]=y.editoptions.custom_value.call(s,n(".customelement",this),"get"),void 0===h[l])throw"e2";}else throw"e1";}catch(u){"e1"==u&&n.jgrid.info_dialog(n.jgrid.errors.errcap,"function 'custom_value' "+n.jgrid.edit.msg.nodefined,n.jgrid.edit.bClose);"e2"==u?n.jgrid.info_dialog(n.jgrid.errors.errcap,"function 'custom_value' "+n.jgrid.edit.msg.novalue,n.jgrid.edit.bClose):n.jgrid.info_dialog(n.jgrid.errors.errcap,u.message,n.jgrid.edit.bClose)}}if(b=n.jgrid.checkValues(h[l],t,s),!1===b[0])return b[1]=h[l]+" "+b[1],!1;s.p.autoencode&&(h[l]=n.jgrid.htmlEncode(h[l]));"clientArray"!==c.url&&y.editoptions&&!0===y.editoptions.NullIfEmpty&&""===h[l]&&(w[l]="null")}}),!1===b[0]){try{d=n.jgrid.findPos(n("#"+n.jgrid.jqID(t),s.grid.bDiv)[0]);n.jgrid.info_dialog(n.jgrid.errors.errcap,b[1],n.jgrid.edit.bClose,{left:d[0],top:d[1]})}catch(tt){alert(b[1])}return g}var v=s.p.prmNames,d=t,a=!1===s.p.keyIndex?v.id:s.p.colModel[s.p.keyIndex+(!0===s.p.rownumbers?1:0)+(!0===s.p.multiselect?1:0)+(!0===s.p.subGrid?1:0)].name;if(h&&(h[v.oper]=v.editoper,void 0===h[a]?h[a]=t:p.id!==s.p.idPrefix+h[a]&&(v=n.jgrid.stripPref(s.p.idPrefix,t),void 0!==s.p._index[v]&&(s.p._index[h[a]]=s.p._index[v],delete s.p._index[v]),t=s.p.idPrefix+h[a],n(p).attr("id",t),s.p.selrow===d&&(s.p.selrow=t),n.isArray(s.p.selarrrow)&&(v=n.inArray(d,s.p.selarrrow),0<=v&&(s.p.selarrrow[v]=t)),s.p.multiselect)&&(v="jqg_"+s.p.id+"_"+t,n("input.cbox",p).attr("id",v).attr("name",v)),void 0===s.p.inlineData&&(s.p.inlineData={}),h=n.extend({},h,s.p.inlineData,c.extraparam)),"clientArray"==c.url){for(h=n.extend({},h,nt),s.p.autoencode&&n.each(h,function(t,i){h[t]=n.jgrid.htmlDecode(i)}),v=n(s).jqGrid("setRowData",t,h),n(p).attr("editable","0"),a=0;a<s.p.savedRow.length;a++)if(s.p.savedRow[a].id==d){k=a;break}0<=k&&s.p.savedRow.splice(k,1);n(s).triggerHandler("jqGridInlineAfterSaveRow",[t,v,h,c]);n.isFunction(c.aftersavefunc)&&c.aftersavefunc.call(s,t,v,c);g=!0;n(p).unbind("keydown")}else n("#lui_"+n.jgrid.jqID(s.p.id)).show(),w=n.extend({},h,w),w[a]=n.jgrid.stripPref(s.p.idPrefix,w[a]),n.ajax(n.extend({url:c.url,data:n.isFunction(s.p.serializeRowData)?s.p.serializeRowData.call(s,w):w,type:c.mtype,"async":!1,complete:function(i,r){if(n("#lui_"+n.jgrid.jqID(s.p.id)).hide(),"success"===r){var f=!0,u;if(u=n(s).triggerHandler("jqGridInlineSuccessSaveRow",[i,t,c]),n.isArray(u)||(u=[!0,h]),u[0]&&n.isFunction(c.successfunc)&&(u=c.successfunc.call(s,i)),n.isArray(u)?(f=u[0],h=u[1]||h):f=u,!0===f){for(s.p.autoencode&&n.each(h,function(t,i){h[t]=n.jgrid.htmlDecode(i)}),h=n.extend({},h,nt),n(s).jqGrid("setRowData",t,h),n(p).attr("editable","0"),f=0;f<s.p.savedRow.length;f++)if(s.p.savedRow[f].id==t){k=f;break}0<=k&&s.p.savedRow.splice(k,1);n(s).triggerHandler("jqGridInlineAfterSaveRow",[t,i,h,c]);n.isFunction(c.aftersavefunc)&&c.aftersavefunc.call(s,t,i);g=!0;n(p).unbind("keydown")}else n(s).triggerHandler("jqGridInlineErrorSaveRow",[t,i,r,null,c]),n.isFunction(c.errorfunc)&&c.errorfunc.call(s,t,i,r,null),!0===c.restoreAfterError&&n(s).jqGrid("restoreRow",t,c.afterrestorefunc)}},error:function(i,r,u){if(n("#lui_"+n.jgrid.jqID(s.p.id)).hide(),n(s).triggerHandler("jqGridInlineErrorSaveRow",[t,i,r,u,c]),n.isFunction(c.errorfunc))c.errorfunc.call(s,t,i,r,u);else{i=i.responseText||i.statusText;try{n.jgrid.info_dialog(n.jgrid.errors.errcap,'<div class="ui-state-error">'+i+"<\/div>",n.jgrid.edit.bClose,{buttonalign:"right"})}catch(f){alert(i)}}!0===c.restoreAfterError&&n(s).jqGrid("restoreRow",t,c.afterrestorefunc)}},n.jgrid.ajaxOptions,s.p.ajaxRowOptions||{}))}return g},restoreRow:function(t,i){var u=n.makeArray(arguments).slice(1),r={};return"object"===n.type(u[0])?r=u[0]:n.isFunction(i)&&(r.afterrestorefunc=i),r=n.extend(!0,n.jgrid.inlineEdit,r),this.each(function(){var i=this,u,e,o={},f;if(i.grid&&(e=n(i).jqGrid("getInd",t,!0),e!==!1)){for(f=0;f<i.p.savedRow.length;f++)if(i.p.savedRow[f].id==t){u=f;break}if(u>=0){if(n.isFunction(n.fn.datepicker))try{n("input.hasDatepicker","#"+n.jgrid.jqID(e.id)).datepicker("hide")}catch(s){}n.each(i.p.colModel,function(){this.editable===!0&&i.p.savedRow[u].hasOwnProperty(this.name)&&(o[this.name]=i.p.savedRow[u][this.name])});n(i).jqGrid("setRowData",t,o);n(e).attr("editable","0").unbind("keydown");i.p.savedRow.splice(u,1);n("#"+n.jgrid.jqID(t),"#"+n.jgrid.jqID(i.p.id)).hasClass("jqgrid-new-row")&&setTimeout(function(){n(i).jqGrid("delRowData",t)},0)}n(i).triggerHandler("jqGridInlineAfterRestoreRow",[t]);n.isFunction(r.afterrestorefunc)&&r.afterrestorefunc.call(i,t)}})},addRow:function(t){return t=n.extend(!0,{rowID:null,initdata:{},position:"first",useDefValues:!0,useFormatter:!1,addRowParams:{extraparam:{}}},t||{}),this.each(function(){var i,r;this.grid&&(i=this,t.rowID=n.isFunction(t.rowID)?t.rowID.call(i,t):null!=t.rowID?t.rowID:n.jgrid.randId(),!0===t.useDefValues&&n(i.p.colModel).each(function(){if(this.editoptions&&this.editoptions.defaultValue){var r=this.editoptions.defaultValue,r=n.isFunction(r)?r.call(i):r;t.initdata[this.name]=r}}),n(i).jqGrid("addRowData",t.rowID,t.initdata,t.position),t.rowID=i.p.idPrefix+t.rowID,n("#"+n.jgrid.jqID(t.rowID),"#"+n.jgrid.jqID(i.p.id)).addClass("jqgrid-new-row"),t.useFormatter?n("#"+n.jgrid.jqID(t.rowID)+" .ui-inline-edit","#"+n.jgrid.jqID(i.p.id)).click():(r=i.p.prmNames,t.addRowParams.extraparam[r.oper]=r.addoper,n(i).jqGrid("editRow",t.rowID,t.addRowParams),n(i).jqGrid("setSelection",t.rowID)))})},inlineNav:function(t,i){return i=n.extend({edit:!0,editicon:"ui-icon-pencil",add:!0,addicon:"ui-icon-plus",save:!0,saveicon:"ui-icon-disk",cancel:!0,cancelicon:"ui-icon-cancel",addParams:{},editParams:{},restoreAfterSelect:!0},n.jgrid.nav,i||{}),this.each(function(){var r,o,u,f,e;if(this.grid){if(r=this,u=n.jgrid.jqID(r.p.id),r.p._inlinenav=!0,!0===i.addParams.useFormatter)for(f=r.p.colModel,e=0;e<f.length;e++)if(f[e].formatter&&"actions"===f[e].formatter){f[e].formatoptions&&(f=n.extend({keys:!1,onEdit:null,onSuccess:null,afterSave:null,onError:null,afterRestore:null,extraparam:{},url:null},f[e].formatoptions),i.addParams.addRowParams={keys:f.keys,oneditfunc:f.onEdit,successfunc:f.onSuccess,url:f.url,extraparam:f.extraparam,aftersavefunc:f.afterSavef,errorfunc:f.onError,afterrestorefunc:f.afterRestore});break}i.add&&n(r).jqGrid("navButtonAdd",t,{caption:i.addtext,title:i.addtitle,buttonicon:i.addicon,id:r.p.id+"_iladd",onClickButton:function(){n(r).jqGrid("addRow",i.addParams);i.addParams.useFormatter||(n("#"+u+"_ilsave").removeClass("ui-state-disabled"),n("#"+u+"_ilcancel").removeClass("ui-state-disabled"),n("#"+u+"_iladd").addClass("ui-state-disabled"),n("#"+u+"_iledit").addClass("ui-state-disabled"))}});i.edit&&n(r).jqGrid("navButtonAdd",t,{caption:i.edittext,title:i.edittitle,buttonicon:i.editicon,id:r.p.id+"_iledit",onClickButton:function(){var t=n(r).jqGrid("getGridParam","selrow");t?(n(r).jqGrid("editRow",t,i.editParams),n("#"+u+"_ilsave").removeClass("ui-state-disabled"),n("#"+u+"_ilcancel").removeClass("ui-state-disabled"),n("#"+u+"_iladd").addClass("ui-state-disabled"),n("#"+u+"_iledit").addClass("ui-state-disabled")):(n.jgrid.viewModal("#alertmod",{gbox:"#gbox_"+u,jqm:!0}),n("#jqg_alrt").focus())}});i.save&&(n(r).jqGrid("navButtonAdd",t,{caption:i.savetext||"",title:i.savetitle||"Save row",buttonicon:i.saveicon,id:r.p.id+"_ilsave",onClickButton:function(){var f=r.p.savedRow[0].id,t,e;f?(t=r.p.prmNames,e=t.oper,i.editParams.extraparam||(i.editParams.extraparam={}),i.editParams.extraparam[e]=n("#"+n.jgrid.jqID(f),"#"+u).hasClass("jqgrid-new-row")?t.addoper:t.editoper,n(r).jqGrid("saveRow",f,i.editParams)&&n(r).jqGrid("showAddEditButtons")):(n.jgrid.viewModal("#alertmod",{gbox:"#gbox_"+u,jqm:!0}),n("#jqg_alrt").focus())}}),n("#"+u+"_ilsave").addClass("ui-state-disabled"));i.cancel&&(n(r).jqGrid("navButtonAdd",t,{caption:i.canceltext||"",title:i.canceltitle||"Cancel row editing",buttonicon:i.cancelicon,id:r.p.id+"_ilcancel",onClickButton:function(){var t=r.p.savedRow[0].id;t?(n(r).jqGrid("restoreRow",t,i.editParams),n(r).jqGrid("showAddEditButtons")):(n.jgrid.viewModal("#alertmod",{gbox:"#gbox_"+u,jqm:!0}),n("#jqg_alrt").focus())}}),n("#"+u+"_ilcancel").addClass("ui-state-disabled"));!0===i.restoreAfterSelect&&(o=n.isFunction(r.p.beforeSelectRow)?r.p.beforeSelectRow:!1,r.p.beforeSelectRow=function(t,u){var f=!0;return r.p.savedRow.length>0&&r.p._inlinenav===!0&&t!==r.p.selrow&&r.p.selrow!==null&&(r.p.selrow==i.addParams.rowID?n(r).jqGrid("delRowData",r.p.selrow):n(r).jqGrid("restoreRow",r.p.selrow,i.editParams),n(r).jqGrid("showAddEditButtons")),o&&(f=o.call(r,t,u)),f})}})},showAddEditButtons:function(){return this.each(function(){if(this.grid){var t=n.jgrid.jqID(this.p.id);n("#"+t+"_ilsave").addClass("ui-state-disabled");n("#"+t+"_ilcancel").addClass("ui-state-disabled");n("#"+t+"_iladd").removeClass("ui-state-disabled");n("#"+t+"_iledit").removeClass("ui-state-disabled")}})}})}(jQuery),function(n){n.jgrid.extend({editCell:function(t,i,r){return this.each(function(){var u=this,e,f,o,s,h,c;if(u.grid&&!0===u.p.cellEdit){if(i=parseInt(i,10),u.p.selrow=u.rows[t].id,u.p.knv||n(u).jqGrid("GridNav"),0<u.p.savedRow.length){if(!0===r&&t==u.p.iRow&&i==u.p.iCol)return;n(u).jqGrid("saveCell",u.p.savedRow[0].id,u.p.savedRow[0].ic)}else window.setTimeout(function(){n("#"+n.jgrid.jqID(u.p.knv)).attr("tabindex","-1").focus()},0);if(s=u.p.colModel[i],e=s.name,!("subgrid"==e||"cb"==e||"rn"==e)){if(o=n("td:eq("+i+")",u.rows[t]),!0!==s.editable||!0!==r||o.hasClass("not-editable-cell"))0<=parseInt(u.p.iCol,10)&&0<=parseInt(u.p.iRow,10)&&(n("td:eq("+u.p.iCol+")",u.rows[u.p.iRow]).removeClass("edit-cell ui-state-highlight"),n(u.rows[u.p.iRow]).removeClass("selected-row ui-state-hover")),o.addClass("edit-cell ui-state-highlight"),n(u.rows[t]).addClass("selected-row ui-state-hover"),f=o.html().replace(/\&#160\;/ig,""),n(u).triggerHandler("jqGridSelectCell",[u.rows[t].id,e,f,t,i]),n.isFunction(u.p.onSelectCell)&&u.p.onSelectCell.call(u,u.rows[t].id,e,f,t,i);else{0<=parseInt(u.p.iCol,10)&&0<=parseInt(u.p.iRow,10)&&(n("td:eq("+u.p.iCol+")",u.rows[u.p.iRow]).removeClass("edit-cell ui-state-highlight"),n(u.rows[u.p.iRow]).removeClass("selected-row ui-state-hover"));n(o).addClass("edit-cell ui-state-highlight");n(u.rows[t]).addClass("selected-row ui-state-hover");try{f=n.unformat.call(u,o,{rowId:u.rows[t].id,colModel:s},i)}catch(l){f=s.edittype&&"textarea"==s.edittype?n(o).text():n(o).html()}u.p.autoencode&&(f=n.jgrid.htmlDecode(f));s.edittype||(s.edittype="text");u.p.savedRow.push({id:t,ic:i,name:e,v:f});("&nbsp;"===f||"&#160;"===f||1===f.length&&160===f.charCodeAt(0))&&(f="");n.isFunction(u.p.formatCell)&&(h=u.p.formatCell.call(u,u.rows[t].id,e,f,t,i),void 0!==h&&(f=h));h=n.extend({},s.editoptions||{},{id:t+"_"+e,name:e});c=n.jgrid.createEl.call(u,s.edittype,h,f,!0,n.extend({},n.jgrid.ajaxOptions,u.p.ajaxSelectOptions||{}));n(u).triggerHandler("jqGridBeforeEditCell",[u.rows[t].id,e,f,t,i]);n.isFunction(u.p.beforeEditCell)&&u.p.beforeEditCell.call(u,u.rows[t].id,e,f,t,i);n(o).html("").append(c).attr("tabindex","0");n.jgrid.bindEv(c,h,u);window.setTimeout(function(){n(c).focus()},0);n("input, select, textarea",o).bind("keydown",function(r){if(r.keyCode===27&&(n("input.hasDatepicker",o).length>0?n(".ui-datepicker").is(":hidden")?n(u).jqGrid("restoreCell",t,i):n("input.hasDatepicker",o).datepicker("hide"):n(u).jqGrid("restoreCell",t,i)),r.keyCode===13)return n(u).jqGrid("saveCell",t,i),!1;if(r.keyCode===9){if(u.grid.hDiv.loading)return!1;r.shiftKey?n(u).jqGrid("prevCell",t,i):n(u).jqGrid("nextCell",t,i)}r.stopPropagation()});n(u).triggerHandler("jqGridAfterEditCell",[u.rows[t].id,e,f,t,i]);n.isFunction(u.p.afterEditCell)&&u.p.afterEditCell.call(u,u.rows[t].id,e,f,t,i)}u.p.iCol=i;u.p.iRow=t}}})},saveCell:function(t,i){return this.each(function(){var r=this,e,h,v,l,p,c;if(r.grid&&!0===r.p.cellEdit){if(e=1<=r.p.savedRow.length?0:null,null!==e){var a=n("td:eq("+i+")",r.rows[t]),u,o,s=r.p.colModel[i],f=s.name,h=n.jgrid.jqID(f);switch(s.edittype){case"select":s.editoptions.multiple?(h=n("#"+t+"_"+h,r.rows[t]),v=[],(u=n(h).val())?u.join(","):u="",n("option:selected",h).each(function(t,i){v[t]=n(i).text()}),o=v.join(",")):(u=n("#"+t+"_"+h+" option:selected",r.rows[t]).val(),o=n("#"+t+"_"+h+" option:selected",r.rows[t]).text());s.formatter&&(o=u);break;case"checkbox":l=["Yes","No"];s.editoptions&&(l=s.editoptions.value.split(":"));o=u=n("#"+t+"_"+h,r.rows[t]).is(":checked")?l[0]:l[1];break;case"password":case"text":case"textarea":case"button":o=u=n("#"+t+"_"+h,r.rows[t]).val();break;case"custom":try{if(s.editoptions&&n.isFunction(s.editoptions.custom_value)){if(u=s.editoptions.custom_value.call(r,n(".customelement",a),"get"),void 0===u)throw"e2";o=u}else throw"e1";}catch(y){"e1"==y&&n.jgrid.info_dialog(n.jgrid.errors.errcap,"function 'custom_value' "+n.jgrid.edit.msg.nodefined,n.jgrid.edit.bClose);"e2"==y?n.jgrid.info_dialog(n.jgrid.errors.errcap,"function 'custom_value' "+n.jgrid.edit.msg.novalue,n.jgrid.edit.bClose):n.jgrid.info_dialog(n.jgrid.errors.errcap,y.message,n.jgrid.edit.bClose)}}if(o!==r.p.savedRow[e].v)if((e=n(r).triggerHandler("jqGridBeforeSaveCell",[r.rows[t].id,f,u,t,i]))&&(o=u=e),n.isFunction(r.p.beforeSaveCell)&&(e=r.p.beforeSaveCell.call(r,r.rows[t].id,f,u,t,i))&&(o=u=e),p=n.jgrid.checkValues(u,i,r),!0===p[0]){if(e=n(r).triggerHandler("jqGridBeforeSubmitCell",[r.rows[t].id,f,u,t,i])||{},n.isFunction(r.p.beforeSubmitCell)&&((e=r.p.beforeSubmitCell.call(r,r.rows[t].id,f,u,t,i))||(e={})),0<n("input.hasDatepicker",a).length&&n("input.hasDatepicker",a).datepicker("hide"),"remote"==r.p.cellsubmit)if(r.p.cellurl)c={},r.p.autoencode&&(u=n.jgrid.htmlEncode(u)),c[f]=u,l=r.p.prmNames,s=l.id,h=l.oper,c[s]=n.jgrid.stripPref(r.p.idPrefix,r.rows[t].id),c[h]=l.editoper,c=n.extend(e,c),n("#lui_"+n.jgrid.jqID(r.p.id)).show(),r.grid.hDiv.loading=!0,n.ajax(n.extend({url:r.p.cellurl,data:n.isFunction(r.p.serializeCellData)?r.p.serializeCellData.call(r,c):c,type:"POST",complete:function(e,s){if(n("#lui_"+r.p.id).hide(),r.grid.hDiv.loading=!1,s=="success"){var h=n(r).triggerHandler("jqGridAfterSubmitCell",[r,e,c.id,f,u,t,i])||[!0,""];h[0]===!0&&n.isFunction(r.p.afterSubmitCell)&&(h=r.p.afterSubmitCell.call(r,e,c.id,f,u,t,i));h[0]===!0?(n(a).empty(),n(r).jqGrid("setCell",r.rows[t].id,i,o,!1,!1,!0),n(a).addClass("dirty-cell"),n(r.rows[t]).addClass("edited"),n(r).triggerHandler("jqGridAfterSaveCell",[r.rows[t].id,f,u,t,i]),n.isFunction(r.p.afterSaveCell)&&r.p.afterSaveCell.call(r,r.rows[t].id,f,u,t,i),r.p.savedRow.splice(0,1)):(n.jgrid.info_dialog(n.jgrid.errors.errcap,h[1],n.jgrid.edit.bClose),n(r).jqGrid("restoreCell",t,i))}},error:function(u,f,e){n("#lui_"+n.jgrid.jqID(r.p.id)).hide();r.grid.hDiv.loading=!1;n(r).triggerHandler("jqGridErrorCell",[u,f,e]);n.isFunction(r.p.errorCell)?r.p.errorCell.call(r,u,f,e):n.jgrid.info_dialog(n.jgrid.errors.errcap,u.status+" : "+u.statusText+"<br/>"+f,n.jgrid.edit.bClose);n(r).jqGrid("restoreCell",t,i)}},n.jgrid.ajaxOptions,r.p.ajaxCellOptions||{}));else try{n.jgrid.info_dialog(n.jgrid.errors.errcap,n.jgrid.errors.nourl,n.jgrid.edit.bClose);n(r).jqGrid("restoreCell",t,i)}catch(w){}"clientArray"==r.p.cellsubmit&&(n(a).empty(),n(r).jqGrid("setCell",r.rows[t].id,i,o,!1,!1,!0),n(a).addClass("dirty-cell"),n(r.rows[t]).addClass("edited"),n(r).triggerHandler("jqGridAfterSaveCell",[r.rows[t].id,f,u,t,i]),n.isFunction(r.p.afterSaveCell)&&r.p.afterSaveCell.call(r,r.rows[t].id,f,u,t,i),r.p.savedRow.splice(0,1))}else try{window.setTimeout(function(){n.jgrid.info_dialog(n.jgrid.errors.errcap,u+" "+p[1],n.jgrid.edit.bClose)},100);n(r).jqGrid("restoreCell",t,i)}catch(b){}else n(r).jqGrid("restoreCell",t,i)}window.setTimeout(function(){n("#"+n.jgrid.jqID(r.p.knv)).attr("tabindex","-1").focus()},0)}})},restoreCell:function(t,i){return this.each(function(){var r=this,u,f;if(r.grid&&!0===r.p.cellEdit){if(u=1<=r.p.savedRow.length?0:null,null!==u){if(f=n("td:eq("+i+")",r.rows[t]),n.isFunction(n.fn.datepicker))try{n("input.hasDatepicker",f).datepicker("hide")}catch(e){}n(f).empty().attr("tabindex","-1");n(r).jqGrid("setCell",r.rows[t].id,i,r.p.savedRow[u].v,!1,!1,!0);n(r).triggerHandler("jqGridAfterRestoreCell",[r.rows[t].id,r.p.savedRow[u].v,t,i]);n.isFunction(r.p.afterRestoreCell)&&r.p.afterRestoreCell.call(r,r.rows[t].id,r.p.savedRow[u].v,t,i);r.p.savedRow.splice(0,1)}window.setTimeout(function(){n("#"+r.p.knv).attr("tabindex","-1").focus()},0)}})},nextCell:function(t,i){return this.each(function(){var u=!1,r;if(this.grid&&!0===this.p.cellEdit){for(r=i+1;r<this.p.colModel.length;r++)if(!0===this.p.colModel[r].editable){u=r;break}!1!==u?n(this).jqGrid("editCell",t,u,!0):0<this.p.savedRow.length&&n(this).jqGrid("saveCell",t,i)}})},prevCell:function(t,i){return this.each(function(){var u=!1,r;if(this.grid&&!0===this.p.cellEdit){for(r=i-1;0<=r;r--)if(!0===this.p.colModel[r].editable){u=r;break}!1!==u?n(this).jqGrid("editCell",t,u,!0):0<this.p.savedRow.length&&n(this).jqGrid("saveCell",t,i)}})},GridNav:function(){return this.each(function(){function u(i,r,u){if("v"==u.substr(0,1)){var f=n(t.grid.bDiv)[0].clientHeight,e=n(t.grid.bDiv)[0].scrollTop,o=t.rows[i].offsetTop+t.rows[i].clientHeight,s=t.rows[i].offsetTop;"vd"==u&&o>=f&&(n(t.grid.bDiv)[0].scrollTop=n(t.grid.bDiv)[0].scrollTop+t.rows[i].clientHeight);"vu"==u&&s<e&&(n(t.grid.bDiv)[0].scrollTop=n(t.grid.bDiv)[0].scrollTop-t.rows[i].clientHeight)}"h"==u&&(u=n(t.grid.bDiv)[0].clientWidth,f=n(t.grid.bDiv)[0].scrollLeft,e=t.rows[i].cells[r].offsetLeft,t.rows[i].cells[r].offsetLeft+t.rows[i].cells[r].clientWidth>=u+parseInt(f,10)?n(t.grid.bDiv)[0].scrollLeft=n(t.grid.bDiv)[0].scrollLeft+t.rows[i].cells[r].clientWidth:e<f&&(n(t.grid.bDiv)[0].scrollLeft=n(t.grid.bDiv)[0].scrollLeft-t.rows[i].cells[r].clientWidth))}function f(n,i){var u,r;if("lft"==i)for(u=n+1,r=n;0<=r;r--)if(!0!==t.p.colModel[r].hidden){u=r;break}if("rgt"==i)for(u=n-1,r=n;r<t.p.colModel.length;r++)if(!0!==t.p.colModel[r].hidden){u=r;break}return u}var t=this,e,i,r;t.grid&&!0===t.p.cellEdit&&(t.p.knv=t.p.id+"_kn",e=n("<div style='position:fixed;top:-1000000px;width:1px;height:1px;' tabindex='0'><div tabindex='-1' style='width:1px;height:1px;' id='"+t.p.knv+"'><\/div><\/div>"),n(e).insertBefore(t.grid.cDiv),n("#"+t.p.knv).focus().keydown(function(e){r=e.keyCode;"rtl"==t.p.direction&&(37===r?r=39:39===r&&(r=37));switch(r){case 38:0<t.p.iRow-1&&(u(t.p.iRow-1,t.p.iCol,"vu"),n(t).jqGrid("editCell",t.p.iRow-1,t.p.iCol,!1));break;case 40:t.p.iRow+1<=t.rows.length-1&&(u(t.p.iRow+1,t.p.iCol,"vd"),n(t).jqGrid("editCell",t.p.iRow+1,t.p.iCol,!1));break;case 37:0<=t.p.iCol-1&&(i=f(t.p.iCol-1,"lft"),u(t.p.iRow,i,"h"),n(t).jqGrid("editCell",t.p.iRow,i,!1));break;case 39:t.p.iCol+1<=t.p.colModel.length-1&&(i=f(t.p.iCol+1,"rgt"),u(t.p.iRow,i,"h"),n(t).jqGrid("editCell",t.p.iRow,i,!1));break;case 13:0<=parseInt(t.p.iCol,10)&&0<=parseInt(t.p.iRow,10)&&n(t).jqGrid("editCell",t.p.iRow,t.p.iCol,!0);break;default:return!0}return!1}))})},getChangedCells:function(t){var i=[];return t||(t="all"),this.each(function(){var r=this,u;r.grid&&!0===r.p.cellEdit&&n(r.rows).each(function(f){var e={};n(this).hasClass("edited")&&(n("td",this).each(function(i){if(u=r.p.colModel[i].name,"cb"!==u&&"subgrid"!==u)if("dirty"==t){if(n(this).hasClass("dirty-cell"))try{e[u]=n.unformat.call(r,this,{rowId:r.rows[f].id,colModel:r.p.colModel[i]},i)}catch(o){e[u]=n.jgrid.htmlDecode(n(this).html())}}else try{e[u]=n.unformat.call(r,this,{rowId:r.rows[f].id,colModel:r.p.colModel[i]},i)}catch(s){e[u]=n.jgrid.htmlDecode(n(this).html())}}),e.id=this.id,i.push(e))})}),i}})}(jQuery),function(n){n.fn.jqm=function(r){var f={overlay:50,closeoverlay:!0,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:t,ajaxText:"",target:t,modal:t,toTop:t,onShow:t,onHide:t,onLoad:t};return this.each(function(){if(this._jqm)return i[this._jqm].c=n.extend({},i[this._jqm].c,r);u++;this._jqm=u;i[u]={c:n.extend(f,n.jqm.params,r),a:t,w:n(this).addClass("jqmID"+u),s:u};f.trigger&&n(this).jqmAddTrigger(f.trigger)})};n.fn.jqmAddClose=function(n){return s(this,n,"jqmHide")};n.fn.jqmAddTrigger=function(n){return s(this,n,"jqmShow")};n.fn.jqmShow=function(t){return this.each(function(){n.jqm.open(this._jqm,t)})};n.fn.jqmHide=function(t){return this.each(function(){n.jqm.close(this._jqm,t)})};n.jqm={hash:{},open:function(u,e){var s=i[u],h=s.c,a="."+h.closeClass,c=parseInt(s.w.css("z-index")),c=0<c?c:3e3,l=n("<div><\/div>").css({height:"100%",width:"100%",position:"fixed",left:0,top:0,"z-index":c-1,opacity:h.overlay/100});return s.a?t:(s.t=e,s.a=!0,s.w.css("z-index",c),h.modal?(r[0]||setTimeout(function(){o("bind")},1),r.push(u)):0<h.overlay?h.closeoverlay&&s.w.jqmAddClose(l):l=t,s.o=l?l.addClass(h.overlayClass).prependTo("body"):t,h.ajax?(c=h.target||s.w,l=h.ajax,c="string"==typeof c?n(c,s.w):n(c),l="@"==l.substr(0,1)?n(e).attr(l.substring(1)):l,c.html(h.ajaxText).load(l,function(){h.onLoad&&h.onLoad.call(this,s);a&&s.w.jqmAddClose(n(a,s.w));f(s)})):a&&s.w.jqmAddClose(n(a,s.w)),h.toTop&&s.o&&s.w.before('<span id="jqmP'+s.w[0]._jqm+'"><\/span>').insertAfter(s.o),h.onShow?h.onShow(s):s.w.show(),f(s),t)},close:function(u){if(u=i[u],!u.a)return t;if(u.a=t,r[0]&&(r.pop(),r[0]||o("unbind")),u.c.toTop&&u.o&&n("#jqmP"+u.w[0]._jqm).after(u.w).remove(),u.c.onHide)u.c.onHide(u);else u.w.hide(),u.o&&u.o.remove();return t},params:{}};var u=0,i=n.jqm.hash,r=[],t=!1,f=function(t){try{n(":input:visible",t.w)[0].focus()}catch(i){}},o=function(t){n(document)[t]("keypress",e)[t]("keydown",e)[t]("mousedown",e)},e=function(t){var u=i[r[r.length-1]];return(t=!n(t.target).parents(".jqmID"+u.s)[0])&&f(u),!t},s=function(r,u,f){return r.each(function(){var r=this._jqm;n(u).each(function(){this[f]||(this[f]=[],n(this).click(function(){var n,r;for(n in{jqmShow:1,jqmHide:1})for(r in this[n])i[this[n][r]]&&i[this[n][r]].w[n](this);return t}));this[f].push(r)})})}}(jQuery),function(n){n.fn.jqDrag=function(n){return s(this,n,"d")};n.fn.jqResize=function(n,t){return s(this,n,"r",t)};n.jqDnR={dnr:{},e:0,drag:function(n){return"d"==t.k?i.css({left:t.X+n.pageX-t.pX,top:t.Y+n.pageY-t.pY}):(i.css({width:Math.max(n.pageX-t.pX+t.W,0),height:Math.max(n.pageY-t.pY+t.H,0)}),u&&r.css({width:Math.max(n.pageX-u.pX+u.W,0),height:Math.max(n.pageY-u.pY+u.H,0)})),!1},stop:function(){n(document).unbind("mousemove",f.drag).unbind("mouseup",f.stop)}};var f=n.jqDnR,t=f.dnr,i=f.e,r,u,s=function(f,s,h,c){return f.each(function(){s=s?n(s,f):f;s.bind("mousedown",{e:f,k:h},function(f){var h=f.data,s={};if(i=h.e,r=c?n(c):!1,"relative"!=i.css("position"))try{i.position(s)}catch(l){}if(t={X:s.left||e("left")||0,Y:s.top||e("top")||0,W:e("width")||i[0].scrollWidth||0,H:e("height")||i[0].scrollHeight||0,pX:f.pageX,pY:f.pageY,k:h.k},u=r&&"d"!=h.k?{X:s.left||o("left")||0,Y:s.top||o("top")||0,W:r[0].offsetWidth||o("width")||0,H:r[0].offsetHeight||o("height")||0,pX:f.pageX,pY:f.pageY,k:h.k}:!1,n("input.hasDatepicker",i[0])[0])try{n("input.hasDatepicker",i[0]).datepicker("hide")}catch(a){}return n(document).mousemove(n.jqDnR.drag).mouseup(n.jqDnR.stop),!1})})},e=function(n){return parseInt(i.css(n),10)||!1},o=function(n){return parseInt(r.css(n),10)||!1}}(jQuery),function(n){n.jgrid.extend({setSubGrid:function(){return this.each(function(){var t,i;if(this.p.subGridOptions=n.extend({plusicon:"ui-icon-plus",minusicon:"ui-icon-minus",openicon:"ui-icon-carat-1-sw",expandOnLoad:!1,delayOnLoad:50,selectOnExpand:!1,reloadOnExpand:!0},this.p.subGridOptions||{}),this.p.colNames.unshift(""),this.p.colModel.unshift({name:"subgrid",width:n.jgrid.cell_width?this.p.subGridWidth+this.p.cellLayout:this.p.subGridWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,fixed:!0}),t=this.p.subGridModel,t[0])for(t[0].align=n.extend([],t[0].align||[]),i=0;i<t[0].name.length;i++)t[0].align[i]=t[0].align[i]||"left"})},addSubGridCell:function(n,t){var i="",r,u;return this.each(function(){i=this.formatCol(n,t);u=this.p.id;r=this.p.subGridOptions.plusicon}),'<td role="gridcell" aria-describedby="'+u+'_subgrid" class="ui-sgcollapsed sgcollapsed" '+i+"><a href='javascript:void(0);'><span class='ui-icon "+r+"'><\/span><\/a><\/td>"},addSubGrid:function(t,i){return this.each(function(){var r=this,c,s;if(r.grid){var h=function(t,i,u){i=n("<td align='"+r.p.subGridModel[0].align[u]+"'><\/td>").html(i);n(t).append(i)},l=function(t,i){for(var f,o,s=n("<table cellspacing='0' cellpadding='0' border='0'><tbody><\/tbody><\/table>"),e=n("<tr><\/tr>"),u=0;u<r.p.subGridModel[0].name.length;u++)f=n("<th class='ui-state-default ui-th-subgrid ui-th-column ui-th-"+r.p.direction+"'><\/th>"),n(f).html(r.p.subGridModel[0].name[u]),n(f).width(r.p.subGridModel[0].width[u]),n(e).append(f);return n(s).append(e),t&&(o=r.p.xmlReader.subgrid,n(o.root+" "+o.row,t).each(function(){if(e=n("<tr class='ui-widget-content ui-subtblcell'><\/tr>"),!0===o.repeatitems)n(o.cell,this).each(function(t){h(e,n(this).text()||"&#160;",t)});else{var t=r.p.subGridModel[0].mapping||r.p.subGridModel[0].name;if(t)for(u=0;u<t.length;u++)h(e,n(t[u],this).text()||"&#160;",u)}n(s).append(e)})),f=n("table:first",r.grid.bDiv).attr("id")+"_",n("#"+n.jgrid.jqID(f+i)).append(s),r.grid.hDiv.loading=!1,n("#load_"+n.jgrid.jqID(r.p.id)).hide(),!1},a=function(t,i){for(var e,o,c,f,a=n("<table cellspacing='0' cellpadding='0' border='0'><tbody><\/tbody><\/table>"),s=n("<tr><\/tr>"),l,u=0;u<r.p.subGridModel[0].name.length;u++)e=n("<th class='ui-state-default ui-th-subgrid ui-th-column ui-th-"+r.p.direction+"'><\/th>"),n(e).html(r.p.subGridModel[0].name[u]),n(e).width(r.p.subGridModel[0].width[u]),n(s).append(e);if(n(a).append(s),t&&(c=r.p.jsonReader.subgrid,e=n.jgrid.getAccessor(t,c.root),void 0!==e))for(u=0;u<e.length;u++){if(o=e[u],s=n("<tr class='ui-widget-content ui-subtblcell'><\/tr>"),!0===c.repeatitems)for(c.cell&&(o=o[c.cell]),f=0;f<o.length;f++)h(s,o[f]||"&#160;",f);else if(l=r.p.subGridModel[0].mapping||r.p.subGridModel[0].name,l.length)for(f=0;f<l.length;f++)h(s,o[l[f]]||"&#160;",f);n(a).append(s)}return u=n("table:first",r.grid.bDiv).attr("id")+"_",n("#"+n.jgrid.jqID(u+i)).append(a),r.grid.hDiv.loading=!1,n("#load_"+n.jgrid.jqID(r.p.id)).hide(),!1},p=function(t){var f,i,u,e;if(f=n(t).attr("id"),i={nd_:(new Date).getTime()},i[r.p.prmNames.subgridid]=f,!r.p.subGridModel[0])return!1;if(r.p.subGridModel[0].params)for(e=0;e<r.p.subGridModel[0].params.length;e++)for(u=0;u<r.p.colModel.length;u++)r.p.colModel[u].name===r.p.subGridModel[0].params[e]&&(i[r.p.colModel[u].name]=n("td:eq("+u+")",t).text().replace(/\&#160\;/ig,""));if(!r.grid.hDiv.loading)switch(r.grid.hDiv.loading=!0,n("#load_"+n.jgrid.jqID(r.p.id)).show(),r.p.subgridtype||(r.p.subgridtype=r.p.datatype),n.isFunction(r.p.subgridtype)?r.p.subgridtype.call(r,i):r.p.subgridtype=r.p.subgridtype.toLowerCase(),r.p.subgridtype){case"xml":case"json":n.ajax(n.extend({type:r.p.mtype,url:r.p.subGridUrl,dataType:r.p.subgridtype,data:n.isFunction(r.p.serializeSubGridData)?r.p.serializeSubGridData.call(r,i):i,complete:function(t){r.p.subgridtype==="xml"?l(t.responseXML,f):a(n.jgrid.parse(t.responseText),f)}},n.jgrid.ajaxOptions,r.p.ajaxSubgridOptions||{}))}return!1},u,e,v,y=0,f,o;for(n.each(r.p.colModel,function(){(!0===this.hidden||"rn"===this.name||"cb"===this.name)&&y++}),c=r.rows.length,s=1,void 0!==i&&0<i&&(s=i,c=i+1);s<c;)n(r.rows[s]).hasClass("jqgrow")&&n(r.rows[s].cells[t]).bind("click",function(){var i=n(this).parent("tr")[0];if(o=i.nextSibling,n(this).hasClass("sgcollapsed")){if(e=r.p.id,u=i.id,r.p.subGridOptions.reloadOnExpand!==!0&&(r.p.subGridOptions.reloadOnExpand!==!1||n(o).hasClass("ui-subgrid")))n(o).show();else{if(v=t>=1?"<td colspan='"+t+"'>&#160;<\/td>":"",f=n(r).triggerHandler("jqGridSubGridBeforeExpand",[e+"_"+u,u]),(f=f===!1||f==="stop"?!1:!0)&&n.isFunction(r.p.subGridBeforeExpand)&&(f=r.p.subGridBeforeExpand.call(r,e+"_"+u,u)),f===!1)return!1;n(i).after("<tr role='row' class='ui-subgrid'>"+v+"<td class='ui-widget-content subgrid-cell'><span class='ui-icon "+r.p.subGridOptions.openicon+"'><\/span><\/td><td colspan='"+parseInt(r.p.colNames.length-1-y,10)+"' class='ui-widget-content subgrid-data'><div id="+e+"_"+u+" class='tablediv'><\/div><\/td><\/tr>");n(r).triggerHandler("jqGridSubGridRowExpanded",[e+"_"+u,u]);n.isFunction(r.p.subGridRowExpanded)?r.p.subGridRowExpanded.call(r,e+"_"+u,u):p(i)}n(this).html("<a href='javascript:void(0);'><span class='ui-icon "+r.p.subGridOptions.minusicon+"'><\/span><\/a>").removeClass("sgcollapsed").addClass("sgexpanded");r.p.subGridOptions.selectOnExpand&&n(r).jqGrid("setSelection",u)}else if(n(this).hasClass("sgexpanded")){if(f=n(r).triggerHandler("jqGridSubGridRowColapsed",[e+"_"+u,u]),(f=f===!1||f==="stop"?!1:!0)&&n.isFunction(r.p.subGridRowColapsed)&&(u=i.id,f=r.p.subGridRowColapsed.call(r,e+"_"+u,u)),f===!1)return!1;r.p.subGridOptions.reloadOnExpand===!0?n(o).remove(".ui-subgrid"):n(o).hasClass("ui-subgrid")&&n(o).hide();n(this).html("<a href='javascript:void(0);'><span class='ui-icon "+r.p.subGridOptions.plusicon+"'><\/span><\/a>").removeClass("sgexpanded").addClass("sgcollapsed")}return!1}),s++;!0===r.p.subGridOptions.expandOnLoad&&n(r.rows).filter(".jqgrow").each(function(t,i){n(i.cells[0]).click()});r.subGridXml=function(n,t){l(n,t)};r.subGridJson=function(n,t){a(n,t)}}})},expandSubGridRow:function(t){return this.each(function(){if((this.grid||t)&&!0===this.p.subGrid){var i=n(this).jqGrid("getInd",t,!0);i&&(i=n("td.sgcollapsed",i)[0])&&n(i).trigger("click")}})},collapseSubGridRow:function(t){return this.each(function(){if((this.grid||t)&&!0===this.p.subGrid){var i=n(this).jqGrid("getInd",t,!0);i&&(i=n("td.sgexpanded",i)[0])&&n(i).trigger("click")}})},toggleSubGridRow:function(t){return this.each(function(){var r,i;(this.grid||t)&&!0===this.p.subGrid&&(r=n(this).jqGrid("getInd",t,!0),r&&(i=n("td.sgcollapsed",r)[0],i?n(i).trigger("click"):(i=n("td.sgexpanded",r)[0])&&n(i).trigger("click")))})}})}(jQuery),function(n){n.extend(n.jgrid,{template:function(t){var r=n.makeArray(arguments).slice(1),i,u=r.length;return null==t&&(t=""),t.replace(/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,function(t,f){if(!isNaN(parseInt(f,10)))return r[parseInt(f,10)];for(i=0;i<u;i++)if(n.isArray(r[i]))for(var e=r[i],o=e.length;o--;)if(f===e[o].nm)return e[o].v})}});n.jgrid.extend({groupingSetup:function(){return this.each(function(){var i,u,r=this.p.colModel,t=this.p.groupingView;if(null!==t&&("object"==typeof t||n.isFunction(t)))if(t.groupField.length){for(void 0===t.visibiltyOnNextGrouping&&(t.visibiltyOnNextGrouping=[]),t.lastvalues=[],t.groups=[],t.counters=[],i=0;i<t.groupField.length;i++)t.groupOrder[i]||(t.groupOrder[i]="asc"),t.groupText[i]||(t.groupText[i]="{0}"),"boolean"!=typeof t.groupColumnShow[i]&&(t.groupColumnShow[i]=!0),"boolean"!=typeof t.groupSummary[i]&&(t.groupSummary[i]=!1),!0===t.groupColumnShow[i]?(t.visibiltyOnNextGrouping[i]=!0,n(this).jqGrid("showCol",t.groupField[i])):(t.visibiltyOnNextGrouping[i]=n("#"+n.jgrid.jqID(this.p.id+"_"+t.groupField[i])).is(":visible"),n(this).jqGrid("hideCol",t.groupField[i]));for(t.summary=[],i=0,u=r.length;i<u;i++)r[i].summaryType&&t.summary.push({nm:r[i].name,st:r[i].summaryType,v:"",sr:r[i].summaryRound,srt:r[i].summaryRoundType||"round"})}else this.p.grouping=!1;else this.p.grouping=!1})},groupingPrepare:function(t,i,r,u){return this.each(function(){for(var f=this.p.groupingView,c=this,a=f.groupField.length,h,o,s,l=0,e=0;e<a;e++)h=f.groupField[e],s=f.displayField[e],o=r[h],s=null==s?null:r[s],null==s&&(s=o),void 0!==o&&(0===u?(f.groups.push({idx:e,dataIndex:h,value:o,displayValue:s,startRow:u,cnt:1,summary:[]}),f.lastvalues[e]=o,f.counters[e]={cnt:1,pos:f.groups.length-1,summary:n.extend(!0,[],f.summary)}):"object"!=typeof o&&f.lastvalues[e]!==o?(f.groups.push({idx:e,dataIndex:h,value:o,displayValue:s,startRow:u,cnt:1,summary:[]}),f.lastvalues[e]=o,l=1,f.counters[e]={cnt:1,pos:f.groups.length-1,summary:n.extend(!0,[],f.summary)}):1===l?(f.groups.push({idx:e,dataIndex:h,value:o,displayValue:s,startRow:u,cnt:1,summary:[]}),f.lastvalues[e]=o,f.counters[e]={cnt:1,pos:f.groups.length-1,summary:n.extend(!0,[],f.summary)}):(f.counters[e].cnt+=1,f.groups[f.counters[e].pos].cnt=f.counters[e].cnt),n.each(f.counters[e].summary,function(){this.v=n.isFunction(this.st)?this.st.call(c,this.v,this.nm,r):n(c).jqGrid("groupingCalculations.handler",this.st,this.v,this.nm,this.sr,this.srt,r)}),f.groups[f.counters[e].pos].summary=f.counters[e].summary);i.push(t)}),i},groupingToggle:function(t){return this.each(function(){var u=this.p.groupingView,r=t.split("_"),f=parseInt(r[r.length-2],10);r.splice(r.length-2,2);var r=r.join("_"),e=u.minusicon,o=u.plusicon,i=n("#"+n.jgrid.jqID(t)),i=i.length?i[0].nextSibling:null,s=n("#"+n.jgrid.jqID(t)+" span.tree-wrap-"+this.p.direction),h=!1;if(s.hasClass(e)){if(u.showSummaryOnHide){if(i)for(;i&&!(n(i).hasClass("jqfoot")&&parseInt(n(i).attr("jqfootlevel"),10)<=f);)n(i).hide(),i=i.nextSibling}else if(i)for(;i&&!n(i).hasClass(r+"_"+(""+f))&&!n(i).hasClass(r+"_"+(""+(f-1)));)n(i).hide(),i=i.nextSibling;s.removeClass(e).addClass(o);h=!0}else{if(i)for(;i&&!n(i).hasClass(r+"_"+(""+f))&&!n(i).hasClass(r+"_"+(""+(f-1)));)n(i).show(),(u=n(i).find("span.tree-wrap-"+this.p.direction))&&n(u).hasClass(o)&&n(u).removeClass(o).addClass(e),i=i.nextSibling;s.removeClass(o).addClass(e)}n(this).triggerHandler("jqGridGroupingClickGroup",[t,h]);n.isFunction(this.p.onClickGroup)&&this.p.onClickGroup.call(this,t,h)}),!1},groupingRender:function(t,i){return this.each(function(){function p(n,t,i){var r=!1,u;if(0===t)r=i[n];else if(u=i[n].idx,0===u)r=i[n];else for(;0<=n;n--)if(i[n].idx===u-t){r=i[n];break}return r}var u=this,r=u.p.groupingView,f="",l="",o,s,a=r.groupCollapse?r.plusicon:r.minusicon,h,v=[],y=r.groupField.length,a=a+(" tree-wrap-"+u.p.direction),e,c;n.each(u.p.colModel,function(n,t){for(var i=0;i<y;i++)if(r.groupField[i]===t.name){v[i]=n;break}});e=0;c=n.makeArray(r.groupSummary);c.reverse();n.each(r.groups,function(w,b){var k,g,d,et,nt,tt,it,rt,ut,ft;e++;s=u.p.id+"ghead_"+b.idx;o=s+"_"+w;l="<span style='cursor:pointer;' class='ui-icon "+a+"' onclick=\"jQuery('#"+n.jgrid.jqID(u.p.id)+"').jqGrid('groupingToggle','"+o+"');return false;\"><\/span>";try{h=u.formatter(o,b.displayValue,v[b.idx],b.value)}catch(ot){h=b.displayValue}if(f+='<tr id="'+o+'" role="row" class= "ui-widget-content jqgroup ui-row-'+u.p.direction+" "+s+'"><td style="padding-left:'+12*b.idx+'px;" colspan="'+i+'">'+l+n.jgrid.template(r.groupText[b.idx],h,b.cnt,b.summary)+"<\/td><\/tr>",y-1===b.idx){for(k=r.groups[w+1],et=void 0!==k?r.groups[w+1].startRow:t.length,d=b.startRow;d<et;d++)f+=t[d].join("");if(void 0!==k){for(nt=0;nt<r.groupField.length&&k.dataIndex!==r.groupField[nt];nt++);e=r.groupField.length-nt}for(k=0;k<e;k++)if(c[k]){for(d="",r.groupCollapse&&!r.showSummaryOnHide&&(d=' style="display:none;"'),f+="<tr"+d+' jqfootlevel="'+(b.idx-k)+'" role="row" class="ui-widget-content jqfoot ui-row-'+u.p.direction+'">',d=p(w,k,r.groups),tt=u.p.colModel,rt=d.cnt,g=0;g<i;g++)ut="<td "+u.formatCol(g,1,"")+">&#160;<\/td>",ft="{0}",n.each(d.summary,function(){if(this.nm===tt[g].name){tt[g].summaryTpl&&(ft=tt[g].summaryTpl);"string"==typeof this.st&&"avg"===this.st.toLowerCase()&&this.v&&0<rt&&(this.v/=rt);try{it=u.formatter("",this.v,g,this)}catch(t){it=this.v}return ut="<td "+u.formatCol(g,1,"")+">"+n.jgrid.format(ft,it)+"<\/td>",!1}}),f+=ut;f+="<\/tr>"}e=nt}});n("#"+n.jgrid.jqID(u.p.id)+" tbody:first").append(f);f=null})},groupingGroupBy:function(t,i){return this.each(function(){var u,r;for("string"==typeof t&&(t=[t]),u=this.p.groupingView,this.p.grouping=!0,void 0===u.visibiltyOnNextGrouping&&(u.visibiltyOnNextGrouping=[]),r=0;r<u.groupField.length;r++)!u.groupColumnShow[r]&&u.visibiltyOnNextGrouping[r]&&n(this).jqGrid("showCol",u.groupField[r]);for(r=0;r<t.length;r++)u.visibiltyOnNextGrouping[r]=n("#"+n.jgrid.jqID(this.p.id)+"_"+n.jgrid.jqID(t[r])).is(":visible");this.p.groupingView=n.extend(this.p.groupingView,i||{});u.groupField=t;n(this).trigger("reloadGrid")})},groupingRemove:function(t){return this.each(function(){if(void 0===t&&(t=!0),this.p.grouping=!1,!0===t){for(var r=this.p.groupingView,i=0;i<r.groupField.length;i++)!r.groupColumnShow[i]&&r.visibiltyOnNextGrouping[i]&&n(this).jqGrid("showCol",r.groupField);n("tr.jqgroup, tr.jqfoot","#"+n.jgrid.jqID(this.p.id)+" tbody:first").remove();n("tr.jqgrow:hidden","#"+n.jgrid.jqID(this.p.id)+" tbody:first").show()}else n(this).trigger("reloadGrid")})},groupingCalculations:{handler:function(n,t,i,r,u,f){var e={sum:function(){return parseFloat(t||0)+parseFloat(f[i]||0)},min:function(){return""===t?parseFloat(f[i]||0):Math.min(parseFloat(t),parseFloat(f[i]||0))},max:function(){return""===t?parseFloat(f[i]||0):Math.max(parseFloat(t),parseFloat(f[i]||0))},count:function(){return""===t&&(t=0),f.hasOwnProperty(i)?t+1:0},avg:function(){return e.sum()}};if(!e[n])throw"jqGrid Grouping No such method: "+n;return n=e[n](),null!=r&&("fixed"==u?n=n.toFixed(r):(r=Math.pow(10,r),n=Math.round(n*r)/r)),n}}})}(jQuery),function(n){n.jgrid.extend({setTreeNode:function(t,i){return this.each(function(){var r=this;if(r.grid&&r.p.treeGrid)for(var l=r.p.expColInd,o=r.p.treeReader.expanded_field,f=r.p.treeReader.leaf_field,v=r.p.treeReader.level_field,a=r.p.treeReader.icon_field,c=r.p.treeReader.loaded,s,h,e,u;t<i;)u=r.p.data[r.p._index[r.rows[t].id]],"nested"==r.p.treeGridModel&&!u[f]&&(s=parseInt(u[r.p.treeReader.left_field],10),h=parseInt(u[r.p.treeReader.right_field],10),u[f]=h===s+1?"true":"false",r.rows[t].cells[r.p._treeleafpos].innerHTML=u[f]),s=parseInt(u[v],10),0===r.p.tree_root_level?(e=s+1,h=s):(e=s,h=s-1),e="<div class='tree-wrap tree-wrap-"+r.p.direction+"' style='width:"+18*e+"px;'>",e+="<div style='"+("rtl"==r.p.direction?"right:":"left:")+18*h+"px;' class='ui-icon ",void 0!==u[c]&&(u[c]="true"==u[c]||!0===u[c]?!0:!1),"true"==u[f]||!0===u[f]?(e+=(void 0!==u[a]&&""!==u[a]?u[a]:r.p.treeIcons.leaf)+" tree-leaf treeclick",u[f]=!0,h="leaf"):(u[f]=!1,h=""),u[o]=("true"==u[o]||!0===u[o]?!0:!1)&&(u[c]||void 0===u[c]),e=!1===u[o]?e+(!0===u[f]?"'":r.p.treeIcons.plus+" tree-plus treeclick'"):e+(!0===u[f]?"'":r.p.treeIcons.minus+" tree-minus treeclick'"),e+="><\/div><\/div>",n(r.rows[t].cells[l]).wrapInner("<span class='cell-wrapper"+h+"'><\/span>").prepend(e),s!==parseInt(r.p.tree_root_level,10)&&((u=(u=n(r).jqGrid("getNodeParent",u))&&u.hasOwnProperty(o)?u[o]:!0)||n(r.rows[t]).css("display","none")),n(r.rows[t].cells[l]).find("div.treeclick").bind("click",function(t){return t=n(t.target||t.srcElement,r.rows).closest("tr.jqgrow")[0].id,t=r.p._index[t],r.p.data[t][f]||(r.p.data[t][o]?(n(r).jqGrid("collapseRow",r.p.data[t]),n(r).jqGrid("collapseNode",r.p.data[t])):(n(r).jqGrid("expandRow",r.p.data[t]),n(r).jqGrid("expandNode",r.p.data[t]))),!1}),!0===r.p.ExpandColClick&&n(r.rows[t].cells[l]).find("span.cell-wrapper").css("cursor","pointer").bind("click",function(t){var t=n(t.target||t.srcElement,r.rows).closest("tr.jqgrow")[0].id,i=r.p._index[t];return r.p.data[i][f]||(r.p.data[i][o]?(n(r).jqGrid("collapseRow",r.p.data[i]),n(r).jqGrid("collapseNode",r.p.data[i])):(n(r).jqGrid("expandRow",r.p.data[i]),n(r).jqGrid("expandNode",r.p.data[i]))),n(r).jqGrid("setSelection",t),!1}),t++})},setTreeGrid:function(){return this.each(function(){var t=this,i=0,e=!1,r,u,f,o=[];if(t.p.treeGrid){t.p.treedatatype||n.extend(t.p,{treedatatype:t.p.datatype});t.p.subGrid=!1;t.p.altRows=!1;t.p.pgbuttons=!1;t.p.pginput=!1;t.p.gridview=!0;null===t.p.rowTotal&&(t.p.rowNum=1e4);t.p.multiselect=!1;t.p.rowList=[];t.p.expColInd=0;t.p.treeIcons=n.extend({plus:"ui-icon-triangle-1-"+("rtl"==t.p.direction?"w":"e"),minus:"ui-icon-triangle-1-s",leaf:"ui-icon-radio-off"},t.p.treeIcons||{});"nested"==t.p.treeGridModel?t.p.treeReader=n.extend({level_field:"level",left_field:"lft",right_field:"rgt",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},t.p.treeReader):"adjacency"==t.p.treeGridModel&&(t.p.treeReader=n.extend({level_field:"level",parent_id_field:"parent",leaf_field:"isLeaf",expanded_field:"expanded",loaded:"loaded",icon_field:"icon"},t.p.treeReader));for(u in t.p.colModel)if(t.p.colModel.hasOwnProperty(u))for(f in r=t.p.colModel[u].name,r==t.p.ExpandColumn&&!e&&(e=!0,t.p.expColInd=i),i++,t.p.treeReader)t.p.treeReader.hasOwnProperty(f)&&t.p.treeReader[f]==r&&o.push(r);n.each(t.p.treeReader,function(r,u){u&&n.inArray(u,o)===-1&&(r==="leaf_field"&&(t.p._treeleafpos=i),i++,t.p.colNames.push(u),t.p.colModel.push({name:u,width:1,hidden:!0,sortable:!1,resizable:!1,hidedlg:!0,editable:!0,search:!1}))})}})},expandRow:function(t){this.each(function(){var i=this;if(i.grid&&i.p.treeGrid){var r=n(i).jqGrid("getNodeChildren",t),u=i.p.treeReader.expanded_field,f=i.rows;n(r).each(function(){var t=n.jgrid.getAccessor(this,i.p.localReader.id);n(f.namedItem(t)).css("display","");this[u]&&n(i).jqGrid("expandRow",this)})}})},collapseRow:function(t){this.each(function(){var i=this;if(i.grid&&i.p.treeGrid){var r=n(i).jqGrid("getNodeChildren",t),u=i.p.treeReader.expanded_field,f=i.rows;n(r).each(function(){var t=n.jgrid.getAccessor(this,i.p.localReader.id);n(f.namedItem(t)).css("display","none");this[u]&&n(i).jqGrid("collapseRow",this)})}})},getRootNodes:function(){var t=[];return this.each(function(){var i=this,u,r;if(i.grid&&i.p.treeGrid)switch(i.p.treeGridModel){case"nested":u=i.p.treeReader.level_field;n(i.p.data).each(function(){parseInt(this[u],10)===parseInt(i.p.tree_root_level,10)&&t.push(this)});break;case"adjacency":r=i.p.treeReader.parent_id_field;n(i.p.data).each(function(){(null===this[r]||"null"==(""+this[r]).toLowerCase())&&t.push(this)})}}),t},getNodeDepth:function(t){var i=null;return this.each(function(){if(this.grid&&this.p.treeGrid)switch(this.p.treeGridModel){case"nested":i=parseInt(t[this.p.treeReader.level_field],10)-parseInt(this.p.tree_root_level,10);break;case"adjacency":i=n(this).jqGrid("getNodeAncestors",t).length}}),i},getNodeParent:function(t){var i=null;return this.each(function(){var e,o;if(this.grid&&this.p.treeGrid)switch(this.p.treeGridModel){case"nested":var r=this.p.treeReader.left_field,u=this.p.treeReader.right_field,f=this.p.treeReader.level_field,s=parseInt(t[r],10),h=parseInt(t[u],10),c=parseInt(t[f],10);n(this.p.data).each(function(){if(parseInt(this[f],10)===c-1&&parseInt(this[r],10)<s&&parseInt(this[u],10)>h)return i=this,!1});break;case"adjacency":e=this.p.treeReader.parent_id_field;o=this.p.localReader.id;n(this.p.data).each(function(){if(this[o]==t[e])return i=this,!1})}}),i},getNodeChildren:function(t){var i=[];return this.each(function(){var e,o;if(this.grid&&this.p.treeGrid)switch(this.p.treeGridModel){case"nested":var r=this.p.treeReader.left_field,u=this.p.treeReader.right_field,f=this.p.treeReader.level_field,s=parseInt(t[r],10),h=parseInt(t[u],10),c=parseInt(t[f],10);n(this.p.data).each(function(){parseInt(this[f],10)===c+1&&parseInt(this[r],10)>s&&parseInt(this[u],10)<h&&i.push(this)});break;case"adjacency":e=this.p.treeReader.parent_id_field;o=this.p.localReader.id;n(this.p.data).each(function(){this[e]==t[o]&&i.push(this)})}}),i},getFullTreeNode:function(t){var i=[];return this.each(function(){var u,e,o;if(this.grid&&this.p.treeGrid)switch(this.p.treeGridModel){case"nested":var r=this.p.treeReader.left_field,s=this.p.treeReader.right_field,f=this.p.treeReader.level_field,h=parseInt(t[r],10),c=parseInt(t[s],10),l=parseInt(t[f],10);n(this.p.data).each(function(){parseInt(this[f],10)>=l&&parseInt(this[r],10)>=h&&parseInt(this[r],10)<=c&&i.push(this)});break;case"adjacency":t&&(i.push(t),e=this.p.treeReader.parent_id_field,o=this.p.localReader.id,n(this.p.data).each(function(n){for(u=i.length,n=0;n<u;n++)if(i[n][o]==this[e]){i.push(this);break}}))}}),i},getNodeAncestors:function(t){var i=[];return this.each(function(){if(this.grid&&this.p.treeGrid)for(var r=n(this).jqGrid("getNodeParent",t);r;)i.push(r),r=n(this).jqGrid("getNodeParent",r)}),i},isVisibleNode:function(t){var i=!0;return this.each(function(){if(this.grid&&this.p.treeGrid){var r=n(this).jqGrid("getNodeAncestors",t),u=this.p.treeReader.expanded_field;n(r).each(function(){return i=i&&this[u],i?void 0:!1})}}),i},isNodeLoaded:function(t){var i;return this.each(function(){if(this.grid&&this.p.treeGrid){var r=this.p.treeReader.leaf_field;i=void 0!==t?void 0!==t.loaded?t.loaded:t[r]||0<n(this).jqGrid("getNodeChildren",t).length?!0:!1:!1}}),i},expandNode:function(t){return this.each(function(){if(this.grid&&this.p.treeGrid){var r=this.p.treeReader.expanded_field,e=this.p.treeReader.parent_id_field,o=this.p.treeReader.loaded,f=this.p.treeReader.level_field,s=this.p.treeReader.left_field,h=this.p.treeReader.right_field;if(!t[r]){var i=n.jgrid.getAccessor(t,this.p.localReader.id),u=n("#"+n.jgrid.jqID(i),this.grid.bDiv)[0],c=this.p._index[i];n(this).jqGrid("isNodeLoaded",this.p.data[c])?(t[r]=!0,n("div.treeclick",u).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus")):this.grid.hDiv.loading||(t[r]=!0,n("div.treeclick",u).removeClass(this.p.treeIcons.plus+" tree-plus").addClass(this.p.treeIcons.minus+" tree-minus"),this.p.treeANode=u.rowIndex,this.p.datatype=this.p.treedatatype,"nested"==this.p.treeGridModel?n(this).jqGrid("setGridParam",{postData:{nodeid:i,n_left:t[s],n_right:t[h],n_level:t[f]}}):n(this).jqGrid("setGridParam",{postData:{nodeid:i,parentid:t[e],n_level:t[f]}}),n(this).trigger("reloadGrid"),t[o]=!0,"nested"==this.p.treeGridModel?n(this).jqGrid("setGridParam",{postData:{nodeid:"",n_left:"",n_right:"",n_level:""}}):n(this).jqGrid("setGridParam",{postData:{nodeid:"",parentid:"",n_level:""}}))}}})},collapseNode:function(t){return this.each(function(){if(this.grid&&this.p.treeGrid){var i=this.p.treeReader.expanded_field;t[i]&&(t[i]=!1,i=n.jgrid.getAccessor(t,this.p.localReader.id),i=n("#"+n.jgrid.jqID(i),this.grid.bDiv)[0],n("div.treeclick",i).removeClass(this.p.treeIcons.minus+" tree-minus").addClass(this.p.treeIcons.plus+" tree-plus"))}})},SortTree:function(t,i,r,u){return this.each(function(){if(this.grid&&this.p.treeGrid){var f,c,s,e=[],h=this,o;for(f=n(this).jqGrid("getRootNodes"),f=n.jgrid.from(f),f.orderBy(t,i,r,u),o=f.select(),f=0,c=o.length;f<c;f++)s=o[f],e.push(s),n(this).jqGrid("collectChildrenSortTree",e,s,t,i,r,u);n.each(e,function(t){var i=n.jgrid.getAccessor(this,h.p.localReader.id);n("#"+n.jgrid.jqID(h.p.id)+" tbody tr:eq("+t+")").after(n("tr#"+n.jgrid.jqID(i),h.grid.bDiv))});e=o=f=null}})},collectChildrenSortTree:function(t,i,r,u,f,e){return this.each(function(){if(this.grid&&this.p.treeGrid){var o,c,s,h;for(o=n(this).jqGrid("getNodeChildren",i),o=n.jgrid.from(o),o.orderBy(r,u,f,e),h=o.select(),o=0,c=h.length;o<c;o++)s=h[o],t.push(s),n(this).jqGrid("collectChildrenSortTree",t,s,r,u,f,e)}})},setTreeRow:function(t,i){var r=!1;return this.each(function(){this.grid&&this.p.treeGrid&&(r=n(this).jqGrid("setRowData",t,i))}),r},delTreeNode:function(t){return this.each(function(){var i=this.p.localReader.id,r,f=this.p.treeReader.left_field,e=this.p.treeReader.right_field,o,h,u,s;if(this.grid&&this.p.treeGrid&&(r=this.p._index[t],void 0!==r)){if(o=parseInt(this.p.data[r][e],10),h=o-parseInt(this.p.data[r][f],10)+1,s=n(this).jqGrid("getFullTreeNode",this.p.data[r]),0<s.length)for(r=0;r<s.length;r++)n(this).jqGrid("delRowData",s[r][i]);if("nested"===this.p.treeGridModel){if(i=n.jgrid.from(this.p.data).greater(f,o,{stype:"integer"}).select(),i.length)for(u in i)i.hasOwnProperty(u)&&(i[u][f]=parseInt(i[u][f],10)-h);if(i=n.jgrid.from(this.p.data).greater(e,o,{stype:"integer"}).select(),i.length)for(u in i)i.hasOwnProperty(u)&&(i[u][e]=parseInt(i[u][e],10)-h)}}})},addChildNode:function(t,i,r,u){var f=this[0],p,d,g,o;if(r){var w=f.p.treeReader.expanded_field,s=f.p.treeReader.leaf_field,e=f.p.treeReader.level_field,nt=f.p.treeReader.parent_id_field,a=f.p.treeReader.left_field,c=f.p.treeReader.right_field,b=f.p.treeReader.loaded,v,y,l,k,h;if(v=0,p=i,void 0===u&&(u=!1),void 0===t||null===t){if(h=f.p.data.length-1,0<=h)for(;0<=h;)v=Math.max(v,parseInt(f.p.data[h][f.p.localReader.id],10)),h--;t=v+1}if(g=n(f).jqGrid("getInd",i),d=!1,void 0===i||null===i||""===i?(p=i=null,v="last",k=f.p.tree_root_level,h=f.p.data.length+1):(v="after",y=f.p._index[i],l=f.p.data[y],i=l[f.p.localReader.id],k=parseInt(l[e],10)+1,h=n(f).jqGrid("getFullTreeNode",l),h.length?(p=h=h[h.length-1][f.p.localReader.id],h=n(f).jqGrid("getInd",p)+1):h=n(f).jqGrid("getInd",i)+1,l[s])&&(d=!0,l[w]=!0,n(f.rows[g]).find("span.cell-wrapperleaf").removeClass("cell-wrapperleaf").addClass("cell-wrapper").end().find("div.tree-leaf").removeClass(f.p.treeIcons.leaf+" tree-leaf").addClass(f.p.treeIcons.minus+" tree-minus"),f.p.data[y][s]=!1,l[b]=!0),y=h+1,void 0===r[w]&&(r[w]=!1),void 0===r[b]&&(r[b]=!1),r[e]=k,void 0===r[s]&&(r[s]=!0),"adjacency"===f.p.treeGridModel&&(r[nt]=i),"nested"===f.p.treeGridModel)if(null!==i){if(s=parseInt(l[c],10),e=n.jgrid.from(f.p.data),e=e.greaterOrEquals(c,s,{stype:"integer"}),e=e.select(),e.length)for(o in e)e.hasOwnProperty(o)&&(e[o][a]=e[o][a]>s?parseInt(e[o][a],10)+2:e[o][a],e[o][c]=e[o][c]>=s?parseInt(e[o][c],10)+2:e[o][c]);r[a]=s;r[c]=s+1}else{if(s=parseInt(n(f).jqGrid("getCol",c,!1,"max"),10),e=n.jgrid.from(f.p.data).greater(a,s,{stype:"integer"}).select(),e.length)for(o in e)e.hasOwnProperty(o)&&(e[o][a]=parseInt(e[o][a],10)+2);if(e=n.jgrid.from(f.p.data).greater(c,s,{stype:"integer"}).select(),e.length)for(o in e)e.hasOwnProperty(o)&&(e[o][c]=parseInt(e[o][c],10)+2);r[a]=s+1;r[c]=s+2}(null===i||n(f).jqGrid("isNodeLoaded",l)||d)&&(n(f).jqGrid("addRowData",t,r,v,p),n(f).jqGrid("setTreeNode",h,y));l&&!l[w]&&u&&n(f.rows[g]).find("div.treeclick").click()}}})}(jQuery),function(n){n.jgrid.extend({jqGridImport:function(t){return t=n.extend({imptype:"xml",impstring:"",impurl:"",mtype:"GET",impData:{},xmlGrid:{config:"roots>grid",data:"roots>rows"},jsonGrid:{config:"grid",data:"data"},ajaxOptions:{}},t||{}),this.each(function(){var i=this,u=function(t,r){var u=n(r.xmlGrid.config,t)[0],f=n(r.xmlGrid.data,t)[0],e,o;if(xmlJsonClass.xml2json&&n.jgrid.parse){u=xmlJsonClass.xml2json(u," ");u=n.jgrid.parse(u);for(o in u)u.hasOwnProperty(o)&&(e=u[o]);f?(f=u.grid.datatype,u.grid.datatype="xmlstring",u.grid.datastr=t,n(i).jqGrid(e).jqGrid("setGridParam",{datatype:f})):n(i).jqGrid(e)}else alert("xml2json or parse are not present")},f=function(t,r){var u,f,e;t&&"string"==typeof t&&(u=!1,n.jgrid.useJSON&&(n.jgrid.useJSON=!1,u=!0),f=n.jgrid.parse(t),u&&(n.jgrid.useJSON=!0),u=f[r.jsonGrid.config],(f=f[r.jsonGrid.data])?(e=u.datatype,u.datatype="jsonstring",u.datastr=f,n(i).jqGrid(u).jqGrid("setGridParam",{datatype:e})):n(i).jqGrid(u))},r;switch(t.imptype){case"xml":n.ajax(n.extend({url:t.impurl,type:t.mtype,data:t.impData,dataType:"xml",complete:function(r,f){"success"==f&&(u(r.responseXML,t),n(i).triggerHandler("jqGridImportComplete",[r,t]),n.isFunction(t.importComplete)&&t.importComplete(r))}},t.ajaxOptions));break;case"xmlstring":t.impstring&&"string"==typeof t.impstring&&(r=n.jgrid.stringToDoc(t.impstring),r&&(u(r,t),n(i).triggerHandler("jqGridImportComplete",[r,t]),n.isFunction(t.importComplete)&&t.importComplete(r),t.impstring=null),r=null);break;case"json":n.ajax(n.extend({url:t.impurl,type:t.mtype,data:t.impData,dataType:"json",complete:function(r){try{f(r.responseText,t);n(i).triggerHandler("jqGridImportComplete",[r,t]);n.isFunction(t.importComplete)&&t.importComplete(r)}catch(u){}}},t.ajaxOptions));break;case"jsonstring":t.impstring&&"string"==typeof t.impstring&&(f(t.impstring,t),n(i).triggerHandler("jqGridImportComplete",[t.impstring,t]),n.isFunction(t.importComplete)&&t.importComplete(t.impstring),t.impstring=null)}})},jqGridExport:function(t){var t=n.extend({exptype:"xmlstring",root:"grid",ident:"\t"},t||{}),i=null;return this.each(function(){if(this.grid){var u,r=n.extend(!0,{},n(this).jqGrid("getGridParam"));if(r.rownumbers&&(r.colNames.splice(0,1),r.colModel.splice(0,1)),r.multiselect&&(r.colNames.splice(0,1),r.colModel.splice(0,1)),r.subGrid&&(r.colNames.splice(0,1),r.colModel.splice(0,1)),r.knv=null,r.treeGrid)for(u in r.treeReader)r.treeReader.hasOwnProperty(u)&&(r.colNames.splice(r.colNames.length-1),r.colModel.splice(r.colModel.length-1));switch(t.exptype){case"xmlstring":i="<"+t.root+">"+xmlJsonClass.json2xml(r,t.ident)+"<\/"+t.root+">";break;case"jsonstring":i="{"+xmlJsonClass.toJson(r,t.root,t.ident,!1)+"}";void 0!==r.postData.filters&&(i=i.replace(/filters":"/,'filters":'),i=i.replace(/}]}"/,"}]}"))}}}),i},excelExport:function(t){return t=n.extend({exptype:"remote",url:null,oper:"oper",tag:"excel",exportOptions:{}},t||{}),this.each(function(){if(this.grid){var i;"remote"==t.exptype&&(i=n.extend({},this.p.postData),i[t.oper]=t.tag,i=jQuery.param(i),i=-1!=t.url.indexOf("?")?t.url+"&"+i:t.url+"?"+i,window.location=i)}})}})}(jQuery);xmlJsonClass={xml2json:function(n,t){9===n.nodeType&&(n=n.documentElement);var i=this.toJson(this.toObj(this.removeWhite(n)),n.nodeName,"\t");return"{\n"+t+(t?i.replace(/\t/g,t):i.replace(/\t|\n/g,""))+"\n}"},json2xml:function(n,t){var i=function(n,t,r){var u="",e,f,o;if(n instanceof Array)if(0===n.length)u+=r+"<"+t+">__EMPTY_ARRAY_<\/"+t+">\n";else for(e=0,f=n.length;e<f;e+=1)o=r+i(n[e],t,r+"\t")+"\n",u=u+o;else if("object"==typeof n){e=!1;u+=r+"<"+t;for(f in n)n.hasOwnProperty(f)&&("@"===f.charAt(0)?u+=" "+f.substr(1)+'="'+n[f].toString()+'"':e=!0);if(u+=e?">":"/>",e){for(f in n)n.hasOwnProperty(f)&&("#text"===f?u+=n[f]:"#cdata"===f?u+="<![CDATA["+n[f]+"]\]>":"@"!==f.charAt(0)&&(u+=i(n[f],f,r+"\t")));u+=("\n"===u.charAt(u.length-1)?r:"")+"<\/"+t+">"}}else"function"==typeof n?u+=r+"<"+t+"><![CDATA["+n+"]\]><\/"+t+">":(void 0===n&&(n=""),u='""'===n.toString()||0===n.toString().length?u+(r+"<"+t+">__EMPTY_STRING_<\/"+t+">"):u+(r+"<"+t+">"+n.toString()+"<\/"+t+">"));return u},r="";for(var u in n)n.hasOwnProperty(u)&&(r+=i(n[u],u,""));return t?r.replace(/\t/g,t):r.replace(/\t|\n/g,"")},toObj:function(n){var i={},e=/function/i,r,u,f,t;if(1===n.nodeType){if(n.attributes.length)for(r=0;r<n.attributes.length;r+=1)i["@"+n.attributes[r].nodeName]=(n.attributes[r].nodeValue||"").toString();if(n.firstChild){for(u=r=0,f=!1,t=n.firstChild;t;t=t.nextSibling)1===t.nodeType?f=!0:3===t.nodeType&&t.nodeValue.match(/[^ \f\n\r\t\v]/)?r+=1:4===t.nodeType&&(u+=1);if(f)if(2>r&&2>u)for(this.removeWhite(n),t=n.firstChild;t;t=t.nextSibling)3===t.nodeType?i["#text"]=this.escape(t.nodeValue):4===t.nodeType?e.test(t.nodeValue)?i[t.nodeName]=[i[t.nodeName],t.nodeValue]:i["#cdata"]=this.escape(t.nodeValue):i[t.nodeName]?i[t.nodeName]instanceof Array?i[t.nodeName][i[t.nodeName].length]=this.toObj(t):i[t.nodeName]=[i[t.nodeName],this.toObj(t)]:i[t.nodeName]=this.toObj(t);else n.attributes.length?i["#text"]=this.escape(this.innerXml(n)):i=this.escape(this.innerXml(n));else if(r)n.attributes.length?i["#text"]=this.escape(this.innerXml(n)):(i=this.escape(this.innerXml(n)),"__EMPTY_ARRAY_"===i?i="[]":"__EMPTY_STRING_"===i&&(i=""));else if(u)if(1<u)i=this.escape(this.innerXml(n));else for(t=n.firstChild;t;t=t.nextSibling)if(e.test(n.firstChild.nodeValue)){i=n.firstChild.nodeValue;break}else i["#cdata"]=this.escape(t.nodeValue)}n.attributes.length||n.firstChild||(i=null)}else 9===n.nodeType?i=this.toObj(n.documentElement):alert("unhandled node type: "+n.nodeType);return i},toJson:function(n,t,i,r){var e,u,h;void 0===r&&(r=!0);var f=t?'"'+t+'"':"",o="\t",s="\n";if(r||(s=o=""),"[]"===n)f+=t?":[]":"[]";else if(n instanceof Array){for(h=[],u=0,e=n.length;u<e;u+=1)h[u]=this.toJson(n[u],"",i+o,r);f+=(t?":[":"[")+(1<h.length?s+i+o+h.join(","+s+i+o)+s+i:h.join(""))+"]"}else if(null===n)f+=(t&&":")+"null";else if("object"==typeof n){e=[];for(u in n)n.hasOwnProperty(u)&&(e[e.length]=this.toJson(n[u],u,i+o,r));f+=(t?":{":"{")+(1<e.length?s+i+o+e.join(","+s+i+o)+s+i:e.join(""))+"}"}else f="string"==typeof n?f+((t&&":")+'"'+n.replace(/\\/g,"\\\\").replace(/\"/g,'\\"')+'"'):f+((t&&":")+n.toString());return f},innerXml:function(n){var t="",i,n;if("innerHTML"in n)t=n.innerHTML;else for(i=function(n){var r="",t;if(1===n.nodeType){for(r+="<"+n.nodeName,t=0;t<n.attributes.length;t+=1)r+=" "+n.attributes[t].nodeName+'="'+(n.attributes[t].nodeValue||"").toString()+'"';if(n.firstChild){for(r+=">",t=n.firstChild;t;t=t.nextSibling)r+=i(t);r+="<\/"+n.nodeName+">"}else r+="/>"}else 3===n.nodeType?r+=n.nodeValue:4===n.nodeType&&(r+="<![CDATA["+n.nodeValue+"]\]>");return r},n=n.firstChild;n;n=n.nextSibling)t+=i(n);return t},escape:function(n){return n.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r")},removeWhite:function(n){var t,i;for(n.normalize(),t=n.firstChild;t;)3===t.nodeType?t.nodeValue.match(/[^ \f\n\r\t\v]/)?t=t.nextSibling:(i=t.nextSibling,n.removeChild(t),t=i):(1===t.nodeType&&this.removeWhite(t),t=t.nextSibling);return n}},function(n){if(n.jgrid.msie&&8==n.jgrid.msiever()&&(n.expr[":"].hidden=function(n){return 0===n.offsetWidth||0===n.offsetHeight||"none"==n.style.display}),n.jgrid._multiselect=!1,n.ui&&n.ui.multiselect){if(n.ui.multiselect.prototype._setSelected){var t=n.ui.multiselect.prototype._setSelected;n.ui.multiselect.prototype._setSelected=function(i,r){var f=t.call(this,i,r),u;return r&&this.selectedList&&(u=this.element,this.selectedList.find("li").each(function(){n(this).data("optionLink")&&n(this).data("optionLink").remove().appendTo(u)})),f}}n.ui.multiselect.prototype.destroy&&(n.ui.multiselect.prototype.destroy=function(){this.element.show();this.container.remove();n.Widget===void 0?n.widget.prototype.destroy.apply(this,arguments):n.Widget.prototype.destroy.apply(this,arguments)});n.jgrid._multiselect=!0}n.jgrid.extend({sortableColumns:function(t){return this.each(function(){function u(){i.p.disableClick=!0}var i=this,r=n.jgrid.jqID(i.p.id),r={tolerance:"pointer",axis:"x",scrollSensitivity:"1",items:">th:not(:has(#jqgh_"+r+"_cb,#jqgh_"+r+"_rn,#jqgh_"+r+"_subgrid),:hidden)",placeholder:{element:function(t){return n(document.createElement(t[0].nodeName)).addClass(t[0].className+" ui-sortable-placeholder ui-state-highlight").removeClass("ui-sortable-helper")[0]},update:function(n,t){t.height(n.currentItem.innerHeight()-parseInt(n.currentItem.css("paddingTop")||0,10)-parseInt(n.currentItem.css("paddingBottom")||0,10));t.width(n.currentItem.innerWidth()-parseInt(n.currentItem.css("paddingLeft")||0,10)-parseInt(n.currentItem.css("paddingRight")||0,10))}},update:function(t,r){var e=n(r.item).parent(),e=n(">th",e),f={},o=i.p.id+"_",u;n.each(i.p.colModel,function(n){f[this.name]=n});u=[];e.each(function(){var t=n(">div",this).get(0).id.replace(/^jqgh_/,"").replace(o,"");f.hasOwnProperty(t)&&u.push(f[t])});n(i).jqGrid("remapColumns",u,!0,!0);n.isFunction(i.p.sortable.update)&&i.p.sortable.update(u);setTimeout(function(){i.p.disableClick=!1},50)}},f;i.p.sortable.options?n.extend(r,i.p.sortable.options):n.isFunction(i.p.sortable)&&(i.p.sortable={update:i.p.sortable});r.start?(f=r.start,r.start=function(n,t){u();f.call(this,n,t)}):r.start=u;i.p.sortable.exclude&&(r.items=r.items+(":not("+i.p.sortable.exclude+")"));t.sortable(r).data("sortable").floating=!0})},columnChooser:function(t){function f(t,i){t&&(typeof t=="string"?n.fn[t]&&n.fn[t].apply(i,n.makeArray(arguments).slice(2)):n.isFunction(t)&&t.apply(i,n.makeArray(arguments).slice(2)))}var i=this,o;if(!n("#colchooser_"+n.jgrid.jqID(i[0].p.id)).length){var u=n('<div id="colchooser_'+i[0].p.id+'" style="position:relative;overflow:hidden"><div><select multiple="multiple"><\/select><\/div><\/div>'),r=n("select",u),t=n.extend({width:420,height:240,classname:null,done:function(n){n&&i.jqGrid("remapColumns",n,!0)},msel:"multiselect",dlog:"dialog",dialog_opts:{minWidth:470},dlog_opts:function(t){var i={};return i[t.bSubmit]=function(){t.apply_perm();t.cleanup(!1)},i[t.bCancel]=function(){t.cleanup(!0)},n.extend(!0,{buttons:i,close:function(){t.cleanup(!0)},modal:t.modal||!1,resizable:t.resizable||!0,width:t.width+20},t.dialog_opts||{})},apply_perm:function(){n("option",r).each(function(){this.selected?i.jqGrid("showCol",e[this.value].name):i.jqGrid("hideCol",e[this.value].name)});var u=[];n("option:selected",r).each(function(){u.push(parseInt(this.value,10))});n.each(u,function(){delete s[e[parseInt(this,10)].name]});n.each(s,function(){var r=parseInt(this,10),t=u,n=r,i,f;n>=0?(i=t.slice(),f=i.splice(n,Math.max(t.length-n,n)),n>t.length&&(n=t.length),i[n]=r,u=i.concat(f)):u=void 0});t.done&&t.done.call(i,u)},cleanup:function(n){f(t.dlog,u,"destroy");f(t.msel,r,"destroy");u.remove();n&&t.done&&t.done.call(i)},msel_opts:{}},n.jgrid.col,t||{});if(n.ui&&n.ui.multiselect&&t.msel=="multiselect"){if(!n.jgrid._multiselect){alert("Multiselect plugin loaded after jqGrid. Please load the plugin before the jqGrid!");return}t.msel_opts=n.extend(n.ui.multiselect.defaults,t.msel_opts)}t.caption&&u.attr("title",t.caption);t.classname&&(u.addClass(t.classname),r.addClass(t.classname));t.width&&(n(">div",u).css({width:t.width,margin:"0 auto"}),r.css("width",t.width));t.height&&(n(">div",u).css("height",t.height),r.css("height",t.height-10));var e=i.jqGrid("getGridParam","colModel"),h=i.jqGrid("getGridParam","colNames"),s={},c=[];r.empty();n.each(e,function(t){s[this.name]=t;this.hidedlg?this.hidden||c.push(t):r.append("<option value='"+t+"' "+(this.hidden?"":"selected='selected'")+">"+n.jgrid.stripHtml(h[t])+"<\/option>")});o=n.isFunction(t.dlog_opts)?t.dlog_opts.call(i,t):t.dlog_opts;f(t.dlog,u,o);o=n.isFunction(t.msel_opts)?t.msel_opts.call(i,t):t.msel_opts;f(t.msel,r,o)}},sortableRows:function(t){return this.each(function(){var i=this;i.grid&&!i.p.treeGrid&&n.fn.sortable&&(t=n.extend({cursor:"move",axis:"y",items:".jqgrow"},t||{}),t.start&&n.isFunction(t.start)?(t._start_=t.start,delete t.start):t._start_=!1,t.update&&n.isFunction(t.update)?(t._update_=t.update,delete t.update):t._update_=!1,t.start=function(r,u){if(n(u.item).css("border-width","0px"),n("td",u.item).each(function(n){this.style.width=i.grid.cols[n].style.width}),i.p.subGrid){var f=n(u.item).attr("id");try{n(i).jqGrid("collapseSubGridRow",f)}catch(e){}}t._start_&&t._start_.apply(this,[r,u])},t.update=function(r,u){n(u.item).css("border-width","");i.p.rownumbers===!0&&n("td.jqgrid-rownum",i.rows).each(function(t){n(this).html(t+1+(parseInt(i.p.page,10)-1)*parseInt(i.p.rowNum,10))});t._update_&&t._update_.apply(this,[r,u])},n("tbody:first",i).sortable(t),n("tbody:first",i).disableSelection())})},gridDnD:function(t){return this.each(function(){function u(){var t=n.data(i,"dnd");n("tr.jqgrow:not(.ui-draggable)",i).draggable(n.isFunction(t.drag)?t.drag.call(n(i),t):t.drag)}var i=this,r,f;if(i.grid&&!i.p.treeGrid&&n.fn.draggable&&n.fn.droppable)if(n("#jqgrid_dnd")[0]===void 0&&n("body").append("<table id='jqgrid_dnd' class='ui-jqgrid-dnd'><\/table>"),typeof t=="string"&&t=="updateDnD"&&i.p.jqgdnd===!0)u();else if(t=n.extend({drag:function(t){return n.extend({start:function(r,u){var f;if(i.p.subGrid){f=n(u.helper).attr("id");try{n(i).jqGrid("collapseSubGridRow",f)}catch(e){}}for(f=0;f<n.data(i,"dnd").connectWith.length;f++)n(n.data(i,"dnd").connectWith[f]).jqGrid("getGridParam","reccount")=="0"&&n(n.data(i,"dnd").connectWith[f]).jqGrid("addRowData","jqg_empty_row",{});u.helper.addClass("ui-state-highlight");n("td",u.helper).each(function(n){this.style.width=i.grid.headers[n].width+"px"});t.onstart&&n.isFunction(t.onstart)&&t.onstart.call(n(i),r,u)},stop:function(r,u){var f;for(u.helper.dropped&&!t.dragcopy&&(f=n(u.helper).attr("id"),f===void 0&&(f=n(this).attr("id")),n(i).jqGrid("delRowData",f)),f=0;f<n.data(i,"dnd").connectWith.length;f++)n(n.data(i,"dnd").connectWith[f]).jqGrid("delRowData","jqg_empty_row");t.onstop&&n.isFunction(t.onstop)&&t.onstop.call(n(i),r,u)}},t.drag_opts||{})},drop:function(t){return n.extend({accept:function(t){return n(t).hasClass("jqgrow")?(t=n(t).closest("table.ui-jqgrid-btable"),t.length>0&&n.data(t[0],"dnd")!==void 0)?(t=n.data(t[0],"dnd").connectWith,n.inArray("#"+n.jgrid.jqID(this.id),t)!=-1?!0:!1):!1:t},drop:function(r,u){var f,o;if(n(u.draggable).hasClass("jqgrow")){if(f=n(u.draggable).attr("id"),f=u.draggable.parent().parent().jqGrid("getRowData",f),!t.dropbyname){var h=0,c={},e,s,l=n("#"+n.jgrid.jqID(this.id)).jqGrid("getGridParam","colModel");try{for(s in f)f.hasOwnProperty(s)&&(e=l[h].name,e=="cb"||e=="rn"||e=="subgrid"||f.hasOwnProperty(s)&&l[h]&&(c[e]=f[s]),h++);f=c}catch(a){}}u.helper.dropped=!0;t.beforedrop&&n.isFunction(t.beforedrop)&&(e=t.beforedrop.call(this,r,u,f,n("#"+n.jgrid.jqID(i.p.id)),n(this)),e!==void 0&&e!==null&&typeof e=="object"&&(f=e));u.helper.dropped&&(t.autoid&&(n.isFunction(t.autoid)?o=t.autoid.call(this,f):(o=Math.ceil(Math.random()*1e3),o=t.autoidprefix+o)),n("#"+n.jgrid.jqID(this.id)).jqGrid("addRowData",o,f,t.droppos));t.ondrop&&n.isFunction(t.ondrop)&&t.ondrop.call(this,r,u,f)}}},t.drop_opts||{})},onstart:null,onstop:null,beforedrop:null,ondrop:null,drop_opts:{activeClass:"ui-state-active",hoverClass:"ui-state-hover"},drag_opts:{revert:"invalid",helper:"clone",cursor:"move",appendTo:"#jqgrid_dnd",zIndex:5e3},dragcopy:!1,dropbyname:!1,droppos:"first",autoid:!0,autoidprefix:"dnd_"},t||{}),t.connectWith)for(t.connectWith=t.connectWith.split(","),t.connectWith=n.map(t.connectWith,function(t){return n.trim(t)}),n.data(i,"dnd",t),i.p.reccount=="0"||i.p.jqgdnd||u(),i.p.jqgdnd=!0,r=0;r<t.connectWith.length;r++)f=t.connectWith[r],n(f).droppable(n.isFunction(t.drop)?t.drop.call(n(i),t):t.drop)})},gridResize:function(t){return this.each(function(){var i=this,r=n.jgrid.jqID(i.p.id);i.grid&&n.fn.resizable&&(t=n.extend({},t||{}),t.alsoResize?(t._alsoResize_=t.alsoResize,delete t.alsoResize):t._alsoResize_=!1,t.stop&&n.isFunction(t.stop)?(t._stop_=t.stop,delete t.stop):t._stop_=!1,t.stop=function(u,f){n(i).jqGrid("setGridParam",{height:n("#gview_"+r+" .ui-jqgrid-bdiv").height()});n(i).jqGrid("setGridWidth",f.size.width,t.shrinkToFit);t._stop_&&t._stop_.call(i,u,f)},t.alsoResize=t._alsoResize_?eval("("+("{'#gview_"+r+" .ui-jqgrid-bdiv':true,'"+t._alsoResize_+"':true}")+")"):n(".ui-jqgrid-bdiv","#gview_"+r),delete t._alsoResize_,n("#gbox_"+r).resizable(t))})}})}(jQuery);